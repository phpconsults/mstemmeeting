'use strict';(function(){var U=this&&this.__extends||function(){var z=function(l,m){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var k in p)Object.prototype.hasOwnProperty.call(p,k)&&(g[k]=p[k])};return z(l,m)};return function(l,m){function g(){this.constructor=l}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");z(l,m);l.prototype=null===m?Object.create(m):(g.prototype=
m.prototype,new g)}}();(function(z){if(!(Object.defineProperty&&function(){try{var m={};Object.defineProperty(m,"x",{enumerable:!1,value:m});for(var g in m)if(m.hasOwnProperty(g))return!1;return m.x===m}catch(p){return!1}}()||z.definePropertyShamSet)){z.definePropertyShamSet=!0;var l=Object.defineProperty;Object.defineProperty=function(m,g,p){m instanceof Element?l(m,g,p):m[g]=p?p.value:!0}}})(window);var X,S,K;(function(z){function l(E,D){var u,C;D=D&&D.split("/");var G=d.map,I=G&&G["*"]||{};if(E){E=
E.split("/");var J=E.length-1;d.nodeIdCompat&&v.test(E[J])&&(E[J]=E[J].replace(v,""));"."===E[0].charAt(0)&&D&&(J=D.slice(0,D.length-1),E=J.concat(E));for(J=0;J<E.length;J++){var M=E[J];"."===M?(E.splice(J,1),--J):".."===M&&0!==J&&(1!==J||".."!==E[2])&&".."!==E[J-1]&&0<J&&(E.splice(J-1,2),J-=2)}E=E.join("/")}if((D||I)&&G){M=E.split("/");for(J=M.length;0<J;--J){var N=M.slice(0,J).join("/");if(D)for(C=D.length;0<C;--C)if(u=G[D.slice(0,C).join("/")])if(u=u[N]){var Q=u;var P=J;break}if(Q)break;if(!T&&
I&&I[N]){var T=I[N];var V=J}}!Q&&T&&(Q=T,P=V);Q&&(M.splice(0,P,Q),E=M.join("/"))}return E}function m(E,D){return function(){var u=t.call(arguments,0);"string"!==typeof u[0]&&1===u.length&&u.push(null);return b.apply(z,u.concat([E,D]))}}function g(E){return function(D){return l(D,E)}}function p(E){return function(D){c[E]=D}}function k(E){if(r.call(a,E)){var D=a[E];delete a[E];h[E]=!0;F.apply(z,D)}if(!r.call(c,E)&&!r.call(h,E))throw Error("No "+E);return c[E]}function f(E){var D=E?E.indexOf("!"):-1;
if(-1<D){var u=E.substring(0,D);E=E.substring(D+1,E.length)}return[u,E]}function e(E){return function(){return d&&d.config&&d.config[E]||{}}}var b,c={},a={},d={},h={},r=Object.prototype.hasOwnProperty,t=[].slice,v=/\.js$/;var y=function(E,D){E=f(E);var u=E[0];D=D[1];E=E[1];if(u){u=l(u,D);var C=k(u)}u?E=C&&C.normalize?C.normalize(E,g(D)):l(E,D):(E=l(E,D),E=f(E),u=E[0],E=E[1],u&&(C=k(u)));return{f:u?u+"!"+E:E,n:E,pr:u,p:C}};var B={require:function(E){return m(E)},exports:function(E){var D=c[E];return"undefined"!==
typeof D?D:c[E]={}},module:function(E){return{id:E,uri:"",exports:c[E],config:e(E)}}};var F=function(E,D,u,C){var G,I=[];var J=typeof u;var M=(C=C||E)?f(C):[];if("undefined"===J||"function"===J){D=!D.length&&u.length?["require","exports","module"]:D;for(G=0;G<D.length;G+=1){var N=y(D[G],M);J=N.f;if("require"===J)I[G]=B.require(E);else if("exports"===J){I[G]=B.exports(E);var Q=!0}else if("module"===J)var P=I[G]=B.module(E);else if(r.call(c,J)||r.call(a,J)||r.call(h,J))I[G]=k(J);else if(N.p)N.p.load(N.n,
m(C,!0),p(J),{}),I[G]=c[J];else throw Error(E+" missing "+J);}D=u?u.apply(c[E],I):void 0;E&&(P&&P.exports!==z&&P.exports!==c[E]?c[E]=P.exports:D===z&&Q||(c[E]=D))}else E&&(c[E]=u)};X=S=b=function(E,D,u,C,G){if("string"===typeof E)return B[E]?B[E](D):k(y(E,D?f(D):[]).f);if(!E.splice){d=E;d.deps&&b(d.deps,d.callback);if(!D)return;D.splice?(E=D,D=u,u=null):E=z}D=D||function(){};"function"===typeof u&&(u=C,C=G);C?F(z,E,D,u):setTimeout(function(){F(z,E,D,u)},4);return b};b.config=function(E){return b(E)};
X._defined=c;K=function(E,D,u){if("string"!==typeof E)throw Error("See almond README: incorrect module build, no module name");D.splice||(u=D,D=[]);r.call(c,E)||r.call(a,E)||(a[E]=[E,D,u])};K.amd={jQuery:!0}})();K("closed-captions/ttml-time-parser",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.TtmlTimeParser=void 0;z=function(){function m(g,p){this.mediaFrameRate=g;this.mediaTickRate=p}m.prototype.parse=function(g){if(!g)return 0;var p=m.absoluteTimeRegex.exec(g);
if(p&&3<p.length){g=3600*parseInt(p[1],10);var k=60*parseInt(p[2],10),f=parseInt(p[3],10),e=0;p[5]&&(e=1E3*parseFloat(p[4]));p[6]&&(e=Math.round(parseFloat(p[6])*this.getTimeUnitMultiplier("f")));return 1E3*(g+k+f)+e}return(p=m.relativeTimeRegex.exec(g))&&3<p.length?Math.round(parseFloat(p[1])*this.getTimeUnitMultiplier(p[3])):0};m.prototype.getTimeUnitMultiplier=function(g){switch(g){case "h":return 36E5;case "ms":return 1;case "m":return 6E4;case "s":return 1E3;case "f":return 1E3/this.mediaFrameRate;
case "t":return 1E3/this.mediaTickRate;default:return 0}};m.absoluteTimeRegex=/^(\d{1,}):(\d{2}):(\d{2})((\.\d{1,})|:(\d{2,}(\.\d{1,})?))?$/;m.relativeTimeRegex=/^(\d+(\.\d+)?)(ms|[hmsft])$/;return m}();l.TtmlTimeParser=z});K("mwf/utilities/stringExtensions",["require","exports"],function(z,l){function m(g){return g&&"string"===typeof g?g.trim?g.trim():g.replace(/^\s+|\s+$/g,""):g}Object.defineProperty(l,"__esModule",{value:!0});l.format=l.getMatchLength=l.endsWith=l.startsWith=l.trim=l.isNullOrWhiteSpace=
void 0;l.isNullOrWhiteSpace=function(g){return!g||"string"!==typeof g||!m(g)};l.trim=m;l.startsWith=function(g,p,k){void 0===k&&(k=!0);if(!g||!p)return!1;k&&(g=g.toLocaleLowerCase(),p=p.toLocaleLowerCase());return g.startsWith?g.startsWith(p):0===g.indexOf(p)};l.endsWith=function(g,p,k){void 0===k&&(k=!0);if(!g||!p)return!1;k&&(g=g.toLocaleLowerCase(),p=p.toLocaleLowerCase());return g.endsWith?g.endsWith(p):-1!==g.lastIndexOf(p)&&g.lastIndexOf(p)===g.length-p.length};l.getMatchLength=function(g,p,
k){void 0===k&&(k=!0);if(!g||!p)return 0;var f=0;k&&(g=g.toLocaleLowerCase(),p=p.toLocaleLowerCase());for(;g.charCodeAt(f)===p.charCodeAt(f);)f++;return f};l.format=function(g){for(var p=[],k=1;k<arguments.length;k++)p[k-1]=arguments[k];return g.replace(/{(\d+)}/g,function(f,e){if(e>=p.length)return f;f=p[e];return"number"===typeof f||f?"string"===typeof f?f:f.toString():""})}});K("mwf/utilities/utility",["require","exports","mwf/utilities/stringExtensions"],function(z,l,m){function g(a){return!isNaN(a)&&
"number"===typeof a}function p(){return window.innerWidth&&document.documentElement.clientWidth?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth}function k(a){a=decodeURIComponent(a.replace("/+/g"," "));0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));return a}function f(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];if(!a||!a.length)return null;d="boolean"===typeof a[0]&&a[0];if(2>
a.length)return d?null:a[0];if(d&&3>a.length)return a[1];for(var h=d?a[1]:a[0],r=d?2:1;r<a.length;r++)for(var t in a[r])if(a[r].hasOwnProperty(t)){var v=a[r][t];if(d){var y=Array.isArray?Array.isArray(v):"[object Array]"==={}.toString.call(v),B=!!h[t]&&(Array.isArray?Array.isArray(h[t]):"[object Array]"==={}.toString.call(h[t])),F=!y&&"object"===typeof v,E=!B&&!!h[t]&&"object"===typeof h[t];if(y&&B){for(var D=0;D<v.length;D++)y=Array.isArray?Array.isArray(v[D]):"[object Array]"==={}.toString.call(v[D]),
B=!!h[t][D]&&(Array.isArray?Array.isArray(h[t][D]):"[object Array]"==={}.toString.call(h[t][D])),F=!y&&"object"===typeof v[D],E=!B&&!!h[t][D]&&"object"===typeof h[t][D],h[t][D]=y?f(!0,B?h[t][D]:[],v[D]):F?f(!0,E?h[t][D]:{},v[D]):v[D];continue}else if(y){h[t]=f(!0,[],v);continue}else if(F){h[t]=f(!0,E?h[t]:{},v);continue}}h[t]=v}return h}function e(a,d){void 0===d&&(d=!0);return b(location.search,a,d)}function b(a,d,h){void 0===h&&(h=!0);if(!d||!a)return"";d="[\\?\x26]"+d+"\x3d([^\x26#]*)";a=(h?new RegExp(d,
"i"):new RegExp(d)).exec(a);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}function c(a,d,h){try{if(!d||void 0!==h&&!h)return null;switch(a){case 1:if(!window.localStorage)return null;if(void 0===h)return localStorage.getItem(d);localStorage.setItem(d,h);break;case 0:if(!window.sessionStorage)return null;if(void 0===h)return sessionStorage.getItem(d);sessionStorage.setItem(d,h)}}catch(r){switch(a){case 1:console.log("Error while fetching or saving local storage. It could be due to cookie is blocked.");
break;case 0:console.log("Error while fetching or saving session storage. It could be due to cookie is blocked.")}}}Object.defineProperty(l,"__esModule",{value:!0});l.Viewports=l.getValueFromLocalStorage=l.saveToLocalStorage=l.getValueFromSessionStorage=l.saveToSessionStorage=l.addQSP=l.getQSPFromUrl=l.getQSPValue=l.poll=l.extend=l.parseJson=l.toElapsedTimeString=l.getPerfMarkerValue=l.createPerfMarker=l.apiDeprecated=l.pointInRect=l.detectContrast=l.getCookie=l.setCookie=l.getKeyCode=l.getVirtualKey=
l.getDimensions=l.getWindowHeight=l.getWindowWidth=l.isNumber=void 0;l.isNumber=g;l.getWindowWidth=p;l.getWindowHeight=function(){return window.innerHeight&&document.documentElement.clientHeight?Math.min(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight};l.getDimensions=function(a){if(null!=a)return{width:a.clientWidth,height:a.clientHeight}};l.getVirtualKey=function(a){a=a||window.event;if(!a)return d;var d=a.key||a.keyIdentifier;
if(!d)return d;switch(d){case "Left":return"ArrowLeft";case "Right":return"ArrowRight";case "Up":return"ArrowUp";case "Down":return"ArrowDown";case "Esc":return"Escape";default:return d}};l.getKeyCode=function(a){a=a||window.event;return null==a?null:a.which||a.keyCode||a.charCode};l.setCookie=function(a,d,h,r,t){var v="";r&&(v=new Date,v.setTime(v.getTime()+864E5*r),v="; expires\x3d"+v.toUTCString());r="";t&&(r=";domain\x3d"+t);window.document.cookie=a+"\x3d"+encodeURIComponent(d)+v+("; path\x3d"+
h+";")+r};l.getCookie=function(a){if(a)for(var d=0,h=document.cookie.split("; ");d<h.length;d++){var r=h[d],t=r.indexOf("\x3d");t=k(r.substring(0,t));if(t===a)return k(r.substring(t.length+1))}return null};l.detectContrast=function(a){if(a&&6===a.length){var d=parseInt(a.substring(0,2),16),h=parseInt(a.substring(2,4),16);a=parseInt(a.substring(4,6),16);if(!isNaN(d)&&!isNaN(h)&&!isNaN(a))return.5<=(299*d+587*h+114*a)/255E3?2:1}return null};l.pointInRect=function(a,d,h){return h&&g(a)&&g(d)&&g(h.left)&&
g(h.right)&&g(h.top)&&g(h.bottom)?a>=h.left&&a<=h.right&&d>=h.top&&d<=h.bottom:!1};l.apiDeprecated=function(a){console&&console.warn?console.warn(a):console&&console.error&&console.error(a)};l.createPerfMarker=function(a,d){!d&&0>e("item").toLowerCase().indexOf("perf_marker_global:true")||m.isNullOrWhiteSpace(a)||!window.performance||!window.performance.mark||(a=a.split(" ").join("_"),window.performance.mark(a),window.console&&window.console.timeStamp&&window.console.timeStamp(a))};l.getPerfMarkerValue=
function(a){if(m.isNullOrWhiteSpace(a)||!window.performance||!window.performance.mark)return 0;a=a.split(" ").join("_");return(a=window.performance.getEntriesByName(a))&&a.length?Math.round(a[a.length-1].startTime):0};l.toElapsedTimeString=function(a,d){if(!g(a))return"00:00";var h=0>a;h&&(a*=-1);var r=Math.floor(a/3600);a%=3600;var t=Math.floor(a/60);a=Math.floor(a%60);d=(d?0<r?r+":":"00:":0<r?r+":":"")+((10>t?"0":"")+t)+(":"+(0===a?"00":(10>a?"0":"")+a));return h?"-"+d:d};l.parseJson=function(a){if(!JSON||
!JSON.parse)throw Error("JSON.parse unsupported.");if(!a)throw Error("Invalid json.");return JSON.parse(a)};l.extend=f;l.poll=function(a,d,h,r,t){var v=!h||0>h?-1:Number(new Date)+h;d=d||100;(function B(){var F=a();F&&r?r():F||(-1===v||Number(new Date)<v?setTimeout(B,d):t&&t())})()};l.getQSPValue=e;l.getQSPFromUrl=function(a,d,h){void 0===h&&(h=!0);return b(a,d,h)};l.addQSP=function(a,d){if(!d)return a;if(-1===a.indexOf("//"))throw'To avoid unexpected results in URL parsing, url must begin with "http://", "https://", or "//"';
var h=document.createElement("a");h.href=a;h.search=(h.search?h.search+"\x26":"?")+d;return h.href};l.saveToSessionStorage=function(a,d){c(0,a,d)};l.getValueFromSessionStorage=function(a){return c(0,a)};l.saveToLocalStorage=function(a,d){c(1,a,d)};l.getValueFromLocalStorage=function(a){return c(1,a)};(function(a){a.allWidths=[320,540,768,1084,1400,1779];a.vpMin=a.allWidths[0];a.vpMax=2048;a.getViewport=function(){if(window.matchMedia)for(var d=0;d<a.allWidths.length;++d){if(!window.matchMedia("(min-width:"+
a.allWidths[d]+"px)").matches)return d}else for(d=0;d<a.allWidths.length;++d)if(!(p()>=a.allWidths[d]))return d;return a.allWidths.length}})(l.Viewports||(l.Viewports={}))});K("closed-captions/ttml-settings",["require","exports","mwf/utilities/utility"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});l.TtmlSettings=l.xmlNS=void 0;l.xmlNS="http://www.w3.org/XML/1998/namespace";z=function(){return function(g){this.ttmlNamespace="http://www.w3.org/ns/ttml";this.ttmlStyleNamespace="http://www.w3.org/ns/ttml#styling";
this.ttmlParameterNamespace="http://www.w3.org/ns/ttml#parameter";this.ttmlMetaNamespace="http://www.w3.org/ns/ttml#metadata";this.idPrefix="";this.mediaFrameRate=30;this.mediaSubFrameRate=this.mediaFrameRateMultiplier=1;this.mediaTickRate=1E3;this.supportedTimeBase="media";this.cellResolution={rows:15,columns:32};this.defaultRegionStyle={backgroundColor:"transparent",color:"#E8E9EA",direction:"ltr",display:"auto",displayAlign:"before",extent:"auto",fontFamily:"default",fontSize:"1c",fontStyle:"normal",
fontWeight:"normal",lineHeight:"normal",opacity:"1",origin:"auto",overflow:"hidden",padding:"0",showBackground:"always",textAlign:"start",textDecoration:"none",textOutline:"none",unicodeBidi:"normal",visibility:"visible",wrapOption:"normal",writingMode:"lrtb"};this.fontMap={};this.fontMap["default"]="Lucida sans typewriter, Lucida console, Consolas";this.fontMap.monospaceSerif="Courier";this.fontMap.proportionalSerif="Times New Roman, Serif";this.fontMap.monospaceSansSerif="Lucida sans typewriter, Lucida console, Consolas";
this.fontMap.proportionalSansSerif="Arial, Sans-serif";this.fontMap.casual="Verdana";this.fontMap.cursive="Zapf-Chancery, Segoe script, Cursive";this.fontMap.smallCaps="Arial, Helvetica";this.fontMap.monospace="Lucida sans typewriter, Lucida console, Consolas";this.fontMap.sansSerif="Arial, Sans-serif";this.fontMap.serif="Times New Roman, Serif";g&&m.extend(this,g)}}();l.TtmlSettings=z});K("constants/interfaces",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0})});
K("mwf/utilities/htmlExtensions",["require","exports","mwf/utilities/stringExtensions"],function(z,l,m){function g(u,C,G,I){void 0===I&&(I=!1);var J=0;for(u=t(u);J<u.length;J++)y(u[J],G,I,D[C])}function p(u,C){!u||m.isNullOrWhiteSpace(C)||f(u,C)||(u.classList?u.classList.add(C):u.className=m.trim(u.className+" "+C))}function k(u,C){if(u&&!m.isNullOrWhiteSpace(C)){var G=" "+m.trim(C)+" ",I=0;for(u=t(u);I<u.length;I++){var J=u[I];if(J.classList)J.classList.remove(C);else if(!m.isNullOrWhiteSpace(J.className)){for(var M=
" "+J.className+" ";-1<M.indexOf(G);)M=M.replace(G," ");J.className=m.trim(M)}}}}function f(u,C){return!u||m.isNullOrWhiteSpace(C)?!1:u.classList?u.classList.contains(C):-1<(" "+u.className+" ").indexOf(" "+m.trim(C)+" ")}function e(u,C){if(m.isNullOrWhiteSpace(u)||"#"===u)return[];C=C||document;if(/^[#.]?[\w-]+$/.test(u))switch(u[0]){case ".":if(C.getElementsByClassName)return c(C.getElementsByClassName(u.slice(1)));break;case "#":return(u=C.querySelector(u))?[u]:[]}return b(C.querySelectorAll(u))}
function b(u){if(!u)return[];for(var C=[],G=0;G<u.length;G++)C.push(u[G]);return C}function c(u){if(!u)return[];for(var C=[],G=0;G<u.length;G++)C.push(u[G]);return C}function a(u){if(u){var C=u.getBoundingClientRect(),G={},I;for(I in C)G[I]=C[I];"undefined"===typeof G.width&&(G.width=u.offsetWidth);"undefined"===typeof G.height&&(G.height=u.offsetHeight);return G}}function d(u,C,G){if(!u)return null;if(G||""===G)u.style[C]=G;else return G=u.style[C],m.isNullOrWhiteSpace(G)&&(G=getComputedStyle(u),
G=G[C]),G}function h(u,C,G,I){if(u&&C&&G){var J=0;for(u=t(u);J<u.length;J++)B(u[J],G,I,D[C])}}function r(u){return Array.isArray?Array.isArray(u):"[object Array]"==={}.toString.call(u)}function t(u){return r(u)?u:[u]}function v(u){return u||window.event}function y(u,C,G,I){void 0===G&&(G=!1);u&&(window.addEventListener?u.addEventListener(I,C,G):u.attachEvent("on"+I,C))}function B(u,C,G,I){void 0===G&&(G=!1);u&&(window.removeEventListener?u.removeEventListener(I,C,G):u.detachEvent("on"+I,C))}Object.defineProperty(l,
"__esModule",{value:!0});l.preventDefaultSwipeAction=l.getParent=l.getCoordinates=l.isImageLoadFailed=l.isImageLoadedSuccessfully=l.scrollElementIntoView=l.getOffsetParent=l.getScrollY=l.stopPropagation=l.customEvent=l.getEvent=l.getEventTargetOrSrcElement=l.removeInnerHtml=l.setText=l.getText=l.isDescendantOrSelf=l.isDescendant=l.toArray=l.isArray=l.removeEvent=l.css=l.getClientRectWithMargin=l.getClientRect=l.getDirection=l.htmlCollectionToArray=l.nodeListToArray=l.selectElementsFromSelectors=l.selectFirstElementT=
l.selectElementsT=l.selectFirstElement=l.selectElements=l.removeElement=l.hasClass=l.addAttribute=l.addClasses=l.removeClasses=l.removeClass=l.addClass=l.onDeferred=l.documentReady=l.addDebouncedEvent=l.addThrottledEvents=l.addThrottledEvent=l.preventDefault=l.removeEvents=l.addEvents=l.addEvent=l.eventTypes=l.Direction=l.SafeBrowserApis=void 0;var F;(function(u){u.requestAnimationFrame=window.requestAnimationFrame||function(C){"function"===typeof C&&window.setTimeout(C,16.7)}})(F=l.SafeBrowserApis||
(l.SafeBrowserApis={}));var E;(function(u){u[u.right=0]="right";u[u.left=1]="left"})(E=l.Direction||(l.Direction={}));var D;(function(u){u[u.animationend=0]="animationend";u[u.blur=1]="blur";u[u.change=2]="change";u[u.click=3]="click";u[u.DOMContentLoaded=4]="DOMContentLoaded";u[u.DOMNodeInserted=5]="DOMNodeInserted";u[u.DOMNodeRemoved=6]="DOMNodeRemoved";u[u.ended=7]="ended";u[u.error=8]="error";u[u.focus=9]="focus";u[u.focusin=10]="focusin";u[u.focusout=11]="focusout";u[u.input=12]="input";u[u.load=
13]="load";u[u.keydown=14]="keydown";u[u.keypress=15]="keypress";u[u.keyup=16]="keyup";u[u.loadedmetadata=17]="loadedmetadata";u[u.mousedown=18]="mousedown";u[u.mousemove=19]="mousemove";u[u.mouseout=20]="mouseout";u[u.mouseover=21]="mouseover";u[u.mouseup=22]="mouseup";u[u.onreadystatechange=23]="onreadystatechange";u[u.resize=24]="resize";u[u.scroll=25]="scroll";u[u.submit=26]="submit";u[u.timeupdate=27]="timeupdate";u[u.touchcancel=28]="touchcancel";u[u.touchend=29]="touchend";u[u.touchmove=30]=
"touchmove";u[u.touchstart=31]="touchstart";u[u.wheel=32]="wheel"})(D=l.eventTypes||(l.eventTypes={}));l.addEvent=g;l.addEvents=function(u,C,G,I){void 0===I&&(I=!1);if(!m.isNullOrWhiteSpace(C)){var J=0;for(u=t(u);J<u.length;J++)for(var M=u[J],N=0,Q=C.split(/\s+/);N<Q.length;N++){var P=Q[N];m.isNullOrWhiteSpace(P)||y(M,G,I,P)}}};l.removeEvents=function(u,C,G,I){void 0===I&&(I=!1);var J=0;for(u=t(u);J<u.length;J++)for(var M=u[J],N=0,Q=t(C);N<Q.length;N++){var P=Q[N];m.isNullOrWhiteSpace(P)||B(M,G,I,
P)}};l.preventDefault=function(u){if(u=v(u))u.preventDefault?u.preventDefault():u.returnValue=!1};l.addThrottledEvent=function(u,C,G,I){void 0===I&&(I=150);var J=null,M=0,N=function(Q){var P=Date.now();J&&(clearTimeout(J),J=void 0);M&&P<M+I?J=setTimeout(function(){M=Date.now();G(Q)},I-(P-M)):(M=P,G(Q))};g(u,C,N);return N};l.addThrottledEvents=function(u,C,G,I,J){function M(A){var q=null,w=0;return function(n){var x=Date.now();clearTimeout(q);w&&x<w+J?q=setTimeout(function(){w=x;A(n)},J-(x-w)):(w=
x,A(n))}}void 0===I&&(I=!1);void 0===J&&(J=150);if(!m.isNullOrWhiteSpace(C)){var N=0;for(u=t(u);N<u.length;N++)for(var Q=u[N],P=0,T=C.split(/\s+/);P<T.length;P++){var V=T[P];if(!m.isNullOrWhiteSpace(V)){var W=M(G);y(Q,W,I,V)}}}};l.addDebouncedEvent=function(u,C,G,I){void 0===I&&(I=150);var J=null,M=function(N){window.clearTimeout(J);J=setTimeout(function(){G(N)},I)};g(u,C,M);return M};l.documentReady=function(u,C){void 0===C&&(C=5E3);if("complete"===document.readyState)u.call(null);else if(document.attachEvent||
"interactive"!==document.readyState){var G=null,I=function(N){clearTimeout(G);J&&h(document,D.DOMContentLoaded,J);M&&h(document,D.onreadystatechange,M);F.requestAnimationFrame.call(window,u)};G=setTimeout(function(){I()},C);if(document.addEventListener){var J=function(){I()};g(document,D.DOMContentLoaded,J,!1)}else if(document.attachEvent){var M=function(){"complete"===document.readyState&&I()};g(document,D.onreadystatechange,M,!1)}}else u.call(null)};l.onDeferred=function(u,C){void 0===C&&(C=5E3);
var G=setTimeout(function(){clearTimeout(G);h(window,D.load,I);u.call(null)},C);var I=function(){clearTimeout(G);F.requestAnimationFrame.call(window,u)};"complete"===document.readyState?(clearTimeout(G),u.call(null)):g(window,D.load,I)};l.addClass=p;l.removeClass=k;l.removeClasses=function(u,C){if(C)for(var G=0;G<C.length;G++)k(u,C[G])};l.addClasses=function(u,C){if(C)for(var G=0;G<C.length;G++)p(u,C[G])};l.addAttribute=function(u,C){if(u&&C)for(var G=0;G<C.length;G++){var I=C[G];m.isNullOrWhiteSpace(I.name)||
m.isNullOrWhiteSpace(I.value)||u.setAttribute(I.name,I.value)}};l.hasClass=f;l.removeElement=function(u){return u?u.parentElement.removeChild(u):u};l.selectElements=function(u,C){return e(u,C)};l.selectFirstElement=function(u,C){return(u=e(u,C))&&u.length?u[0]:null};l.selectElementsT=e;l.selectFirstElementT=function(u,C){return(u=e(u,C))&&u.length?u[0]:null};l.selectElementsFromSelectors=function(u,C){C=C||document;var G,I=0;for(u=u.split(",");I<u.length;I++)G+=this.selectElements(u[I],C);return G};
l.nodeListToArray=b;l.htmlCollectionToArray=c;l.getDirection=function(u){void 0===u&&(u=document.documentElement);for(;null!==u;){var C=u.getAttribute("dir");if(C)return"rtl"===C?E.right:E.left;u=u.parentElement}return E.left};l.getClientRect=a;l.getClientRectWithMargin=function(u){if(u)return{width:parseFloat(a(u).width)+parseFloat(d(u,"margin-left"))+parseFloat(d(u,"margin-right")),height:parseFloat(a(u).height)+parseFloat(d(u,"margin-top"))+parseFloat(d(u,"margin-bottom"))}};l.css=d;l.removeEvent=
h;l.isArray=r;l.toArray=t;l.isDescendant=function(u,C){return!!u&&u!==C&&u.contains(C)};l.isDescendantOrSelf=function(u,C){return!!u&&u.contains(C)};l.getText=function(u){return u?u.textContent||u.innerText||"":""};l.setText=function(u,C){u&&null!==C&&(u.textContent?u.textContent=C:u.innerHTML=C)};l.removeInnerHtml=function(u){u&&(u.innerHTML="")};l.getEventTargetOrSrcElement=function(u){u=v(u);return u.target||u.srcElement};l.getEvent=v;l.customEvent=function(u,C,G){void 0===G&&(G={});if(!u||!C)return null;
C="string"===typeof C?C:D[C];G.bubbles="undefined"===typeof G.bubbles?!0:G.bubbles;G.cancelable="undefined"===typeof G.cancelable?!0:G.cancelable;if(window.CustomEvent&&"function"===typeof window.CustomEvent){var I=new CustomEvent(C,G);G.changedTouches&&G.changedTouches.length&&(I.changedTouches=G.changedTouches)}else if(document.createEvent)I=document.createEvent("CustomEvent"),I.initCustomEvent(C,G.bubbles,G.cancelable,G.detail),G.changedTouches&&G.changedTouches.length&&(I.changedTouches=G.changedTouches);
else{I=document.createEventObject();try{u.fireEvent("on"+C,I)}catch(J){return}return I}u.dispatchEvent(I);return I};l.stopPropagation=function(u){u.stopPropagation?u.stopPropagation():u.returnValue=!1};l.getScrollY=function(u){void 0===u&&(u=window);return u.scrollY||u.pageYOffset||("CSS1Compat"===u.document.compatMode?u.document.documentElement.scrollTop:u.document.body.scrollTop)};l.getOffsetParent=function(u){if(!u)return window.document.documentElement;var C=u.ownerDocument.documentElement;for(u=
u.offsetParent;u&&"static"==d(u,"position");)u=u.offsetParent;return u||C};l.scrollElementIntoView=function(u,C){if(u&&C){var G=C.clientHeight,I=C.scrollHeight;I>G&&(C.scrollTop=Math.min(u.offsetTop-C.firstElementChild.offsetTop,I-G))}};l.isImageLoadedSuccessfully=function(u){return"undefined"!==typeof u.complete&&"undefined"!==typeof u.naturalHeight?u&&u.complete&&0<u.naturalHeight:!0};l.isImageLoadFailed=function(u){return u&&"undefined"!==typeof u.complete&&"undefined"!==typeof u.naturalHeight?
u&&u.complete&&0==u.naturalWidth&&0==u.naturalHeight:!1};l.getCoordinates=function(u){var C=u.touches&&u.touches.length?u.touches:[u];u=u.changedTouches&&u.changedTouches[0]||C[0];return{x:u.clientX,y:u.clientY}};l.getParent=function(u,C){for(var G=u.matches||u.webkitMatchesSelector||u.mozMatchesSelector||u.msMatchesSelector;u&&!G.call(u,C);)u=u.parentElement;return u};l.preventDefaultSwipeAction=function(u,C){void 0===C&&(C=!0);u&&(window.PointerEvent||window.navigator.pointerEnabled)&&d(u,"touchAction",
C?"pan-y":"pan-x")}});K("closed-captions/ttml-parser","require exports closed-captions/ttml-context closed-captions/ttml-time-parser closed-captions/ttml-settings mwf/utilities/htmlExtensions mwf/utilities/stringExtensions".split(" "),function(z,l,m,g,p,k,f){Object.defineProperty(l,"__esModule",{value:!0});l.TtmlParser=void 0;z=function(){function e(){}e.parse=function(b,c){b="string"===typeof b?e.parseXml(b):b;var a=new m.TtmlContext;a.settings=new p.TtmlSettings(c);a.root=e.verifyRoot(b,a);a.body=
e.getFirstElementByTagNameNS(a.root,"body",a.settings.ttmlNamespace);a.events=[];a.styleSetCache=[];a.body&&(e.parseTtAttrs(a),b=e.ensureRegions(a),c=e.getAttributeNS(a.root,"timeBase",a.settings.ttmlParameterNamespace)||"media",-1!==a.settings.supportedTimeBase.indexOf(c)&&(e.processAnonymousSpans(a,a.body),c=new g.TtmlTimeParser(a.settings.mediaFrameRate,a.settings.mediaTickRate),e.applyTiming(a,a.root,{start:e.mediaStart,end:e.mediaEnd},!0,c),e.applyStyling(a,b)),a.events.push({time:e.mediaEnd,
element:null}),a.events.sort(function(d,h){return d.time-h.time}));return a};e.parseXml=function(b){if(window.DOMParser){var c=new window.DOMParser;b=c.parseFromString(b,"application/xml")}else c=new window.ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(b),b=c;return b};e.verifyRoot=function(b,c){b=b.documentElement;if("tt"===e.getLocalTagName(b)){"http://www.w3.org/ns/ttml"!==b.namespaceURI&&(c.settings.ttmlNamespace=b.namespaceURI,c.settings.ttmlStyleNamespace=c.settings.ttmlNamespace+"#styling",
c.settings.ttmlParameterNamespace=c.settings.ttmlNamespace+"#parameter",c.settings.ttmlMetaNamespace=c.settings.ttmlNamespace+"#metadata");var a=b}return a};e.parseTtAttrs=function(b){var c=e.getAttributeNS(b.root,"cellResolution",b.settings.ttmlParameterNamespace),a=e.getAttributeNS(b.root,"extent",b.settings.ttmlStyleNamespace),d=null;if(c){var h=f.trim(c).split(/\s+/);2===h.length&&(c=Math.round(parseFloat(h[0])),h=Math.round(parseFloat(h[1])),0<h&&0<c&&(d={rows:h,columns:c}))}d&&(b.settings.cellResolution=
d);a&&"auto"!==a&&(d=a.split(/\s+/),2===d.length&&"px"===d[0].substr(d[0].length-2)&&"px"===d[1].substr(d[1].length-2)&&(a=parseFloat(d[0].substr(0,d[0].length-2)),d=parseFloat(d[1].substr(0,d[1].length-2)),b.settings.rootContainerRegionDimensions={width:Math.round(a),height:Math.round(d)}))};e.ensureRegions=function(b){b.rootContainerRegion=b.root.ownerDocument.createElementNS(b.settings.ttmlNamespace,"rootcontainerregion");b.root.appendChild(b.rootContainerRegion);var c=b.settings.rootContainerRegionDimensions?
f.format("{0}px {1}px",b.settings.rootContainerRegionDimensions.width,b.settings.rootContainerRegionDimensions.height):"auto";b.rootContainerRegion.setAttributeNS(b.settings.ttmlStyleNamespace,"extent",c);c=e.getFirstElementByTagNameNS(b.root,"head",b.settings.ttmlNamespace);c||(c=b.root.ownerDocument.createElementNS(b.settings.ttmlNamespace,"head"),b.root.appendChild(c));b.layout=e.getFirstElementByTagNameNS(c,"layout",b.settings.ttmlNamespace);b.layout||(b.layout=b.root.ownerDocument.createElementNS(b.settings.ttmlNamespace,
"layout"),b.root.appendChild(b.layout));if(!b.layout.getElementsByTagNameNS(b.settings.ttmlNamespace,"region").length){var a=b.root.ownerDocument.createElementNS(b.settings.ttmlNamespace,"region");a.setAttributeNS(p.xmlNS,"id","anonymous");a.setAttribute("data-isanonymous","1");b.layout.appendChild(a);b.body.setAttributeNS(b.settings.ttmlNamespace,"region","anonymous")}return c};e.processAnonymousSpans=function(b,c){if(e.isTagNS(c,"p",b.settings.ttmlNamespace)){for(var a=[],d=void 0,h=0,r=k.nodeListToArray(c.childNodes);h<
r.length;h++){var t=r[h];t.nodeType===Node.TEXT_NODE&&(d!==Node.TEXT_NODE&&a.push([]),a[a.length-1].push(t));d=t.nodeType}for(t=0;t<a.length;t++)for(d=a[t],h=b.root.ownerDocument.createElementNS(b.settings.ttmlNamespace,"span"),h.appendChild(d[0].parentNode.replaceChild(h,d[0])),r=1;r<d.length;r++)h.appendChild(d[r])}a=0;for(c=k.nodeListToArray(c.childNodes);a<c.length;a++)t=c[a],this.processAnonymousSpans(b,t)};e.applyTiming=function(b,c,a,d,h){var r=e.getAttributeNS(c,"begin",b.settings.ttmlNamespace),
t=r?h.parse(r):a.start,v=r=0,y=0;v=e.getAttributeNS(c,"dur",b.settings.ttmlNamespace);y=e.getAttributeNS(c,"end",b.settings.ttmlNamespace);v||y?v&&y?(v=h.parse(v),y=h.parse(y),r=Math.min(Math.min(t+v,a.start+y),a.end)):y?(y=h.parse(y),r=Math.min(a.start+y,a.end)):(v=h.parse(v),r=Math.min(t+v,a.end)):d&&(t<=a.end?(Math.max(0,a.end-t),r=a.end):r=0);r<t&&(r=t);t=Math.floor(t);r=Math.floor(r);c.setAttribute("data-time-start",t.toString());c.setAttribute("data-time-end",r.toString());0<=t&&0>=b.events.filter(function(B){return B.time===
t}).length&&b.events.push({time:t,element:c});a=t;d=0;for(v=k.nodeListToArray(c.childNodes);d<v.length;d++)y=v[d],y.nodeType===Node.ELEMENT_NODE&&("seq"!==e.getAttributeNS(c,"timeContainer",b.settings.ttmlNamespace)?this.applyTiming(b,y,{start:t,end:r},!0,h):(this.applyTiming(b,y,{start:a,end:r},!1,h),a=parseInt(y.getAttribute("data-time-end"),10)))};e.applyStyling=function(b,c){c=(c=e.getFirstElementByTagNameNS(c,"styling",b.settings.ttmlNamespace))?k.htmlCollectionToArray(c.getElementsByTagNameNS(b.settings.ttmlNamespace,
"style")):[];for(var a=0,d=k.nodeListToArray(b.root.querySelectorAll("*"));a<d.length;a++)this.applyStyle(b,d[a],c)};e.applyStyle=function(b,c,a){var d={};this.applyStylesheet(b.settings,d,c,a);e.applyInlineStyles(b.settings,d,c);a=!0;for(var h in d)if(d.hasOwnProperty(h)){a=!1;break}a||(c.setAttribute("data-styleSet",b.styleSetCache.length.toString()),b.styleSetCache.push(d))};e.applyStylesheet=function(b,c,a,d){for(var h=e.getAttributeNS(a,"style",b.ttmlNamespace),r=0,t=h?h.split(/\s+/):[];r<t.length;r++)for(var v=
t[r],y=0,B=d;y<B.length;y++)h=B[y],e.getAttributeNS(h,"id",p.xmlNS)===v&&(this.applyStylesheet(b,c,h,d),e.applyInlineStyles(b,c,h));if(e.isTagNS(a,"region",b.ttmlNamespace))for(d=0,a=k.htmlCollectionToArray(a.getElementsByTagNameNS(b.ttmlNamespace,"style"));d<a.length;d++)h=a[d],e.applyInlineStyles(b,c,h)};e.applyInlineStyles=function(b,c,a){var d=0;for(a=k.htmlCollectionToArray(a.attributes);d<a.length;d++){var h=a[d];h.namespaceURI===b.ttmlStyleNamespace&&(c[e.getLocalTagName(h)]=f.trim(h.nodeValue))}};
e.getLocalTagName=function(b){return b.localName||b.baseName};e.isTagNS=function(b,c,a){return b.namespaceURI===a&&this.getLocalTagName(b)===c};e.getAttributeNS=function(b,c,a){var d=b.getAttributeNS(a,c);if(!d){var h=0;for(b=k.htmlCollectionToArray(b.attributes);h<b.length;h++){var r=b[h];if(r.localName===c&&r.lookupNamespaceURI(r.prefix)===a){d=r.value;break}}}return d};e.getFirstElementByTagNameNS=function(b,c,a){return b&&(b=b.getElementsByTagNameNS(a,c))&&b.length?b[0]:null};e.mediaStart=-1;
e.mediaEnd=99999999;return e}();l.TtmlParser=z});K("closed-captions/ttml-context","require exports closed-captions/ttml-parser closed-captions/ttml-settings mwf/utilities/htmlExtensions mwf/utilities/stringExtensions mwf/utilities/utility".split(" "),function(z,l,m,g,p,k,f){Object.defineProperty(l,"__esModule",{value:!0});l.TtmlContext=void 0;z=function(){function e(){var b=this;this.translateToHtml=function(c,a,d){var h=b.getTagNameEquivalent(c),r="",t="";switch(h){case "ttml:region":t="cue ";case "ttml:rootcontainerregion":case "ttml:body":case "ttml:div":r=
"div";break;case "ttml:p":r="p";break;case "ttml:span":r="span";break;case "ttml:br":r="br"}var v=m.TtmlParser.getAttributeNS(c,"role",b.settings.ttmlMetaNamespace);v&&(t+=" "+v);var y=m.TtmlParser.getAttributeNS(c,"agent",b.settings.ttmlMetaNamespace);y&&(t+=" "+y);"x-ruby"===v?r="ruby":"x-rubybase"===v?r="rb":"x-rubytext"===v&&(r="rt");if(!k.isNullOrWhiteSpace(r)){var B=e.defaultStyle(b.ownerDocument.createElement(r));p.addClass(B,k.trim(t));(r=m.TtmlParser.getAttributeNS(c,"title",b.settings.ttmlMetaNamespace))&&
B.setAttribute("title",r);(c=m.TtmlParser.getAttributeNS(c,"id",g.xmlNS))&&b.settings.idPrefix&&B.setAttribute("id",b.settings.idPrefix+c);if("ttml:region"===h){var F=B.appendChild(e.defaultStyle(b.ownerDocument.createElement("div")));p.css(F,"display","table");p.css(F,"border-spacing","0");p.css(F,"cell-spacing","0");p.css(F,"cell-padding","0");p.css(F,"width","100%");p.css(F,"height","100%");F=F.appendChild(e.defaultStyle(b.ownerDocument.createElement("div")));p.css(F,"display","table-cell");a.displayAlign&&
(b.translateStyle(h,F,{displayAlign:a.displayAlign}),a.displayAlign=null)}d&&"ttml:span"===h&&(F=B.appendChild(e.defaultStyle(b.ownerDocument.createElement("span"))),p.css(F,"white-space","pre"));p.css(B,"position","static");p.css(B,"width","100%");b.translateStyle(h,B,a)}return{outerNode:B,innerNode:F?F:B}}}e.prototype.setOwnerDocument=function(b){this.ownerDocument=b};e.prototype.updateRelatedMediaObjectRegion=function(b){return this.settings.relatedMediaObjectRegion&&b.width===this.settings.relatedMediaObjectRegion.width&&
b.height===this.settings.relatedMediaObjectRegion.height?!1:(this.settings.relatedMediaObjectRegion={width:b.width,height:b.height},!0)};e.prototype.hasEvents=function(){return this.events&&!!this.events.length};e.prototype.resetCurrentEvents=function(){this.currentEvents=[]};e.prototype.updateCurrentEvents=function(b){var c=this.getTemporallyActiveEvents(b),a=this.currentEvents?this.currentEvents.length:0;if(a!==(c?c.length:0))return this.currentEventsTime=b,this.currentEvents=c,!0;if(this.currentEvents)for(var d=
0;d<a;d++)if(this.currentEvents[d].time!==c[d].time)return this.currentEventsTime=b,this.currentEvents=c,!0;return!1};e.prototype.getTemporallyActiveEvents=function(b){var c=this;return this.events.filter(function(a){return a.element?c.isTemporallyActive(a.element,b):!0})};e.prototype.isTemporallyActive=function(b,c){return(parseInt(b.getAttribute("data-time-start"),10)||0)<=c&&c<(parseInt(b.getAttribute("data-time-end"),10)||0)};e.prototype.getCues=function(b){var c=[];this.currentEventsTime!==b&&
this.updateCurrentEvents(b);for(var a="preserve"===m.TtmlParser.getAttributeNS(this.root,"space",g.xmlNS),d=0,h=this.layout?this.layout.getElementsByTagNameNS(this.settings.ttmlNamespace,"region"):[];d<h.length;d++){var r=h[d],t=m.TtmlParser.getAttributeNS(r,"id",g.xmlNS),v=r.getAttribute("data-isanonymous");if(v||t){var y=this.translate(r,this.settings.defaultRegionStyle,a,b,this.translateToHtml);if(y.outerNode){r=y.innerNode;for(var B=y.outerNode,F=0,E=this.events;F<E.length;F++){var D=E[F];if(D.element&&
this.isInRegion(D.element,v?null:t)){D=this.prune(D.element,y.inheritableStyleSet,a,b,this.translateToHtml);var u=D.prunedElement;D.hasPreservedContent||!u||k.trim(p.getText(u)).length||(u=null);u&&r.appendChild(u)}}if((t="always"===B.getAttribute("data-showBackground"))||r.children.length)t&&B.removeAttribute("data-showBackground"),c.push(B)}}}if(c.length){b=this.translate(this.rootContainerRegion,{overflow:"hidden",padding:"0"},!1,b,this.translateToHtml);for(a=0;a<c.length;a++)b.innerNode.appendChild(c[a]);
c=[];c.push(b.outerNode)}return c};e.prototype.translate=function(b,c,a,d,h){if(this.isTemporallyActive(b,d)){var r=this.getTagNameEquivalent(b);var t=this.getComputedStyleSet(b,c,r,d);if("none"!==t.display){c=this.getApplicableStyleSet(t,r);var v=h(b,c,a)}}return v?{outerNode:v.outerNode,innerNode:v.innerNode,inheritableStyleSet:this.getInheritableStyleSet(t)}:{outerNode:null,innerNode:null,inheritableStyleSet:null}};e.prototype.translateStyle=function(b,c,a){for(var d in a)a[d]&&this.applyStyle(c,
b,d,a[d])};e.prototype.prune=function(b,c,a,d,h,r){void 0===r&&(r=!1);var t=!1,v=this.translate(b,c,a,d,h);if(null!==v.outerNode){var y=this.getTagNameEquivalent(b);var B=v.outerNode;for(var F=v.innerNode,E=0,D=p.nodeListToArray(b.childNodes);E<D.length;E++){var u=D[E];if(u.nodeType!==Node.COMMENT_NODE)if(u.nodeType===Node.TEXT_NODE)F.appendChild(document.createTextNode(u.data)),a&&"ttml:span"===y&&(t=!0);else{var C=a,G=m.TtmlParser.getAttributeNS(u,"space",g.xmlNS);G&&(C="preserve"===G);u=this.prune(u,
v.inheritableStyleSet,C,d,h,!0);t=t||u.hasPreservedContent;u.prunedElement&&F.appendChild(u.prunedElement)}}if(!r)for(b=b.parentNode;null!==b&&b.nodeType===Node.ELEMENT_NODE&&b!==this.body;){v=this.translate(b,c,a,d,h);if(v.outerNode)F=v.innerNode,F.appendChild(B),B=v.outerNode;else break;b=b.parentNode}}return{prunedElement:B,hasPreservedContent:t}};e.prototype.getComputedStyleSet=function(b,c,a,d){c=f.extend({},c);f.extend(c,this.styleSetCache[parseInt(b.getAttribute("data-styleSet"),10)]);var h=
b.getElementsByTagNameNS(this.settings.ttmlNamespace,"set"),r=0;for(h=p.htmlCollectionToArray(h);r<h.length;r++){var t=h[r];this.isTemporallyActive(t,d)&&m.TtmlParser.applyInlineStyles(this.settings,c,t)}"ttml:p"===a&&"normal"===c.lineHeight&&(b=this.appendSpanFontSizes(b,this.getInheritableStyleSet(c),d,""))&&(c["computed-lineHeight"]=b);return c};e.prototype.getApplicableStyleSet=function(b,c){var a={};b.extent&&this.isStyleApplicable(c,"extent")&&(a.extent=b.extent);b.color&&this.isStyleApplicable(c,
"color")&&(a.color=b.color);for(var d in b)this.isStyleApplicable(c,d)&&(a[d]=b[d]);return a};e.prototype.isStyleApplicable=function(b,c){switch(c){case "backgroundColor":case "display":case "visibility":return 0<="ttml:body ttml:div ttml:p ttml:region ttml:rootcontainerregion ttml:span ttml:br".indexOf(b);case "fontFamily":case "fontSize":case "fontStyle":case "fontWeight":return 0<="ttml:p ttml:span ttml:br".indexOf(b);case "color":case "textDecoration":case "textOutline":case "wrapOption":return 0<=
"ttml:span ttml:br".indexOf(b);case "direction":case "unicodeBidi":return 0<="ttml:p ttml:span ttml:br".indexOf(b);case "displayAlign":case "opacity":case "origin":case "overflow":case "padding":case "showBackground":case "writingMode":case "zIndex":return 0<="ttml:region ttml:rootcontainerregion".indexOf(b);case "extent":return 0<="ttml:tt ttml:region ttml:rootcontainerregion".indexOf(b);case "computed-lineHeight":case "lineHeight":case "textAlign":return 0<="ttml:p".indexOf(b);default:return!1}};
e.prototype.getInheritableStyleSet=function(b){var c={},a;for(a in b)if(b.hasOwnProperty(a))switch(a){case "backgroundColor":case "computed-lineHeight":case "display":case "displayAlign":case "extent":case "opacity":case "origin":case "overflow":case "padding":case "showBackground":case "unicodeBidi":case "writingMode":case "zIndex":break;default:c[a]=b[a]}return c};e.prototype.appendSpanFontSizes=function(b,c,a,d){var h=0;for(b=p.nodeListToArray(b.childNodes);h<b.length;h++){var r=b[h];if(r.nodeType===
Node.ELEMENT_NODE&&"ttml:span"===this.getTagNameEquivalent(r)){var t=this.getComputedStyleSet(r,c,"ttml:span",a),v=t.fontSize;v&&(d+=(d?",":"")+v);d=this.appendSpanFontSizes(r,this.getInheritableStyleSet(t),a,d)}}return d};e.prototype.isInRegion=function(b,c){if(!c)return!0;var a=m.TtmlParser.getAttributeNS(b,"region",this.settings.ttmlNamespace);if(a===c)return!0;if(!a){for(a=b.parentNode;null!==a&&a.nodeType===Node.ELEMENT_NODE;){var d=this.getRegionId(a);if(d)return d===c;a=a.parentNode}a=0;for(b=
p.htmlCollectionToArray(b.getElementsByTagName("*"));a<b.length;a++)if(this.getRegionId(b[a])===c)return!0}return!1};e.prototype.getRegionId=function(b){var c;b.nodeType===Node.ELEMENT_NODE&&b.namespaceURI===this.settings.ttmlNamespace&&(c="region"===m.TtmlParser.getLocalTagName(b)?m.TtmlParser.getAttributeNS(b,"id",g.xmlNS):m.TtmlParser.getAttributeNS(b,"region",this.settings.ttmlNamespace));return c};e.prototype.getTagNameEquivalent=function(b){var c=m.TtmlParser.getLocalTagName(b);b=b.namespaceURI;
return b===this.settings.ttmlNamespace?"ttml:"+c:"http://www.w3.org/1999/xhtml"===b?c:""};e.prototype.applyStyle=function(b,c,a,d){var h=d;switch(a){case "color":case "backgroundColor":h=e.ttmlToCssColor(d);p.css(b,a,h);break;case "direction":case "display":p.css(b,a,h);break;case "displayAlign":switch(d){case "before":h="top";break;case "center":h="middle";break;case "after":h="bottom"}p.css(b,"vertical-align",h);break;case "extent":h=c=void 0;"auto"!==d&&(d=d.split(/\s+/),2===d.length&&(c=this.ttmlToCssUnits(d[0],
!0),h=this.ttmlToCssUnits(d[1],!1)));c||(c=(this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions.width:this.settings.relatedMediaObjectRegion.width).toString()+"px",h=(this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions.height:this.settings.relatedMediaObjectRegion.height).toString()+"px");p.css(b,"position","absolute");p.css(b,"width",c);p.css(b,"min-width",c);p.css(b,"max-width",c);p.css(b,"height",h);p.css(b,"min-height",h);
p.css(b,"max-height",h);break;case "fontFamily":this.settings.fontMap&&this.settings.fontMap[d]&&(h=this.settings.fontMap[d]);"smallCaps"===d&&p.css(b,"fontVariant","small-caps");p.css(b,a,h);break;case "fontSize":d=d.split(/\s+/);h=this.ttmlToCssFontSize(1<d.length?d[1]:d[0],!1,.75,"ttml:region"===c);p.css(b,a,h);break;case "fontStyle":case "fontWeight":p.css(b,a,h);break;case "lineHeight":h="normal"===d?d:this.ttmlToCssFontSize(d,!1);p.css(b,"line-height",h);break;case "computed-lineHeight":c=-1;
a=0;for(d=d.split(",");a<d.length;a++)(h=this.ttmlToCssFontSize(d[a],!1))&&-1!==h.indexOf("px")&&h.indexOf("px")===h.length-2&&(h=parseFloat(h.substr(0,h.length-2)),!isNaN(h)&&h>c&&(c=h));0<=c&&p.css(b,"line-height",c+"px");break;case "origin":"auto"!==d&&(d=d.split(/\s+/),2===d.length&&(p.css(b,"position","absolute"),p.css(b,"left",this.ttmlToCssUnits(d[0],!0)),p.css(b,"top",this.ttmlToCssUnits(d[1],!1))));break;case "opacity":p.css(b,a,h);break;case "padding":c=f.getDimensions(b);d=d.split(/\s+/);
switch(d.length){case 1:h=this.ttmlToCssUnits(d[0],!1,c);a=this.ttmlToCssUnits(d[0],!0,c);h=k.format("{0} {1} {0} {1}",h,a);break;case 2:h=this.ttmlToCssUnits(d[0],!1,c);a=this.ttmlToCssUnits(d[1],!0,c);h=k.format("{0} {1} {0} {1}",h,a);break;case 3:h=this.ttmlToCssUnits(d[0],!1,c);a=this.ttmlToCssUnits(d[1],!0,c);var r=this.ttmlToCssUnits(d[2],!1,c);h=k.format("{0} {1} {2} {1}",h,a,r);break;case 4:h=this.ttmlToCssUnits(d[0],!1,c),a=this.ttmlToCssUnits(d[1],!0,c),r=this.ttmlToCssUnits(d[2],!1,c),
d=this.ttmlToCssUnits(d[3],!0,c),h=k.format("{0} {1} {2} {3}",h,a,r,d)}p.css(b,"box-sizing","border-box");p.css(b,"border-style","solid");p.css(b,"border-color","transparent");p.css(b,"border-width",h);break;case "textAlign":switch(d){case "start":h="left";break;case "end":h="right"}p.css(b,"text-align",h);break;case "textDecoration":h=e.ttmlToCssTextDecoration(d);p.css(b,"text-decoration",h);break;case "textOutline":d=p.css(b,"color");p.css(b,"text-shadow",this.ttmlToCssTextOutline(h,d));break;case "unicodeBidi":switch(d){case "bidiOverride":h=
"bidi-override"}p.css(b,"unicode-bidi",h);break;case "visibility":p.css(b,a,h);break;case "writingMode":switch(d){case "lr":case "lrtb":p.css(b,"writing-mode","horizontal-tb");p.css(b,"-webkit-writing-mode","horizontal-tb");p.css(b,"writing-mode","lr-tb");break;case "rl":case "rltb":p.css(b,"writing-mode","horizontal-tb");p.css(b,"-webkit-writing-mode","horizontal-tb");p.css(b,"writing-mode","rl-tb");break;case "tblr":p.css(b,"text-orientation","upright");p.css(b,"writing-mode","vertical-lr");p.css(b,
"-webkit-text-orientation","upright");p.css(b,"-webkit-writing-mode","vertical-lr");p.css(b,"writing-mode","tb-lr");break;case "tb":case "tbrl":p.css(b,"text-orientation","upright"),p.css(b,"writing-mode","vertical-rl"),p.css(b,"-webkit-text-orientation","upright"),p.css(b,"-webkit-writing-mode","vertical-rl"),p.css(b,"writing-mode","tb-rl")}break;case "wrapOption":p.css(b,"white-space","noWrap"===d?"nowrap":"pre"===d?"pre":"normal");break;case "zIndex":p.css(b,a,h);break;default:p.css(b,a,h)}};e.defaultStyle=
function(b){p.css(b,"background-color",e.TtmlNamedColorMap.transparent);p.css(b,"offset","0");p.css(b,"margin","0");p.css(b,"padding","0");p.css(b,"border","0");return b};e.prototype.ttmlToCssUnits=function(b,c,a){var d=b;if(b){var h=b.charAt(b.length-1);if("c"===h||"%"===h){d=this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions:this.settings.relatedMediaObjectRegion;b=parseFloat(b.substr(0,b.length-1));d=c?d.width:d.height;var r=void 0;"c"===h?r=b*d/(c?this.settings.cellResolution.columns:
this.settings.cellResolution.rows):"%"===h&&(a&&(d=c?a.width:a.height),r=d*b/100);r=Math.round(10*r)/10;d=r+"px"}}return d};e.prototype.ttmlToCssFontSize=function(b,c,a,d){void 0===a&&(a=1);void 0===d&&(d=!1);var h=b;if(b){var r=b.charAt(b.length-1);if("c"===r||d&&"%"===r)d=this.settings.rootContainerRegionDimensions?this.settings.rootContainerRegionDimensions:this.settings.relatedMediaObjectRegion,b=parseFloat(b.substr(0,b.length-1))*(c?d.width:d.height)/(c?this.settings.cellResolution.columns:this.settings.cellResolution.rows),
"%"===r&&(b/=100),b=Math.floor(b*a*10)/10,h=b+"px"}return h};e.prototype.ttmlToCssTextOutline=function(b,c){var a="none";if(!k.isNullOrWhiteSpace(b)&&"none"!==b){var d=b.split(/\s+/),h=b=void 0;if(1===d.length){b=c;h=d[0];var r=""}else 3===d.length?(b=d[0],h=d[1],r=d[2]):2===d.length&&(r=d[0].charAt(0),"0"<=r&&"9">=r?(b=c,h=d[0],r=d[1]):(b=d[0],h=d[1],r=""));r=this.ttmlToCssFontSize(r,!1,.75);h=this.ttmlToCssFontSize(h,!1,.75);if((d=e.lengthRegEx.exec(h))&&3===d.length){c=Math.round(parseFloat(d[1]));
d=d[2];a="";for(h=-c;h<=c;h++)for(var t=-c;t<=c;t++)if(0!==h||0!==t)a+=k.format("{0}{4} {1}{4} {2} {3}, ",h,t,r,e.ttmlToCssColor(b),d);a&&(a=a.substr(0,a.length-2))}}return a};e.ttmlToCssTextDecoration=function(b){var c="";b=b.split(/\s+/);for(var a=0;a<b.length;a++){var d=b[a];switch(d){case "none":case "noUnderline":case "noLineThrough":case "noOverline":c="none"}}for(a=0;a<b.length;a++)switch(d=b[a],d){case "none":case "noUnderline":case "noLineThrough":case "noOverline":break;case "lineThrough":c+=
" line-through";break;default:c+=" "+d}return k.trim(c)};e.ttmlToCssColor=function(b){var c=b;b=b.toLowerCase();if(0===b.indexOf("rgba")){if((b=e.rgbaRegEx.exec(b))&&5===b.length){c=b[1];var a=b[2],d=b[3];b=parseInt(b[4],10);c=k.format("rgba({0},{1},{2},{3})",c,a,d,Math.round(100*b/255)/100)}}else"#"===b.charAt(0)&&9===b.length?(c=parseInt(b.substr(1,2),16),a=parseInt(b.substr(3,2),16),d=parseInt(b.substr(5,2),16),b=parseInt(b.substr(7,2),16),c=k.format("rgba({0},{1},{2},{3})",c,a,d,Math.round(100*
b/255)/100)):e.TtmlNamedColorMap[b]&&(c=e.TtmlNamedColorMap[b]);return c};e.lengthRegEx=/\s*(\d+\.*\d*)(.*)\s*/;e.rgbaRegEx=/\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*/;e.TtmlNamedColorMap={transparent:"rgba(0,0,0,0)",black:"rgba(0,0,0,1)",silver:"rgba(192,192,192,1)",gray:"rgba(128,128,128,1)",white:"rgba(255,255,255,1)",maroon:"rgba(128,0,0,1)",red:"rgba(255,0,0,1)",purple:"rgba(128,0,128,1)",fuchsia:"rgba(255,0,255,1)",magenta:"rgba(255,0,255,1)",green:"rgba(0,128,0,1)",
lime:"rgba(0,255,0,1)",olive:"rgba(128,128,0,1)",yellow:"rgba(255,255,0,1)",navy:"rgba(0,0,128,1)",blue:"rgba(0,0,255,1)",teal:"rgba(0,128,128,1)",aqua:"rgba(0,255,255,1)",cyan:"rgba(0,255,255,1)"};return e}();l.TtmlContext=z});K("data/player-data-interfaces",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.VideoErrorCodes=l.DownloadableMediaTypes=l.MediaQuality=l.ClosedCaptionTypes=l.MediaTypes=void 0;(function(m){m[m.MP4="MP4"]="MP4";m[m.DASH="DASH"]="DASH";
m[m.SMOOTH="SMOOTH"]="SMOOTH";m[m.HLS="HLS"]="HLS"})(l.MediaTypes||(l.MediaTypes={}));(function(m){m[m.VTT="VTT"]="VTT";m[m.TTML="TTML"]="TTML"})(l.ClosedCaptionTypes||(l.ClosedCaptionTypes={}));(function(m){m[m.HD="HD"]="HD";m[m.HQ="HQ"]="HQ";m[m.SD="SD"]="SD";m[m.LO="LO"]="LO"})(l.MediaQuality||(l.MediaQuality={}));(function(m){m[m.transcript="transcript"]="transcript";m[m.audio="audio"]="audio";m[m.video="video"]="video";m[m.videoWithCC="videoWithCC"]="videoWithCC"})(l.DownloadableMediaTypes||
(l.DownloadableMediaTypes={}));(function(m){m[m.BufferingFirstByteTimeout=2E3]="BufferingFirstByteTimeout";m[m.MediaErrorAborted=2100]="MediaErrorAborted";m[m.MediaErrorNetwork=2101]="MediaErrorNetwork";m[m.MediaErrorDecode=2102]="MediaErrorDecode";m[m.MediaErrorSourceNotSupported=2103]="MediaErrorSourceNotSupported";m[m.MediaErrorUnknown=2104]="MediaErrorUnknown";m[m.MediaSelectionNoMedia=2200]="MediaSelectionNoMedia";m[m.AmpEncryptError=2405]="AmpEncryptError";m[m.AmpPlayerMismatch=2406]="AmpPlayerMismatch"})(l.VideoErrorCodes||
(l.VideoErrorCodes={}))});K("utilities/environment",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.Environment=void 0;z=function(){function m(){}m.isOfficeCLView=function(){var g=parent!==window?document.referrer:window.location.href;return g.match(/client/i)&&g.match(/support.office./i)?!0:!1};m.isVideoPlayerSupported=function(){return m.isHTML5videoSupported()&&m.isES5Supported()};m.isHTML5videoSupported=function(){try{return!!document.createElement("video").canPlayType}catch(g){}return!1};
m.isES5Supported=function(){try{var g=!(!Function.prototype||!Function.prototype.bind),p=!!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions);if(String.prototype&&String.prototype.trim&&g&&p)return!0}catch(k){}return!1};m.userAgent=navigator.userAgent;m.platform=navigator.platform;
m.maxTouchPoints=navigator.maxTouchPoints;m.isWindowsPhone=!!m.userAgent.match(/Windows Phone/i);m.isSilk=!!m.userAgent.match(/Silk/i);m.hasSilkVersion=/\bSilk\/(\d+)\.(\d+)/.test(m.userAgent);m.silkMajor=m.hasSilkVersion?Number(RegExp.$1):0;m.silkMinor=m.hasSilkVersion?Number(RegExp.$2):0;m.isSilkModern=3<m.silkMajor||3<=m.silkMajor&&5<=m.silkMinor;m.isAndroid=!m.isWindowsPhone&&(m.isSilk||!!m.userAgent.match(/Android/i));m.androidVersion=/Android (\d+\.\d+)/i.test(m.userAgent)?Number(RegExp.$1):
m.hasSilkVersion?m.isSilkModern?4:1:0;m.isIPhone=!!m.userAgent.match(/iPhone/i)||!!m.userAgent.match(/iPod/i);m.isIPad=!!m.userAgent.match(/iPad/i)||!!("MacIntel"===m.platform&&1<m.maxTouchPoints);m.isIProduct=m.isIPad||m.isIPhone;m.isBlackBerry=!!m.userAgent.match(/BlackBerry/i);m.isHtcWindowsPhone=m.isWindowsPhone&&!!m.userAgent.match(/HTC/i);m.windowsVersion=/Windows NT(\s)*(\d+\.\d+)/.test(m.userAgent)?parseFloat(RegExp.$2):-1;m.ieVersion=/MSIE (\d+\.\d+)/.test(m.userAgent)?Number(RegExp.$1):
/Trident.*rv:(\d+\.\d+)/.test(m.userAgent)?Number(RegExp.$1):0;m.isIEMobileModern=/\bIEMobile\/(\d+\.\d+)/.test(m.userAgent)?10<=Number(RegExp.$1):/Windows Phone (\d+\.\d+)/i.test(m.userAgent)?10<=Number(RegExp.$1):!1;m.isAndroidModern=m.isAndroid&&(4<=m.androidVersion||m.isSilkModern);m.isMobile=m.isIProduct||m.isAndroid||m.isBlackBerry||m.isWindowsPhone;m.useNativeControls=m.isIProduct;m.isWebkit=!!m.userAgent.match(/Webkit/i);m.isFirefox=!!m.userAgent.match(/Firefox/i);m.isChrome=!!m.userAgent.match(/Chrome/i)&&
navigator.vendor&&-1<navigator.vendor.indexOf("Google");m.isEdgeBrowser=-1<m.userAgent.indexOf("Edge");m.isTV=!!m.userAgent.match(/.*SMART\-TV.*Safari\/(535\.20\+|537\.42)/);m.isWindowsRT=/^.*?\bWindows\b.*?\bARM\b.*?$/m.test(m.userAgent);m.isInIframe=parent!==window;m.isSafari=navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&!navigator.userAgent.match("CriOS");return m}();l.Environment=z});K("utilities/player-utility","require exports mwf/utilities/stringExtensions data/player-data-interfaces mwf/utilities/utility utilities/environment".split(" "),
function(z,l,m,g,p,k){Object.defineProperty(l,"__esModule",{value:!0});l.PlayerUtility=void 0;z=function(){function f(){}f.random4CharString=function(){return(1+Math.random()).toString(32).substring(1)};f.loadScript=function(e){var b=document.getElementsByTagName("script")[0],c=document.createElement("script");c.src=e;c.async=!0;c.onload=c.onreadystatechange=function(){c.readyState&&"loaded"!==c.readyState&&"complete"!==c.readyState||(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c))};
b.parentNode.insertBefore(c,b)};f.formatContentErrorMessage=function(e,b,c){e=m.format("[CE{0}]: {1}",g.VideoErrorCodes[e],b);c&&(e+=m.format("; (Additional: {0})",c));return e};f.logConsoleMessage=function(e,b){void 0===b&&(b="VideoPlayer");e=m.format("[{0}][{1}] {2}",f.toLogTime(new Date),b,e);"object"===typeof console&&console.log&&console.log(e);k.Environment.isOfficeCLView()&&f.logPanelMessage(e,b)};f.toLogTime=function(e){e||(e=new Date);var b=e.getHours(),c=e.getMinutes();e=e.getSeconds();
return(10>b?"0"+b:b)+":"+(10>c?"0"+c:c)+":"+(10>e?"0"+e:e)};f.toFriendlyBitrateString=function(e){return 1E7<=e?Math.round(e/1E6).toLocaleString()+" Mbps":1E6<=e?(.01*Math.round(e/1E6*100)).toLocaleString()+" Mbps":1E4<=e?Math.round(e/1E3).toLocaleString()+" Kbps":1E3<=e?(.01*Math.round(e/1E3*100)).toLocaleString()+" Kbps":Math.round(e).toLocaleString()+" bps"};f.logPanelMessage=function(e,b){"undefined"===typeof f.debugPanel&&(f.debugPanel=f.createDebugPanel());f.debugPanel.appendChild(document.createTextNode("["+
(new Date).toLocaleString()+"]"+e));f.debugPanel.appendChild(document.createElement("BR"));f.debugPanel.scrollTop=f.debugPanel.scrollHeight-f.debugPanel.clientHeight};f.createDebugPanel=function(){var e=document.createElement("div");e.className="debugPanel";document.body.appendChild(e);return e};f.getGUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,function(b){var c=Math.floor((e+16*Math.random())%16);return("x"===b?c:c%4+4).toString(16)})};f.removeFromPendingAjaxRequests=
function(e){for(var b=-1,c=0;c<f.pendingAjaxRequests.length;c++)if(e===f.pendingAjaxRequests[c]){b=c;break}0<=b&&f.pendingAjaxRequests.splice(b,1)};f.ajax=function(e,b,c){if(e){var a=null;window.XDomainRequest?(a=new XDomainRequest,a.onload=function(){b&&b(a.responseText);f.removeFromPendingAjaxRequests(a)},f.pendingAjaxRequests.push(a)):window.XMLHttpRequest&&(a=new XMLHttpRequest,a.onreadystatechange=function(){if(4===a.readyState){var d=null;200===a.status&&(d=a.responseText);b&&b(d)}});a&&(a.ontimeout=
a.onerror=function(){f.removeFromPendingAjaxRequests(a);c&&c()},a.open("GET",e,!0),a.send())}};f.createVideoPerfMarker=function(e,b){e&&b&&p.createPerfMarker(e+"_"+b,!0);"ttvs"===b&&p.createPerfMarker(b,!0)};f.getVideoPerfMarker=function(e,b){return e&&b?p.getPerfMarkerValue(e+"_"+b):0};f.pendingAjaxRequests=[];return f}();l.PlayerUtility=z});K("closed-captions/video-closed-captions","require exports closed-captions/ttml-parser mwf/utilities/htmlExtensions mwf/utilities/utility utilities/player-utility".split(" "),
function(z,l,m,g,p,k){Object.defineProperty(l,"__esModule",{value:!0});l.VideoClosedCaptions=void 0;z=function(){function f(e,b){this.element=e;this.errorCallback=b;this.lastPlayPosition=0;this.ccLanguageId=null;this.resetCaptions()}f.prototype.setCcLanguage=function(e,b){this.element&&e!==this.ccLanguageId&&(this.ttmlContext=null,this.resetCaptions(),b?(this.ccLanguageId=e,this.loadClosedCaptions(b)):this.ccLanguageId=null)};f.prototype.getCurrentCcLanguage=function(){return this.ccLanguageId};f.prototype.loadClosedCaptions=
function(e){var b=this;k.PlayerUtility.ajax(e,function(c){return b.onClosedCaptionsLoaded(c)},function(c){b.errorCallback&&b.errorCallback({errorType:"oneplayer.error.loadClosedCaptions.ajax",errorDesc:"Ajax call failed: "+e})})};f.prototype.onClosedCaptionsLoaded=function(e){if(e){this.element.setAttribute(f.ariaHidden,"false");var b={idPrefix:this.element.id?this.element.id+"-":"",fontMap:{"default":"Segoe ui, Arial"},relatedMediaObjectRegion:p.getDimensions(this.element)};try{if(this.ttmlContext=
m.TtmlParser.parse(e,b))this.ttmlContext.setOwnerDocument(this.element.ownerDocument),this.ttmlContext.hasEvents()?this.updateCaptions(this.lastPlayPosition):this.element.setAttribute(f.ariaHidden,"true")}catch(c){this.errorCallback&&this.errorCallback({errorType:"oneplayer.error.onClosedCaptionsLoaded.ttmlParser",errorDesc:"TtmlDocument parser error: "+c.message})}}else this.errorCallback&&this.errorCallback({errorType:"oneplayer.error.onClosedCaptionsLoaded.ttmlDoc",errorDesc:"No ttmlDocument found"})};
f.prototype.showSampleCaptions=function(){var e=(new DOMParser).parseFromString("\x3c?xml version\x3d'1.0' encoding\x3d'utf-8'?\x3e\n\x3ctt xml:lang\x3d'en-us' xmlns\x3d'http://www.w3.org/ns/ttml' xmlns:tts\x3d'http://www.w3.org/ns/ttml#styling' \nxmlns:ttm\x3d'http://www.w3.org/ns/ttml#metadata'\x3e\n    \x3chead\x3e\n    \x3cmetadata\x3e\n        \x3cttm:title\x3eMedia.wvx.aib\x3c/ttm:title\x3e\n        \x3cttm:copyright\x3eCopyright (c) 2013 Microsoft Corporation.  All rights reserved.\x3c/ttm:copyright\x3e\n    \x3c/metadata\x3e\n    \x3cstyling\x3e\n        \x3cstyle xml:id\x3d'Style1' tts:fontFamily\x3d'proportionalSansSerif' tts:fontSize\x3d'0.8c' tts:textAlign\x3d'center' \n        tts:color\x3d'white' /\x3e\n    \x3c/styling\x3e\n    \x3clayout\x3e\n        \x3cregion style\x3d'Style1' xml:id\x3d'CaptionArea' tts:origin\x3d'0c 12.6c' tts:extent\x3d'32c 2.4c' \n        tts:backgroundColor\x3d'rgba(0,0,0,160)' tts:displayAlign\x3d'center' tts:padding\x3d'0.3c 0.5c' /\x3e\n    \x3c/layout\x3e\n    \x3c/head\x3e\n    \x3cbody region\x3d'CaptionArea'\x3e\n    \x3cdiv\x3e\n        \x3cp begin\x3d'00:00:01.140' end\x3d'99:99:99.999'\x3eEXAMPLE CAPTIONS!\x3c/p\x3e\n    \x3c/div\x3e\n    \x3c/body\x3e\n\x3c/tt\x3e",
"text/xml");this.onClosedCaptionsLoaded(e);e=p.getDimensions(this.element);this.ttmlContext.updateRelatedMediaObjectRegion(e);this.element.style.bottom="44px"};f.prototype.updateCaptions=function(e){this.lastPlayPosition=e;if(this.ttmlContext&&this.ttmlContext.hasEvents()){var b=Math.floor(1E3*e);this.element.setAttribute(f.ariaHidden,"false");e=p.getDimensions(this.element);this.ttmlContext.updateRelatedMediaObjectRegion(e)&&this.resetCaptions();if(this.ttmlContext.updateCurrentEvents(b)){this.element.setAttribute(f.ariaHidden,
"true");g.removeInnerHtml(this.element);e=0;for(b=this.ttmlContext.getCues(b);e<b.length;e++){var c=b[e];this.applyUserPreferencesOverrides(c);g.css(c,"background-color","");this.element.appendChild(c)}this.element.setAttribute(f.ariaHidden,"false")}}};f.prototype.resetCaptions=function(){this.ttmlContext&&this.ttmlContext.resetCurrentEvents();this.element&&(this.element.setAttribute(f.ariaHidden,"true"),g.removeInnerHtml(this.element))};f.prototype.getCcLanguage=function(){return this.ccLanguageId};
f.prototype.applyUserPreferencesOverrides=function(e){if(f.userPreferences){if(f.userPreferences.text)for(var b=0,c=g.selectElements("span, br",e);b<c.length;b++){var a=c[b],d;for(d in f.userPreferences.text)f.userPreferences.text.hasOwnProperty(d)&&g.css(a,d,f.userPreferences.text[d])}if(f.userPreferences.window&&(e=g.selectFirstElement("p",e)))for(d in f.userPreferences.window)f.userPreferences.window.hasOwnProperty(d)&&g.css(e,d,f.userPreferences.window[d])}};f.ariaHidden="aria-hidden";f.userPreferences=
{text:{},window:{}};return f}();l.VideoClosedCaptions=z});K("closed-captions/video-closed-captions-settings",["require","exports","closed-captions/video-closed-captions","mwf/utilities/stringExtensions","mwf/utilities/utility"],function(z,l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.VideoClosedCaptionsSettings=l.closedCaptionsSettinsDefaults=l.closedCaptionsPresetMap=l.closedCaptionsSettingsMap=l.closedCaptionsSettingsOptions=void 0;l.closedCaptionsSettingsOptions={font:{pre:"cc_font_name_",
map:{casual:"Verdana;font-variant:normal",cursive:"Zapf-Chancery,Segoe script,Cursive;font-variant:normal",monospacedsansserif:"Lucida sans typewriter,Lucida console,Consolas;font-variant:normal",monospacedserif:"Courier;font-variant:normal",proportionalsansserif:"Arial,Sans-serif;font-variant:normal",proportionalserif:"Times New Roman,Serif;font-variant:normal",smallcapitals:"Arial,Helvetica,Sans-serif;font-variant:small-caps"}},percent:{pre:"cc_percent_",map:{0:"0",50:"0.5",75:"0.75",100:"1"}},
text_size:{pre:"cc_text_size_",map:{small:"75%","default":"100%",large:"125%",extralarge:"150%",maximum:"200%"}},color:{pre:"cc_color_",map:{white:"#FFFFFF",black:"#000000",blue:"#0000FF",cyan:"#00FFFF",green:"#00FF00",grey:"#BCBCBC",magenta:"#FF00FF",red:"#FF0000",yellow:"#FFFF00"}},text_edge_style:{pre:"cc_text_edge_style_",map:{none:"none",depressed:"1px 1px 0 #FFF,-1px -1px 0 #000",dropshadow:"1px 1px 0 #000",raised:"1px 1px 0 #000,-1px -1px 0x #FFF",uniform:"1px 1px 0 #000,-1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000"}}};
l.closedCaptionsSettingsMap={text_font:{value:"font-family:",option:"font"},text_color:{value:"color:",option:"color"},text_size:{value:"font-size:",option:"text_size"},text_edge_style:{value:"text-shadow:",option:"text_edge_style"},text_opacity:{value:"color:",option:"percent"},text_background_color:{value:"background:",option:"color"},text_background_opacity:{value:"background:",option:"percent"},window_color:{value:"background:",option:"color"},window_opacity:{value:"background:",option:"percent"}};
l.closedCaptionsPresetMap={preset1:{text_font:"proportionalsansserif",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset2:{text_font:"monospacedserif",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset3:{text_font:"proportionalsansserif",text_color:"yellow",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"},preset4:{text_font:"proportionalsansserif",text_color:"blue",
text_opacity:"100",text_background_color:"grey",text_background_opacity:"100"},preset5:{text_font:"casual",text_color:"white",text_opacity:"100",text_background_color:"black",text_background_opacity:"100"}};l.closedCaptionsSettinsDefaults={preset:"preset1",text_font:"proportionalsansserif",text_color:"white",text_opacity:"100",text_size:"default",text_edge_style:"none",text_background_color:"black",text_background_opacity:"100",window_color:"black",window_opacity:"0"};z=function(){function k(f){this.onErrorCallback=
f;k.tempSettings={};k.tempSettings[k.presetKey]="none";this.loadUserPreferences();this.applySettings()}k.prototype.saveUserPreferences=function(){p.saveToLocalStorage(k.storageKeyName,JSON.stringify(k.userPreferences))};k.prototype.loadUserPreferences=function(){var f=p.getValueFromLocalStorage(k.storageKeyName);if(f)try{var e=JSON.parse(f),b;for(b in e)e.hasOwnProperty(b)&&this.setPreferences(b,e[b])}catch(c){if(this.onErrorCallback)this.onErrorCallback({errorType:"oneplayer.error.VideoClosedCaptionsSettings.loadUserPreferences",
errorDesc:"UserPrefs parsing error: "+c.message})}};k.prototype.reset=function(f){if("undefined"===typeof f||null==f||f)k.userPreferences={},k.currentSettings={},this.saveUserPreferences();k.tempSettings={};k.tempSettings[k.presetKey]="none";this.applySettings()};k.prototype.setSetting=function(f,e,b){if(f&&e){if("undefined"===typeof b||null==b||b)this.setPreferences(f,e),this.saveUserPreferences(),k.tempSettings={},k.tempSettings[k.presetKey]="none";else if(b=l.closedCaptionsPresetMap[e])k.tempSettings[f]=
e,p.extend(k.tempSettings,b);this.applySettings()}};k.prototype.getCurrentSettings=function(f){void 0===f&&(f=k.currentSettings);return p.extend({},l.closedCaptionsSettinsDefaults,f)};k.prototype.setPreferences=function(f,e){if(f&&e)if(f===k.presetKey){var b=l.closedCaptionsPresetMap[e];b&&(k.userPreferences={},k.currentSettings={},k.userPreferences[f]=e,k.currentSettings[f]=e,p.extend(k.currentSettings,b))}else this.getOptionValue(f,e)&&(k.userPreferences=p.extend({},k.currentSettings),delete k.userPreferences[k.presetKey],
k.currentSettings[k.presetKey]="none",k.userPreferences[f]=e,k.currentSettings[f]=e)};k.prototype.applySettings=function(){var f={},e="none"===k.tempSettings[k.presetKey]?this.getCurrentSettings():this.getCurrentSettings(k.tempSettings),b;for(b in e)if(e.hasOwnProperty(b)){var c=this.getOptionValue(b,e[b]);c&&(f[b]=l.closedCaptionsSettingsMap[b].value+c)}m.VideoClosedCaptions.userPreferences.text=this.getPrefsCss(f,"text");m.VideoClosedCaptions.userPreferences.window=this.getPrefsCss(f,"window")};
k.prototype.getOptionValue=function(f,e){if(f=l.closedCaptionsSettingsMap[f])return(f=l.closedCaptionsSettingsOptions[f.option])&&f.map[e]};k.prototype.getPrefsCss=function(f,e){var b={},c;for(c in f)if(f.hasOwnProperty(c)){var a=f[c];if(0===c.indexOf(e)&&0>c.indexOf("opacity")&&a&&0<a.length)for(var d=0,h=a.split(";");d<h.length;d++)a=h[d].split(":"),1<a.length&&(b[a[0].trim()]=a[1].trim())}for(c in f)f.hasOwnProperty(c)&&(a=f[c],0===c.indexOf(e)&&0<c.indexOf("opacity")&&(a=a.split(":"),1<a.length&&
(d=b[a[0].trim()],h=a[1].trim(),b[a[0].trim()]=this.formatAsRgba(d,h))));return b};k.prototype.formatAsRgba=function(f,e){var b=g.format("rgba(0,0,0,{0})",e),c=f?f.indexOf("#"):-1;if(0<=c&&(f=f.substr(c+1),c=f.length/3,0<c)){b=parseInt(f.substr(0,c),16);var a=parseInt(f.substr(c,c),16);f=parseInt(f.substr(2*c,c),16);b=g.format("rgba({0},{1},{2},{3})",b,a,f,e)}return b};k.userPreferences={};k.currentSettings={};k.tempSettings={};k.storageKeyName="mwf-video-player-cc-settings";k.presetKey="preset";
return k}();l.VideoClosedCaptionsSettings=z});K("constants/attributes",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.AddHidden={name:"hidden",value:"true"};l.RemoveHidden={name:"hidden",value:"false"};l.MWFJsControlledBy={name:"data-js-controlledby",value:"m365-dialog"};l.AriaHiddenTrue={name:"aria-hidden",value:"true"}});K("constants/class-names",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.VideoClassNames={VIDEO_PLAYER_CTN:"ow-m365-video-player-ctn",
VIDEO_DIALOG:"ow-m365-video-dialog",VIDEO_DIALOG_MWF:"c-dialog"}});K("constants/dom-selectors",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.VideoDialogSelectors={DIALOG:".ow-m365-video-dialog",DIALOG_BUTTON:".ow-video-dialog-button"};l.VideoSelectors={VIDEO_CTN:".ow-m365-video",VIDEO_CTN_RT:".ow-generic-video",VIDEO_PLAYER_CTN:".ow-m365-video-player-ctn",VIDEO_PLAYER_CTN_RT:".ow-native-video-container"};l.DialogTabbableSelectors="select, input, textarea, button, a, .c-glyph[data-js-dialog-hide]"});
K("constants/enums",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.Attributes=l.VideoPlayerIdPrefix=l.VideoType=l.videoCheckpoint=l.awaActionTypes=l.awaBehaviorTypes=void 0;(function(m){m[m.VIDEOSTART=240]="VIDEOSTART";m[m.VIDEOPAUSE=241]="VIDEOPAUSE";m[m.VIDEOCONTINUE=242]="VIDEOCONTINUE";m[m.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT";m[m.VIDEOJUMP=244]="VIDEOJUMP";m[m.VIDEOCOMPLETE=245]="VIDEOCOMPLETE";m[m.VIDEOBUFFERING=246]="VIDEOBUFFERING";m[m.VIDEOERROR=247]=
"VIDEOERROR";m[m.VIDEOMUTE=248]="VIDEOMUTE";m[m.VIDEOUNMUTE=249]="VIDEOUNMUTE";m[m.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN";m[m.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN";m[m.VIDEOREPLAY=252]="VIDEOREPLAY";m[m.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD";m[m.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK";m[m.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL";m[m.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL";m[m.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL";m[m.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE";
m[m.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL"})(l.awaBehaviorTypes||(l.awaBehaviorTypes={}));(function(m){m.CLICKLEFT="CL";m.CLICKRIGHT="CR";m.CLICKMIDDLE="CM";m.SCROLL="S";m.ZOOM="Z";m.RESIZE="R";m.KEYBOARDENTER="KE";m.KEYBOARDSPACE="KS";m.GAMEPADA="CGA";m.GAMEPADMENU="CGM";m.OTHER="O"})(l.awaActionTypes||(l.awaActionTypes={}));(function(m){m[m.PERCENTAGE=10]="PERCENTAGE";m[m.TIME=1]="TIME"})(l.videoCheckpoint||(l.videoCheckpoint={}));(function(m){m.INLINE="inline";m.DIALOG="dialog"})(l.VideoType||
(l.VideoType={}));(function(m){m.INLINE="m365-video-inline-";m.DIALOG="m365-video-dialog-"})(l.VideoPlayerIdPrefix||(l.VideoPlayerIdPrefix={}));(function(m){m.ARIA_HIDDEN="aria-hidden";m.TABINDEX="tabindex"})(l.Attributes||(l.Attributes={}))});K("constants/events",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.Events={DOM_CONTENT_LOADED:"DOMContentLoaded"}});K("constants/player-constants",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",
{value:!0});l.MediaEvents="abort canplay canplaythrough emptied ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange readystatechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");l.PlayerEvents={CommonPlayerImpression:"CommonPlayerImpression",PlaybackStatusChanged:"PlaybackStatusChanged",Replay:"Replay",BufferComplete:"BufferComplete",ContentStart:"ContentStart",ContentError:"ContentError",ContentContinue:"ContentContinue",ContentComplete:"ContentComplete",
ContentCheckpoint:"ContentCheckpoint",ContentLoaded3PP:"ContentLoaded3PP",Ready:"Ready",Play:"Play",Pause:"Pause",Resume:"Resume",Seek:"Seek",VideoQualityChanged:"VideoQualityChanged",Mute:"Mute",Unmute:"Unmute",Volume:"Volume",InfoPaneOpened:"InfoPaneOpened",VideoTimedout:"VideoTimedout",VideoTimeUpdate:"VideoTimeUpdate",FullScreenEnter:"FullScreenEnter",FullScreenExit:"FullScreenExit",UserInteracted:"VideoUserInteracted",InteractiveOverlayClick:"InteractiveOverlayClick",InteractiveBackButtonClick:"InteractiveBackButtonClick",
InteractiveOverlayShow:"InteractiveOverlayShow",InteractiveOverlayHide:"InteractiveOverlayHide",InteractiveOverlayMaximize:"InteractiveOverlayMaximize",InteractiveOverlayMinimize:"InteractiveOverlayMaximize",InviewEnter:"InviewEnter",InviewExit:"InviewExit",TimeRemainingCheckpoint:"TimeRemainingCheckpoint",PlayerError:"PlayerError",VideoShared:"VideoShared",ClosedCaptionsChanged:"ClosedCaptionsChanged",ClosedCaptionSettingsChanged:"ClosedCaptionSettingsChanged",PlaybackRateChanged:"PlaybackRateChanged",
MediaDownloaded:"MediaDownloaded",AudioTrackChanged:"AudioTrackChanged",AgeGateSubmitClick:"AgeGateSubmitClick",SourceErrorAttemptRecovery:"SourceErrorAttemptRecovery"};l.PlaybackStatus={Ready:"Ready",Loading:"Loading",Loaded:"Loaded",LoadFailed:"LoadFailed",PlaybackCompleted:"PlaybackCompleted",Playbackerrored:"PlaybackErrored",VideoOpening:"VideoOpening",VideoPlaying:"VideoPlaying",VideoBuffering:"VideoBuffering",VideoPaused:"VideoPaused",VideoPlayCompleted:"VideoPlayCompleted",VideoPlayFailed:"VideoPlayFailed",
VideoClosed:"VideoClosed"};l.shareTypes={facebook:"facebook",twitter:"twitter",linkedin:"linkedin",skype:"skype",mail:"mail",copy:"copy"};l.videoPerfMarkers={scriptLoaded:"scriptLoaded",playerInit:"playerInit",metadataFetchStart:"metadataFetchStart",metadataFetchEnd:"metadataFetchEnd",playerLoadStart:"playerLoadStart",playerReady:"playerReady",wrapperLoadStart:"wrapperLoadStart",wrapperReady:"wrapperReady",locLoadStart:"locLoadStart",locReady:"locReady",playTriggered:"playTriggered",ttvs:"ttvs"};
l.videoAdsPerfMarkers={adsScriptLoaded:"adsScriptLoaded",adsPlayerInit:"adsPlayerInit",adsFetchStart:"adsFetchStart",adsPlayerLoadStart:"adsPlayerLoadStart",adsPlayerReady:"adsPlayerReady",adsPlayTriggered:"adsPlayTriggered"}});K("mwf/utilities/keycodes",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0})});K("video-player/player-factory",["require","exports","players/core-player"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});l.PlayerFactory=void 0;
z=function(){function g(){}g.createPlayer=function(p,k,f){if(p)switch(p.toLowerCase()){case "youtube":p="youtube";k=null;break;default:p="coreplayer",k=new m.CorePlayer(k,f)}else p="coreplayer",k=new m.CorePlayer(k,f);return{playerInstance:k,playerName:p}};return g}();l.PlayerFactory=z});K("data/player-config",["require","exports","data/player-data-interfaces"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});l.PlayerConfig=void 0;z=function(){function g(){}g.resourcesUrl="{0}/{1}/videoplayer/resources/{2}";
g.resourceHost="%playerResourceHost%";g.resourceHash="%playerResourceHash%";g.defaultResourceHost="https://www.microsoft.com";g.ampUrl="//amp.azure.net/libs/amp/1.8.0/azuremediaplayer.min.js";g.ampVersion2Url="//amp.azure.net/libs/amp/2.1.9/azuremediaplayer.min.js";g.hasPlayerUrl='url("hash:coreui.statics/externalscripts/hasplayer/hasplayer.min.js")';g.hlsPlayerUrl='url("hash:coreui.statics/externalscripts/hlsplayer/hls.min.js")';g.shimServiceProdUrl="//prod-video-cms-rt-microsoft-com.akamaized.net/vhs/api/videos/{0}";
g.shimServiceIntUrl="//cms-eastus-int-videoshim-rt.cloudapp.net/vhs/api/videos/{0}";g.adSdkUrl="//msadsdk.blob.core.windows.net/core/1/latest.min.js";g.eventCheckpointInterval=2E4;g.firstByteTimeoutVideoMobile=15E3;g.firstByteTimeoutVideoDesktop=1E4;g.defaultVolume=.8;g.checkpoints=[25,50,75,95];g.playbackRates=[2,1.5,1.25,1,.75,.5];g.defaultPlaybackRate=1;g.defaultQualityMobile=m.MediaQuality.SD;g.defaultQualityTV=m.MediaQuality.SD;g.defaultQualityDesktop=m.MediaQuality.HQ;g.defaultAspectRatio=16/
9;g.defaultInViewWidthFraction=.5;g.defaultInViewHeightFraction=.5;return g}();l.PlayerConfig=z});K("data/player-options","require exports mwf/utilities/utility utilities/environment constants/player-constants data/player-config".split(" "),function(z,l,m,g,p,k){Object.defineProperty(l,"__esModule",{value:!0});l.PlayerOptions=void 0;z=function(){return function(f){this.autoload=!0;this.autoplay=!1;this.startTime=0;this.loop=this.mute=!1;this.trigger=this.lazyLoad=this.controls=!0;this.theme="light";
this.playButtonTheme="dark";this.playButtonSize="medium";this.maskLevel="40";this.useAdaptive=this.useHLS=!0;this.debug=!1;this.reporting={enabled:!0,jsll:!0,aria:!1,wedcs:!1};this.share=this.interactivity=this.playbackSpeed=!0;this.shareOptions=[p.shareTypes.facebook,p.shareTypes.twitter,p.shareTypes.linkedin,p.shareTypes.skype,p.shareTypes.mail,p.shareTypes.copy];this.hidePosterFrame=this.playFullScreen=this.download=!1;this.shimServiceEnv="prod";this.corePlayer="html5";this.autoCaptions=null;this.flexSize=
!1;this.aspectRatio=k.PlayerConfig.defaultAspectRatio;this.jsllPostMessage=this.ageGate=!0;this.userMinimumAge=0;this.inviewPlay=this.showImageForVideoError=this.showEndImage=this.playPauseTrigger=!1;this.timeRemainingCheckpoint=this.inviewThreshold=null;this.adsEnabled=!1;this.inViewWidthFraction=k.PlayerConfig.defaultInViewWidthFraction;this.inViewHeightFraction=k.PlayerConfig.defaultInViewHeightFraction;this.controlPanelTimeout=null;this.showControlOnLoad=!0;this.useAMPVersion2=!1;m.extend(this,
f);g.Environment.isMobile?this.autoplay=!1:f&&void 0!==f.autoPlay&&(this.autoplay=!!f&&!!f.autoPlay);f&&void 0!==f.autoLoad&&(this.autoload=!!f&&!!f.autoLoad);this.autoplay&&(this.playFullScreen=!1,!this.mute&&g.Environment.isSafari&&(this.mute=!0));g.Environment.isIPhone&&(this.trigger=!0);if(g.Environment.isOfficeCLView()||g.Environment.isIProduct)this.useAdaptive=!1;f&&f.shareOptions&&(this.shareOptions=f.shareOptions);if(!this.aspectRatio||!m.isNumber(this.aspectRatio)||0>=this.aspectRatio)this.aspectRatio=
k.PlayerConfig.defaultAspectRatio;if(!this.inViewWidthFraction||!m.isNumber(this.inViewWidthFraction)||1<this.inViewWidthFraction)this.inViewWidthFraction=k.PlayerConfig.defaultInViewWidthFraction;if(!this.inViewHeightFraction||!m.isNumber(this.inViewHeightFraction)||1<this.inViewHeightFraction)this.inViewHeightFraction=k.PlayerConfig.defaultInViewHeightFraction}}();l.PlayerOptions=z});K("data/video-shim-data-fetcher","require exports data/player-data-interfaces utilities/player-utility data/player-config mwf/utilities/stringExtensions".split(" "),
function(z,l,m,g,p,k){Object.defineProperty(l,"__esModule",{value:!0});l.VideoShimDataFetcher=void 0;z=function(){function f(e,b){this.serviceEnv=e;this.serviceUrl=b}f.prototype.getMetadata=function(e,b,c){var a=this,d=this.getServiceUrl(e);g.PlayerUtility.ajax(d,function(h){if(h&&h.length){var r=null;try{r=JSON.parse(h)}catch(t){c&&c();return}h=a.mapToVideoMetadata(e,r);b&&b(h)}else c&&c()},function(){c&&c()})};f.prototype.getServiceUrl=function(e){this.serviceUrl||(this.serviceUrl="prod"===this.serviceEnv?
p.PlayerConfig.shimServiceProdUrl:p.PlayerConfig.shimServiceIntUrl);return k.format(this.serviceUrl,e)};f.prototype.mapToVideoMetadata=function(e,b){if(!e||!b)return null;e={videoId:e};b.snippet&&(e.title=b.snippet.title,e.description=b.snippet.description,e.interactiveTriggersEnabled=b.snippet.interactiveTriggersEnabled,e.interactiveTriggersUrl=b.snippet.interactiveTriggersUrl,e.minimumAge=b.snippet.minimumAge,b.snippet.thumbnails&&(e.posterframeUrl=this.removeProtocolFromUrl(b.snippet.thumbnails.medium.url)));
if(b.captions){e.ccFiles=[];var c="\x26vtt\x3dtrue";for(d in b.captions)b.captions.hasOwnProperty(d)&&(0>b.captions[d].url.indexOf("?")&&(c="?vtt\x3dtrue"),e.ccFiles.push({locale:d,url:this.removeProtocolFromUrl(b.captions[d].url),ccType:m.ClosedCaptionTypes.TTML}),e.ccFiles.push({locale:d,url:this.removeProtocolFromUrl(b.captions[d].url)+c,ccType:m.ClosedCaptionTypes.VTT}))}if(b.streams){e.videoFiles=[];for(var a in b.streams)if(b.streams.hasOwnProperty(a)&&"1001"!==a){var d=b.streams[a];c=this.getMediaTypeAndQuality(a);
e.videoFiles.push({height:d.heightPixels,width:d.widthPixels,url:this.removeProtocolFromUrl(d.url),quality:c.quality,mediaType:c.mediaType})}}e.downloadableFiles=[];if(b.transcripts)for(var h in b.transcripts)b.transcripts.hasOwnProperty(h)&&e.downloadableFiles.push({locale:h,url:this.removeProtocolFromUrl(b.transcripts[h].url),mediaType:m.DownloadableMediaTypes.transcript});if(e.videoFiles){a=void 0;d=h=0;for(c=e.videoFiles;d<c.length;d++){var r=c[d];r.mediaType===m.MediaTypes.MP4&&r.width>=h&&(a=
r,h=r.width)}a&&e.downloadableFiles.push({locale:b.snippet.culture,url:this.removeProtocolFromUrl(a.url),mediaType:m.DownloadableMediaTypes.video})}return e};f.prototype.removeProtocolFromUrl=function(e){return e?e.replace(/(^\w+:|^)\/\//,"//"):e};f.prototype.getMediaTypeAndQuality=function(e){var b=m.MediaTypes.MP4,c=null;switch(e.toLowerCase()){case "h.264_320_180_400kbps":b=m.MediaTypes.MP4;c=m.MediaQuality.LO;break;case "h.264_640_360_1000kbps":b=m.MediaTypes.MP4;c=m.MediaQuality.SD;break;case "h.264_960_540_2250kbps":b=
m.MediaTypes.MP4;c=m.MediaQuality.HQ;break;case "h.264_1280_720_3400kbps":b=m.MediaTypes.MP4;c=m.MediaQuality.HD;break;case "apple_http_live_streaming":b=m.MediaTypes.HLS;break;case "smooth_streaming":b=m.MediaTypes.SMOOTH;break;case "mpeg_dash":b=m.MediaTypes.DASH}return{mediaType:b,quality:c}};f.prototype.isUuid=function(e){return/^[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}$/gi.test(e)};return f}();l.VideoShimDataFetcher=z});K("video-player/video-player","require exports video-player/player-factory mwf/utilities/utility mwf/utilities/htmlExtensions data/player-options utilities/player-utility constants/player-constants data/video-shim-data-fetcher".split(" "),
function(z,l,m,g,p,k,f,e,b){Object.defineProperty(l,"__esModule",{value:!0});l.VideoPlayer=void 0;z=function(){function c(a,d){var h=this;this.videoComponent=a;this.playerData={};this.resizePlayer=function(){if(h.videoComponent&&h.playerData&&h.playerData.options&&!h.playerData.options.flexSize){var r=h.videoComponent.getBoundingClientRect().width;r&&h.playerData.options.aspectRatio&&p.css(h.videoComponent,"height",r/h.playerData.options.aspectRatio+"px")}else h.videoComponent.style.removeProperty("height")};
a&&(c.playerInstanceCount++,this.playerId=a.getAttribute("id"),this.playerId||(this.playerId="vid-"+c.playerInstanceCount,this.videoComponent.setAttribute("id",this.playerId)),f.PlayerUtility.createVideoPerfMarker(this.playerId,e.videoPerfMarkers.playerInit),a="object"===typeof d?d:{},d&&d.options||(d=this.videoComponent.getAttribute(c.playerDataAttribute))&&(a=g.parseJson(d)),this.playerData.options=new k.PlayerOptions(a.options),this.playerData.metadata=a.metadata,this.playerData.metadata&&this.playerData.options.autoload?
this.load():this.resizePlayer(),p.addThrottledEvent(window,p.eventTypes.resize,this.resizePlayer),this.getCurrentTime=function(){var r=h.getPlayPosition();return r&&r.currentTime},this.getDuration=this.getVideoDuration=function(){var r=h.getPlayPosition();return r&&r.endTime-r.startTime})}c.prototype.updateContainerVisibility=function(a,d){a&&a.setAttribute("aria-hidden",d?"true":"false")};c.prototype.load=function(a){a&&(g.extend(this.playerData.options,a.options),this.playerData.metadata=a.metadata);
this.currentPlayer&&this.dispose();this.playerData.options&&this.playerData.options.debug&&this.videoComponent.setAttribute("data-debug","true");this.resizePlayer();!this.playerData.metadata||!this.playerData.metadata.videoId||this.playerData.metadata.videoFiles&&this.playerData.metadata.videoFiles.length||this.playerData.metadata.playerName?this.loadPlayer():this.fetchDataAndLoad()};c.prototype.updatePlayerSource=function(a){this.currentPlayer.updatePlayerSource(a)};c.prototype.fetchDataAndLoad=
function(){var a=this;f.PlayerUtility.createVideoPerfMarker(this.playerId,e.videoPerfMarkers.metadataFetchStart);(new b.VideoShimDataFetcher(this.playerData.options.shimServiceEnv,this.playerData.options.shimServiceUrl)).getMetadata(this.playerData.metadata.videoId,function(d){f.PlayerUtility.createVideoPerfMarker(a.playerId,e.videoPerfMarkers.metadataFetchEnd);a.playerData.metadata=d;a.loadPlayer()},function(){f.PlayerUtility.createVideoPerfMarker(a.playerId,e.videoPerfMarkers.metadataFetchEnd);
a.loadPlayer()})};c.prototype.getCurrentPlayState=function(){if(this.currentPlayer)return this.currentPlayer.getCurrentPlayState()};c.prototype.loadPlayer=function(){f.PlayerUtility.createVideoPerfMarker(this.playerId,e.videoPerfMarkers.playerLoadStart);var a=m.PlayerFactory.createPlayer(this.playerData.metadata&&this.playerData.metadata.playerName||c.defaultPlayerName,this.videoComponent,this.playerData);this.currentPlayer=a&&a.playerInstance;c.videoPlayerList[this.playerId]=this.currentPlayer};
c.prototype.dispose=function(){this.currentPlayer&&(this.currentPlayer.dispose(),this.currentPlayer=null,delete c.videoPlayerList[this.playerId]);p.removeInnerHtml(this.videoComponent)};c.prototype.play=function(){this.currentPlayer&&this.currentPlayer.play()};c.prototype.displayImage=function(a){this.currentPlayer&&this.currentPlayer.displayImage(a)};c.prototype.pause=function(a){this.currentPlayer&&this.currentPlayer.pause(a)};c.prototype.mute=function(a){this.currentPlayer&&(void 0===a||a?this.currentPlayer.mute():
this.currentPlayer.unmute())};c.prototype.unmute=function(){this.currentPlayer&&this.currentPlayer.unmute()};c.prototype.seek=function(a){this.currentPlayer&&this.currentPlayer.seek(a)};c.prototype.enterFullScreen=function(){this.currentPlayer&&this.currentPlayer.enterFullScreen()};c.prototype.exitFullScreen=function(){this.currentPlayer&&this.currentPlayer.exitFullScreen()};c.prototype.getPlayPosition=function(){return this.currentPlayer?this.currentPlayer.getPlayPosition():{currentTime:0,startTime:0,
endTime:0}};c.prototype.isLive=function(){return this.currentPlayer?this.currentPlayer.isLive():!1};c.prototype.addPlayerEventListener=function(a){this.currentPlayer&&this.currentPlayer.addPlayerEventListener(a)};c.prototype.removePlayerEventListener=function(a){this.currentPlayer&&this.currentPlayer.removePlayerEventListener(a)};c.prototype.setAutoPlay=function(){this.currentPlayer&&this.currentPlayer.setAutoPlay()};c.prototype.addPlayerEventsListener=function(a){this.currentPlayer&&this.currentPlayer.addPlayerEventListener(a)};
c.prototype.removePlayerEventsListener=function(a){this.currentPlayer&&this.currentPlayer.removePlayerEventListener(a)};c.prototype.getPlayerId=function(){return this.playerId};c.prototype.getPlayer=function(a){for(var d in c.videoPlayerList)if(a===d&&c.videoPlayerList.hasOwnProperty(d))return c.videoPlayerList[d];console.log("player not found in player list, id \x3d "+a);return null};c.prototype.resize=function(){this.currentPlayer&&this.currentPlayer.resize()};c.videoPlayerList={};c.selector=".c-video-player";
c.typeName="VideoPlayer";c.corePlayerContainer=".f-core-player";c.externalPlayerContainer=".f-external-player";c.playerDataAttribute="data-player-data";c.defaultPlayerName="coreplayer";c.playerInstanceCount=0;return c}();l.VideoPlayer=z;g.getPerfMarkerValue(e.videoPerfMarkers.scriptLoaded)||g.createPerfMarker(e.videoPerfMarkers.scriptLoaded,!0)});K("mwf/utilities/componentFactory",["require","exports","mwf/utilities/htmlExtensions","mwf/utilities/utility","mwf/utilities/stringExtensions"],function(z,
l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.ComponentFactory=void 0;var k=function(){function f(){}f.create=function(e){for(var b=0;b<e.length;b++){var c=e[b];if(!c.c&&!c.component)throw"factoryInput should has either component or c to tell the factory what component to create.Eg.ComponentFactory.create([{ c: Carousel] or ComponentFactory.create([component: Carousel]))";f.createComponent(c.component||c.c,c)}};f.createComponent=function(e,b){if(e){var c=b&&b.selector?b.selector:e.selector,
a=b&&b.context?b.context:null,d=[],h=function(r,t,v){var y=0;for(t=b.elements?b.elements:t?m.selectElementsT(t,a):[document.body];y<t.length;y++){var B=t[y];B.mwfInstances||(B.mwfInstances={});if(B.mwfInstances[r])d.push(B.mwfInstances[r]);else{var F=new e(B,v);if(!F.isObserving||F.isObserving())B.mwfInstances[r]=F,d.push(F)}}};switch(b&&b.eventToBind?b.eventToBind:""){case "DOMContentLoaded":f.onDomReadyHappened?f.callBindFunction(e,c,h,b,d):f.domReadyFunctions.push(function(){return f.callBindFunction(e,
c,h,b,d)});break;default:f.onDeferredHappened?f.callBindFunction(e,c,h,b,d):f.deferredFunctions.push(function(){return f.callBindFunction(e,c,h,b,d)})}}};f.callBindFunction=function(e,b,c,a,d){void 0===a&&(a=null);var h=(e=f.getTypeName(e))||b||"",r=a&&a.params?a.params:{};r.mwfClass=e;g.createPerfMarker(h+"_Begin");c(e,b,r);g.createPerfMarker(h+"_End");a&&a.callback&&a.callback(d)};f.getTypeName=function(e){if(e.typeName)return e.typeName;if(e.name)return e.name;if((e=f.typeNameRegEx.exec(e.toString()))&&
1<e.length)return e[1]};f.enumerateComponents=function(e,b){if(e&&b){e=e.mwfInstances;for(var c in e)if(e.hasOwnProperty(c)){var a=e[c];if(a&&!b(c,a))break}}};f.detach=function(e,b){if(e&&e.mwfInstances&&!p.isNullOrWhiteSpace(b)&&e.mwfInstances.hasOwnProperty(b)){var c=e.mwfInstances[b];e.mwfInstances[b]=null;c&&c.detach&&c.detach()}};f.typeNameRegEx=/function\s+(\S+)\s*\(/;f.onLoadTimeoutMs=6E3;f.onDeferredHappened=!1;f.deferredFunctions=[];f.onDomReadyHappened=!1;f.domReadyFunctions=[];return f}();
l.ComponentFactory=k;(function(){m.onDeferred(function(){k.onDeferredHappened=!0;var f=k.deferredFunctions;if(!f||0<f.length)for(var e=0;e<f.length;e++){var b=f[e];"function"===typeof b&&m.SafeBrowserApis.requestAnimationFrame.call(window,b)}k.deferredFunctions=null},k.onLoadTimeoutMs);m.documentReady(function(){k.onDomReadyHappened=!0;var f=k.domReadyFunctions;if(!f||0<f.length)for(var e=0;e<f.length;e++){var b=f[e];"function"===typeof b&&m.SafeBrowserApis.requestAnimationFrame.call(window,b)}k.domReadyFunctions=
null},k.onLoadTimeoutMs)})()});K("mwf/utilities/observableComponent",["require","exports","mwf/utilities/htmlExtensions"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});l.ObservableComponent=void 0;z=function(){function g(p,k){void 0===k&&(k=null);this.element=p;this.observing=this.ignoreNextDOMChange=!1;g.shouldInitializeAsClass(p,k)&&this.setObserver()}g.prototype.detach=function(){this.unObserve();this.teardown()};g.prototype.isObserving=function(){return this.observing};g.prototype.unObserve=
function(){this.observing=!1;this.modernObserver&&this.modernObserver.disconnect();m.removeEvent(this.element,m.eventTypes.DOMNodeInserted,this.obsoleteNodeInsertedEventHander);m.removeEvent(this.element,m.eventTypes.DOMNodeRemoved,this.obsoleteNodeRemovedEventHandler)};g.prototype.setObserver=function(){this.observing=!0;"undefined"!==typeof g.mutationObserver?this.observeModern():"MutationEvent"in window&&this.observeObsolete()};g.prototype.observeModern=function(){var p=this;this.modernObserver=
new g.mutationObserver(function(k){p.onModernMutations(k)});this.modernObserver.observe(this.element,{childList:!0,subtree:!0})};g.prototype.onModernMutations=function(p){if(this.ignoreNextDOMChange)this.ignoreNextDOMChange=!1;else{for(var k=!1,f=!1,e=0;e<p.length;e++){for(var b=p[e],c=0,a=b.addedNodes.length;c<a;c++)b.addedNodes[c].nodeType===Node.ELEMENT_NODE&&(f=k=!0);c=0;for(a=b.removedNodes.length;c<a;c++)b.removedNodes[c].nodeType===Node.ELEMENT_NODE&&(k=!0,b.removedNodes[c]!==this.element&&
(f=!0))}k&&this.teardown();f&&this.update()}};g.prototype.observeObsolete=function(){var p=this;this.obsoleteNodeInsertedEventHander=m.addDebouncedEvent(this.element,m.eventTypes.DOMNodeInserted,function(){p.onObsoleteNodeInserted()});this.obsoleteNodeRemovedEventHandler=m.addDebouncedEvent(this.element,m.eventTypes.DOMNodeRemoved,function(k){p.onObsoleteNodeRemoved(k)})};g.prototype.onObsoleteNodeInserted=function(){this.ignoreNextDOMChange||(this.teardown(),this.update())};g.prototype.onObsoleteNodeRemoved=
function(p){this.ignoreNextDOMChange||(this.teardown(),m.getEventTargetOrSrcElement(p)!==this.element&&this.update())};g.shouldInitializeAsClass=function(p,k){var f=p?p.getAttribute(g.mwfClassAttribute):null;return"false"===(p?p.getAttribute(g.initializeAttribute):null)?!1:!!p&&(!f||!!k&&f===k.mwfClass)};g.mwfClassAttribute="data-mwf-class";g.initializeAttribute="data-js-initialize";g.mutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;return g}();l.ObservableComponent=
z});K("mwf/utilities/publisher",["require","exports","mwf/utilities/observableComponent"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});l.Publisher=void 0;z=function(g){function p(k,f){void 0===f&&(f=null);f=g.call(this,k,f)||this;f.element=k;return f}U(p,g);p.prototype.subscribe=function(k){if(!k)return!1;if(!this.subscribers)this.subscribers=[];else if(-1!==this.subscribers.indexOf(k))return!1;this.subscribers.push(k);return!0};p.prototype.unsubscribe=function(k){if(!k||!this.subscribers||
!this.subscribers.length)return!1;k=this.subscribers.indexOf(k);if(-1===k)return!1;this.subscribers.splice(k,1);return!0};p.prototype.hasSubscribers=function(){return!!this.subscribers&&0<this.subscribers.length};p.prototype.initiatePublish=function(k){if(this.hasSubscribers())for(var f=0,e=this.subscribers;f<e.length;f++)this.publish(e[f],k)};p.prototype.update=function(){};p.prototype.teardown=function(){};return p}(m.ObservableComponent);l.Publisher=z});K("mwf/slider/slider",["require","exports",
"mwf/utilities/publisher","mwf/utilities/htmlExtensions","mwf/utilities/utility"],function(z,l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.Slider=void 0;z=function(k){function f(e){var b=k.call(this,e)||this;b.onKeyPressed=function(c){switch(c){case 37:case 39:if(!b.isVerticalSlider){var a=b.primaryDirection===g.Direction.left?b.stepOffset:-b.stepOffset;b.updateThumbOffset(b.thumbOffset+(37===c?-a:a),!0,!0);g.preventDefault(g.getEvent(event))}break;case 38:case 40:b.isVerticalSlider&&
(a=38===c?b.stepOffset:-b.stepOffset,b.updateThumbOffset(b.thumbOffset+a,!0,!0),g.preventDefault(g.getEvent(event)));break;case 33:g.preventDefault(g.getEvent(event));a=2*b.stepOffset;b.updateThumbOffset(b.thumbOffset+a,!0,!0);break;case 34:g.preventDefault(g.getEvent(event));a=-(2*b.stepOffset);b.updateThumbOffset(b.thumbOffset+a,!0,!0);break;case 36:g.preventDefault(g.getEvent(event));c=parseInt(b.input.getAttribute("min"),10)||0;b.updateThumbOffset(c,!0,!0);break;case 35:g.preventDefault(g.getEvent(event)),
c=parseInt(b.input.getAttribute("step"),10),b.updateThumbOffset(b.thumbRange+c,!0,!0)}};b.onKeyDown=function(c){b.onKeyPressed(p.getKeyCode(g.getEvent(c)))};b.onMouseDown=function(c){c=g.getEvent(c);b.setupDimensions();g.getEventTargetOrSrcElement(c)===b.thumb?(g.addEvent(document,g.eventTypes.mousemove,b.onMouseMove),g.addEvent(document,g.eventTypes.mouseup,b.onMouseUp),g.addEvent(document,g.eventTypes.touchmove,b.onMouseMove),g.addEvent(document,g.eventTypes.touchcancel,b.onMouseUp)):b.moveThumbTo(c.clientX,
c.clientY)};b.onMouseMove=function(c){"mousemove"===c.type&&(c=g.getEvent(c));"touchmove"===c.type&&(c=g.getEvent(c).targetTouches[0]);b.moveThumbTo(c.clientX,c.clientY)};b.onMouseUp=function(c){g.removeEvent(document,g.eventTypes.mousemove,b.onMouseMove);g.removeEvent(document,g.eventTypes.mouseup,b.onMouseUp);g.removeEvent(document,g.eventTypes.touchmove,b.onMouseMove);g.removeEvent(document,g.eventTypes.touchcancel,b.onMouseUp)};b.onWindowResized=function(c){b.setupDimensions()};b.update();return b}
U(f,k);f.prototype.update=function(){if(this.element){this.input=g.selectFirstElement("input",this.element);this.primaryDirection=g.getDirection(this.element);this.isVerticalSlider=g.hasClass(this.input,"f-vertical");g.preventDefaultSwipeAction(this.element,!this.isVerticalSlider);g.addClass(this.input,"x-screen-reader");var e=parseInt(this.input.getAttribute("min"),10)||0,b=parseInt(this.input.getAttribute("max"),10)||100,c=parseInt(this.input.getAttribute("value"),10),a=parseInt(this.input.getAttribute("step"),
10);this.element.children[this.element.children.length-1]===this.input?(this.mockSlider=document.createElement("div"),this.thumb=document.createElement("button"),this.thumb.setAttribute("role","slider"),this.thumb.setAttribute("aria-valuemin",e.toString()),this.thumb.setAttribute("aria-valuemax",b.toString()),this.thumb.setAttribute("aria-valuenow",c.toString()),this.thumb.setAttribute("aria-valuetext",c.toString()),this.input.hasAttribute("aria-label")&&this.thumb.setAttribute("aria-label",this.input.getAttribute("aria-label")),
this.valueTooltip=document.createElement("span"),this.track=document.createElement("span"),this.thumb.appendChild(this.valueTooltip),this.mockSlider.appendChild(this.thumb),this.mockSlider.appendChild(this.track),this.element.appendChild(this.mockSlider),this.ignoreNextDOMChange=!0):(this.mockSlider=this.element.children[this.element.children.length-1],this.thumb=this.mockSlider.firstElementChild,this.valueTooltip=this.thumb.firstElementChild,this.track=this.mockSlider.children[this.mockSlider.children.length-
1]);this.halfThumbOffset=this.thumb.clientWidth/2;this.resetSliderInternal(e,b,c,a,!0)&&(g.addEvent(this.element,g.eventTypes.mousedown,this.onMouseDown),g.addEvent(this.element,g.eventTypes.touchstart,this.onMouseDown),g.addEvent(this.thumb,g.eventTypes.keydown,this.onKeyDown),this.resizeListener=g.addDebouncedEvent(window,g.eventTypes.resize,this.onWindowResized))}};f.prototype.teardown=function(){g.removeEvent(this.element,g.eventTypes.mousedown,this.onMouseDown);g.removeEvent(this.element,g.eventTypes.touchstart,
this.onMouseDown);g.removeEvent(this.thumb,g.eventTypes.keydown,this.onKeyDown);g.removeEvent(window,g.eventTypes.resize,this.resizeListener);this.resizeListener=this.track=this.valueTooltip=this.thumb=this.mockSlider=this.input=null};f.prototype.resetSlider=function(e,b,c,a){return this.resetSliderInternal(e,b,c,a,!1)};f.prototype.resetSliderInternal=function(e,b,c,a,d){if(!p.isNumber(e)||!p.isNumber(b)||0>=Math.max(e,b)-Math.min(e,b))return!1;this.min=Math.min(e,b);this.max=Math.max(e,b);this.range=
this.max-this.min;this.step=isNaN(a)?this.range/10:a;this.value=Math.min(Math.max(isNaN(c)?isNaN(this.value)?this.min:this.value:c,this.min),this.max);this.setupDimensions();this.updateThumbOffset(this.thumbOffset,d,!1,this.value);return!0};f.prototype.setValue=function(e){if(!p.isNumber(e)||e<this.min||e>this.max)return!1;e!==this.value&&(this.thumbOffset=(e-this.min)*this.thumbRange/this.range+this.halfThumbOffset,this.updateThumbOffset(this.thumbOffset,!1,!1,e));return!0};f.prototype.setupDimensions=
function(){this.dimensions=g.getClientRect(this.mockSlider);this.isVerticalSlider?(this.dimensions.left-=f.hitPadding,this.dimensions.right+=f.hitPadding,this.thumbRange=this.dimensions.height-this.thumb.clientWidth,this.maxThumbOffset=this.dimensions.height):(this.dimensions.top-=f.hitPadding,this.dimensions.bottom+=f.hitPadding,this.thumbRange=this.dimensions.width-this.thumb.clientWidth,this.maxThumbOffset=this.dimensions.width);this.thumbRange=Math.max(this.thumbRange,1);this.thumbOffset=(this.value-
this.min)*this.thumbRange/this.range+this.halfThumbOffset;this.stepOffset=this.thumbRange/(this.range/this.step);this.setThumbPosition()};f.prototype.setThumbPosition=function(){var e=Math.max(0,this.thumbOffset-this.halfThumbOffset);g.css(this.thumb,g.Direction[this.primaryDirection],e+"px");g.css(this.track,"width",e+"px")};f.prototype.updateThumbOffset=function(e,b,c,a){void 0===a&&(a=NaN);p.isNumber(e)||(e=this.thumbOffset);this.thumbOffset=Math.min(Math.max(0,e),this.maxThumbOffset);e=a;isNaN(e)&&
(e=1E3*Math.max(0,this.thumbOffset-this.halfThumbOffset)*this.range/this.thumbRange,e=Math.round(e)/1E3+this.min);this.value=Math.min(Math.max(this.min,e),this.max);this.input.setAttribute("value",this.value.toString());e=parseFloat(this.input.getAttribute("value"));isNaN(e)||(this.value=e);e=isNaN(parseFloat(this.input.getAttribute("step")))?0===this.value%1?this.value.toString():(Math.round(10*this.value)/10).toString():this.value.toString();this.thumb.setAttribute("aria-valuenow",e);this.thumb.setAttribute("aria-valuetext",
e);this.setThumbPosition();this.valueDescriptor=null;this.initiatePublish({value:this.value,internal:b,userInitiated:c});b=this.valueDescriptor||{};this.valueDescriptor=null;"object"===typeof b?(g.setText(this.valueTooltip,b.tooltipText||e),b.ariaValueText&&this.thumb.setAttribute("aria-valuetext",b.ariaValueText)):"string"===typeof b&&((isNaN(parseFloat(b))||b.match(":"))&&this.thumb.setAttribute("aria-valuetext","00:00:00"===b?"0 second":b),g.setText(this.valueTooltip,b))};f.prototype.publish=function(e,
b){(e=e.onValueChanged(b))&&!this.valueDescriptor&&(this.valueDescriptor=e)};f.prototype.moveThumbTo=function(e,b){p.pointInRect(e,b,this.dimensions)&&(b=this.dimensions.bottom-b,this.isVerticalSlider||(b=this.primaryDirection===g.Direction.left?e-this.dimensions.left:this.dimensions.right-e),this.updateThumbOffset(b,!0,!0))};f.selector=".c-slider";f.typeName="Slider";f.hitPadding=20;return f}(m.Publisher);l.Slider=z});K("helpers/localization-helper",["require","exports","mwf/utilities/stringExtensions",
"data/player-config","utilities/player-utility"],function(z,l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.LocalizationHelper=l.playerLocKeys=l.ccLanguageCodes=l.ccCultureLocStrings=void 0;var k={audio_tracks:"Audio Tracks",closecaption_off:"Off",geolocation_error:"We're sorry, this video cannot be played from your current location.",media_err_aborted:"video playback was aborted",media_err_decode:"video is not readable",media_err_network:"video failed to download",media_err_src_not_supported:"video format is not supported",
media_err_unknown_error:"unknown error occurred",media_err_amp_encrypt:"The video is encrypted and we do not have the keys to decrypt it.",media_err_amp_player_mismatch:"No compatible source was found for this video.",browserunsupported:"We're sorry, but your browser does not support this video.",browserunsupported_download:"Please download a copy of this video to view on your device:",expand:"Full Screen",mute:"Mute",nullvideoerror:"We're sorry, this video cannot be played.",pause:"Pause",play:"Play",
play_pause_button_tooltip:"Play and Pause Button",live_caption:"Skip ahead to live broadcast.",live_label:"LIVE",playbackerror:"We're sorry, an error has occurred when playing video ({0}).",standarderror:"We're sorry, this video can't be played.",time:"Time",more_caption:"More options",data_error:"Sorry, this video cannot be played.",seek:"Seek",unexpand:"Exit Full Screen",unmute:"Unmute",volume:"Volume",quality:"Quality",quality_hd:"HD",quality_hq:"HQ",quality_lo:"LO",quality_sd:"SD",quality_auto:"Auto",
closecaption:"Closed captions",close_text:"Close",playbackspeed:"Playback speed",playbackspeed_normal:"Normal",sharing_label:"Share",sharing_facebook:"Facebook",sharing_twitter:"Twitter",sharing_linkedin:"LinkedIn",sharing_skype:"Skype",sharing_mail:"Mail",sharing_copy:"Copy link",loading_value_text:"Loading...",loading_aria_label:"Loading",descriptive_audio:"Audio description",unknown_language:"Unknown",cc_customize:"Customize",cc_text_font:"Font",cc_text_color:"Text color",cc_color_black:"Black",
cc_color_blue:"Blue",cc_color_cyan:"Cyan",cc_color_green:"Green",cc_color_grey:"Grey",cc_color_magenta:"Magenta",cc_color_red:"Red",cc_color_white:"White",cc_color_yellow:"Yellow",cc_font_name_casual:"Casual",cc_font_name_cursive:"Cursive",cc_font_name_monospacedsansserif:"Monospaced Sans Serif",cc_font_name_monospacedserif:"Monospaced Serif",cc_font_name_proportionalserif:"Proportional Serif",cc_font_name_proportionalsansserif:"Proportional Sans Serif",cc_font_name_smallcapitals:"Small Capitals",
cc_text_size:"Text size",cc_text_size_default:"Default",cc_text_size_extralarge:"Extra Large",cc_text_size_large:"Large",cc_text_size_maximum:"Maximum",cc_text_size_small:"Small",cc_appearance:"Appearance",cc_preset1:"Preset 1 ",cc_preset2:"Preset 2",cc_preset3:"Preset 3",cc_preset4:"Preset 4",cc_preset5:"Preset 5",cc_presettings:"Close captions appearance {0}: ({1}:{2}, {3}:{4})",cc_text_background_color:"Background color",cc_text_background_opacity:"Background opacity",cc_text_opacity:"Text opacity",
cc_percent_0:"0%",cc_percent_100:"100%",cc_percent_25:"25%",cc_percent_50:"50%",cc_percent_75:"75%",cc_text_edge_color:"Text edge color",cc_text_edge_style:"Text edge style",cc_text_edge_style_depressed:"Depressed",cc_text_edge_style_dropshadow:"Drop shadow",cc_text_edge_style_none:"No edge",cc_text_edge_style_raised:"Raised",cc_text_edge_style_uniform:"Uniform",cc_window_color:"Window color",cc_window_opacity:"Window opacity",cc_reset:"Reset",download_label:"Download",download_transcript:"Transcript",
download_audio:"Audio",download_video:"Video",download_videoWithCC:"Video with closed captions",agegate_day:"Day",agegate_month:"Month",agegate_year:"Year",agegate_submit:"Submit",agegate_fail:"This content is not available at this time due to age restrictions.",agegate_enterdate:"Enter your date of birth",agegate_enterdate_arialabel:"Enter your {0} of birth",agegate_verifyyourage:"Content not intended for all audiences. Please verify your age.",agegate_dateorder:"m/d/yyyy",previous_menu_aria_label:"{0} menu - go back to previous menu",
reactive_menu_aria_label:"{0} menu - close menu",reactive_menu_aria_label_closedcaption:"Close {0}",interactivity_show:"Show",interactivity_hide:"Hide",play_video:"Play Video",playing:"playing",paused:"paused"};l.ccCultureLocStrings={"ar-ab":"\u0639\u0631\u0628\u064a","ar-xm":"\u0639\u0631\u0628\u064a","ar-ma":"\u0639\u0631\u0628\u064a","ar-sa":"\u0639\u0631\u0628\u064a","eu-es":"Euskara","bg-bg":"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438","ca-es":"Catal\u00e0","zh-cn":"\u7b80\u4f53\u4e2d\u6587",
"zh-hk":"\u7e41\u9ad4\u4e2d\u6587","zh-tw":"\u7e41\u9ad4\u4e2d\u6587","hr-hr":"Hrvatski","cs-cz":"\u010ce\u0161tina","da-dk":"Dansk","nl-be":"Nederlands","nl-nl":"Nederlands","en-ab":"English","en-aa":"English","en-au":"English","en-ca":"English","en-eu":"English","en-hk":"English","en-in":"English","en-id":"English","en-ie":"English","en-jm":"English","en-my":"English","en-nz":"English","en-pk":"English","en-ph":"English","en-sg":"English","en-za":"English","en-tt":"English","en-gb":"English","en-us":"English",
"et-ee":"Eesti","fi-fi":"Suomi","fr-ab":"Fran\u00e7ais","fr-be":"Fran\u00e7ais","fr-ca":"Fran\u00e7ais","fr-fr":"Fran\u00e7ais","fr-xf":"Fran\u00e7ais","fr-ch":"Fran\u00e7ais","gl-es":"Galego","de-de":"Deutsch","de-at":"Deutsch","de-ch":"Deutsch","el-gr":"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac","he-il":"\u05e2\u05d1\u05e8\u05d9\u05ea","hi-in":"\u0939\u093f\u0902\u0926\u0940","hu-hu":"Magyar","is-is":"\u00cdslenska","id-id":"Bahasa Indonesia","it-it":"Italiano","ja-jp":"\u65e5\u672c\u8a9e",
"kk-kz":"\u049a\u0430\u0437\u0430\u049b","ko-kr":"\ud55c\uad6d\uc5b4","lv-lv":"Latvie\u0161u","lt-lt":"Lietuvi\u0173","ms-my":"Bahasa Melayu (Asia Tenggara)\u200e","nb-no":"Norsk (bokm\u00e5l)","nn-no":"Norsk (nynorsk)","fa-ir":"\u0641\u0627\u0631\u0633\u06cc","pl-pl":"Polski","pt-br":"Portugu\u00eas (Brasil)\u200e","pt-pt":"Portugu\u00eas (Portugal)\u200e","ro-ro":"Rom\u00e2n\u0103","ru-ru":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439","sr-latn-rs":"Srpski","sk-sk":"Sloven\u010dina","sl-si":"Slovenski",
"es-ar":"Espa\u00f1ol","es-cl":"Espa\u00f1ol","es-co":"Espa\u00f1ol","es-cr":"Espa\u00f1ol","es-do":"Espa\u00f1ol","es-ec":"Espa\u00f1ol","es-us":"Espa\u00f1ol","es-gt":"Espa\u00f1ol","es-hn":"Espa\u00f1ol","es-xl":"Espa\u00f1ol","es-mx":"Espa\u00f1ol","es-ni":"Espa\u00f1ol","es-pa":"Espa\u00f1ol","es-py":"Espa\u00f1ol","es-pe":"Espa\u00f1ol","es-pr":"Espa\u00f1ol","es-es":"Espa\u00f1ol","es-uy":"Espa\u00f1ol","es-ve":"Espa\u00f1ol","sv-se":"Svenska","tl-ph":"Tagalog","th-th":"\u0e44\u0e17\u0e22",
"tr-tr":"T\u00fcrk\u00e7e","uk-ua":"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430","ur-pk":"\u0627\u0631\u062f\u0648","vi-vn":"Ti\u1ebfng Vi\u1ec7t","sl-sl":"Slovenian"};l.ccLanguageCodes={"ar-ab":"ar","ar-xm":"ar","ar-ma":"ar","ar-sa":"ar","eu-es":"eu","bg-bg":"bg","ca-es":"ca","zh-cn":"zh-cn","zh-hk":"zh-hk","zh-tw":"zh-tw","hr-hr":"hr","cs-cz":"cs","da-dk":"da","nl-be":"nl","nl-nl":"nl","en-ab":"en","en-aa":"en","en-au":"en","en-ca":"en","en-eu":"en","en-hk":"en","en-in":"en","en-id":"en",
"en-ie":"en","en-jm":"en","en-my":"en","en-nz":"en","en-pk":"en","en-ph":"en","en-sg":"en","en-za":"en","en-tt":"en","en-gb":"en","en-us":"en","et-ee":"et","fi-fi":"fi","fr-ab":"fr","fr-be":"fr","fr-ca":"fr","fr-fr":"fr","fr-xf":"fr","fr-ch":"fr","gl-es":"gl","de-de":"de","de-at":"de","de-ch":"de","el-gr":"el","he-il":"he","hi-in":"hi","hu-hu":"hu","is-is":"is","id-id":"id","it-it":"it","ja-jp":"ja","kk-kz":"kk","ko-kr":"ko","lv-lv":"lv","lt-lt":"lt","ms-my":"ms\u200e","nb-no":"nb","nn-no":"nn","fa-ir":"fa",
"pl-pl":"pl","pt-br":"pt-br","pt-pt":"pt-pt","ro-ro":"ro","ru-ru":"ru","sr-latn-rs":"sr-latn-rs","sk-sk":"sk","sl-si":"sl","es-ar":"es-ar","es-cl":"es-cl","es-co":"es-co","es-cr":"es-cr","es-do":"es-do","es-ec":"es-ec","es-us":"es-us","es-gt":"es-gt","es-hn":"es-hn","es-xl":"es-xl","es-mx":"es-mx","es-ni":"es-ni","es-pa":"es-pa","es-py":"es-py","es-pe":"es-pe","es-pr":"es-pr","es-es":"es-es","es-uy":"es-uy","es-ve":"es-ve","sv-se":"sv","tl-ph":"tl","th-th":"th","tr-tr":"tr","uk-ua":"uk","ur-pk":"ur",
"vi-vn":"vi","sl-sl":"sl"};l.playerLocKeys={audio_tracks:"audio_tracks",closecaption_off:"closecaption_off",geolocation_error:"geolocation_error",media_err_aborted:"media_err_aborted",media_err_decode:"media_err_decode",media_err_network:"media_err_network",media_err_src_not_supported:"media_err_src_not_supported",media_err_unknown_error:"media_err_unknown_error",media_err_amp_encrypt:"media_err_amp_encrypt",media_err_amp_player_mismatch:"media_err_amp_player_mismatch",browserunsupported:"browserunsupported",
browserunsupported_download:"browserunsupported_download",expand:"expand",mute:"mute",nullvideoerror:"nullvideoerror",pause:"pause",play:"play",play_video:"play_video",playing:"playing",paused:"paused",play_pause_button_tooltip:"play_pause_button_tooltip",live_caption:"live_caption",live_label:"live_label",playbackerror:"playbackerror",standarderror:"standarderror",time:"time",more_caption:"more_caption",data_error:"data_error",seek:"seek",unexpand:"unexpand",unmute:"unmute",volume:"volume",quality:"quality",
quality_hd:"quality_hd",quality_hq:"quality_hq",quality_lo:"quality_lo",quality_sd:"quality_sd",quality_auto:"quality_auto",cc_customize:"cc_customize",cc_text_font:"cc_text_font",cc_text_color:"cc_text_color",cc_color_black:"cc_color_black",cc_color_blue:"cc_color_blue",cc_color_cyan:"cc_color_cyan",cc_color_green:"cc_color_green",cc_color_grey:"cc_color_grey",cc_color_magenta:"cc_color_magenta",cc_color_red:"cc_color_red",cc_color_white:"cc_color_white",cc_color_yellow:"cc_color_yellow",cc_font_name_casual:"cc_font_name_casual",
cc_font_name_cursive:"cc_font_name_cursive",cc_font_name_monospacedsansserif:"cc_font_name_monospacedsansserif",cc_font_name_proportionalsansserif:"cc_font_name_proportionalsansserif",cc_font_name_monospacedserif:"cc_font_name_monospacedserif",cc_font_name_proportionalserif:"cc_font_name_proportionalserif",cc_font_name_smallcapitals:"cc_font_name_smallcapitals",cc_text_size:"cc_text_size",cc_text_size_default:"cc_text_size_default",cc_text_size_extralarge:"cc_text_size_extralarge",cc_text_size_large:"cc_text_size_large",
cc_text_size_maximum:"cc_text_size_maximum",cc_text_size_small:"cc_text_size_small",cc_appearance:"cc_appearance",cc_preset1:"cc_preset1",cc_preset2:"cc_preset2",cc_preset3:"cc_preset3",cc_preset4:"cc_preset4",cc_preset5:"cc_preset5",cc_presettings:"cc_presettings",cc_text_background_color:"cc_text_background_color",cc_text_background_opacity:"cc_text_background_opacity",cc_text_opacity:"cc_text_opacity",cc_percent_0:"cc_percent_0",cc_percent_100:"cc_percent_100",cc_percent_25:"cc_percent_25",cc_percent_50:"cc_percent_50",
cc_percent_75:"cc_percent_75",cc_text_edge_color:"cc_text_edge_color",cc_text_edge_style:"cc_text_edge_style",cc_text_edge_style_depressed:"cc_text_edge_style_depressed",cc_text_edge_style_dropshadow:"cc_text_edge_style_dropshadow",cc_text_edge_style_none:"cc_text_edge_style_none",cc_text_edge_style_raised:"cc_text_edge_style_raised",cc_text_edge_style_uniform:"cc_text_edge_style_uniform",cc_window_color:"cc_window_color",cc_window_opacity:"cc_window_opacity",cc_reset:"cc_reset",closecaption:"closecaption",
close_text:"close_text",playbackspeed:"playbackspeed",playbackspeed_normal:"playbackspeed_normal",sharing_label:"sharing_label",sharing_facebook:"sharing_facebook",sharing_twitter:"sharing_twitter",sharing_linkedin:"sharing_linkedin",sharing_skype:"sharing_skype",sharing_mail:"sharing_mail",sharing_copy:"sharing_copy",loading_value_text:"loading_value_text",loading_aria_label:"loading_aria_label",descriptive_audio:"descriptive_audio",unknown_language:"unknown_language",download_label:"download_label",
download_transcript:"download_transcript",download_audio:"download_audio",download_video:"download_video",download_videoWithCC:"download_videoWithCC",agegate_day:"agegate_day",agegate_month:"agegate_month",agegate_year:"agegate_year",agegate_enterdate:"agegate_enterdate",agegate_enterdate_arialabel:"agegate_enterdate_arialabel",agegate_fail:"agegate_fail",agegate_verifyyourage:"agegate_verifyyourage",agegate_submit:"agegate_submit",agegate_dateorder:"agegate_dateorder",previous_menu_aria_label:"previous_menu_aria_label",
reactive_menu_aria_label:"reactive_menu_aria_label",reactive_menu_aria_label_closedcaption:"reactive_menu_aria_label_closedcaption",interactivity_show:"interactivity_show",interactivity_hide:"interactivity_hide"};var f={transcript:"download_transcript",audio:"download_audio",video:"download_video",videoWithCC:"download_videoWithCC"};z=function(){function e(b,c,a,d){this.market=b;this.resHost=c;this.resHash=a;this.onErrorCallback=d}e.prototype.getCorrectResourceHost=function(){return this.resHost||
(-1===g.PlayerConfig.resourceHost.indexOf("%playerResourceHost")?g.PlayerConfig.resourceHost:g.PlayerConfig.defaultResourceHost)};e.prototype.getResourceHash=function(){return this.resHash||(-1===g.PlayerConfig.resourceHash.indexOf("%playerResourceHash")?g.PlayerConfig.resourceHash:"latest")};e.prototype.queueRequest=function(b){var c=this;if(e.requestQueue[this.market])e.requestQueue[this.market].push(b);else{e.requestQueue[this.market]=[b];var a=m.format(g.PlayerConfig.resourcesUrl,this.getCorrectResourceHost(),
this.market,this.getResourceHash());p.PlayerUtility.ajax(a,function(d){if(d&&d.length)try{e.resources[c.market]=JSON.parse(d)}catch(h){if(c.onErrorCallback)c.onErrorCallback({errorType:"oneplayer.error.LocalizationHelper.queueRequest.parse",errorDesc:"Parsing error "+a})}else if(c.onErrorCallback)c.onErrorCallback({errorType:"oneplayer.error.LocalizationHelper.queueRequest.ajaxcall",errorDesc:"No result for file: "+a});c.completeRequest()},this.completeRequest)}};e.prototype.completeRequest=function(){if(e.requestQueue[this.market]){for(var b=
0,c=e.requestQueue[this.market];b<c.length;b++)this.doCallback(c[b]);e.requestQueue[this.market]=null}};e.prototype.doCallback=function(b){b&&"function"===typeof b&&b()};e.prototype.loadResources=function(b){!this.market||e.resources[this.market]?this.doCallback(b):this.queueRequest(b)};e.prototype.getLocalizedValue=function(b){return b?e.resources[this.market]&&e.resources[this.market][b]||k[b]||"":""};e.prototype.getLanguageNameFromLocale=function(b){return l.ccCultureLocStrings[b]||this.getLocalizedValue(l.playerLocKeys.unknown_language)};
e.prototype.getLanguageCodeFromLocale=function(b){return l.ccLanguageCodes[b]||null};e.prototype.getLocalizedMediaTypeName=function(b){if(!b||!f[b])return"";b=f[b];return e.resources[this.market]&&e.resources[this.market][b]||k[b]||""};e.resources={};e.requestQueue={};return e}();l.LocalizationHelper=z});K("controls/video-controls","require exports mwf/utilities/componentFactory mwf/slider/slider mwf/utilities/utility mwf/utilities/htmlExtensions helpers/localization-helper mwf/utilities/stringExtensions utilities/environment".split(" "),
function(z,l,m,g,p,k,f,e,b){Object.defineProperty(l,"__esModule",{value:!0});l.VideoControls=void 0;z=function(){function c(a,d,h,r){var t=this;this.videoControls=a;this.localizationHelper=h;this.contextMenu=r;this.isWindowZoomedIn=this.isEscapeButtonPressed=this.closeMenuRequested=!1;this.defaultMenuRight="90px";this.currentVolume=this.focusedMenuItemIndex=0;this.volumeAutoHideTimer=null;this.tooltipElements=[];this.reactiveControls=[];this.preventKeyUpOnLastButton=!1;this.reactiveWidths=[100,430,
540,650,768,926,1084];this.userInteractionCallbacks=[];this.activeMenuButton=null;this.xboxControlsEnabled=!1;this.onControlKeyboardEvent=function(v){var y=p.getKeyCode(v);t.triggerUserInteractionCallback();switch(y){case 36:k.stopPropagation(v);k.preventDefault(v);t.videoPlayer.seek(t.toAbsoluteTime(0));break;case 35:k.stopPropagation(v);k.preventDefault(v);t.videoPlayer.seek(t.videoPlayer.getPlayPosition().endTime);break;case 27:t.videoPlayer.isFullScreen()&&k.stopPropagation(v);t.closeMenuRequested||
window.parent.postMessage(JSON.stringify({eventName:"escape",playerId:p.getQSPValue("pid",!1)}),"*");t.hideAllMenus();t.hideVolumeContainer();t.closeMenuRequested=!1;break;case 37:case 39:k.stopPropagation(v);k.preventDefault(v);if(v=t.videoPlayer.getPlayPosition()){var B=v.currentTime;y=37===y?B-c.seekSteps:B+c.seekSteps;y=Math.min(Math.max(v.startTime,y),v.endTime);t.videoPlayer.seek(y)}else t.videoPlayer.seek(0);break;case 38:case 40:k.stopPropagation(v),k.preventDefault(v),t.showVolumeContainer(!0),
v=100*t.videoPlayer.getVolume(),38===y?t.setVolume(Math.min((v+c.volumeSteps)/100,1),!0):t.setVolume(Math.max((v-c.volumeSteps)/100,0),!0)}};this.focusTrapHandler=function(v){v=k.getEvent(v);var y=k.getEventTargetOrSrcElement(v);9===p.getKeyCode(v)&&(y===t.focusTrapStart&&v.shiftKey?(v.preventDefault(),t.contextMenu&&t.contextMenu.checkContextMenuIsVisible()?t.contextMenu.setFocusOnFirstElement():t.setFocus(t.fullScreenButton)):y!==t.fullScreenButton||v.shiftKey||(v.preventDefault(),t.contextMenu&&
t.contextMenu.checkContextMenuIsVisible()?t.contextMenu.setFocusOnFirstElement():t.setFocus(t.focusTrapStart)))};this.onPlayPauseEvents=function(v){switch(v.type){case "click":t.videoPlayer.setUserInteracted(!0);t.videoPlayer.isPaused()?(t.videoPlayer.setUserIntiatedPause(!1),t.play()):(t.videoPlayer.setUserIntiatedPause(!0),t.pause());break;case "mouseover":case "focus":b.Environment.isChrome&&(t.videoPlayer.isPaused()?t.setAriaLabelForPlayButton():t.playButton.setAttribute(c.ariaLabel,t.locPause));
t.showElement(t.playTooltip);break;case "mouseout":case "blur":t.hideElement(t.playTooltip)}};this.onLiveButtonEvents=function(v){switch(v.type){case "click":t.videoPlayer&&t.videoPlayer.seek(t.videoPlayer.getPlayPosition().endTime);break;case "mouseover":case "focus":t.showElement(t.liveTooltip);break;case "mouseout":case "blur":t.hideElement(t.liveTooltip)}};this.onVolumeEvents=function(v){switch(v.type){case "click":k.getEventTargetOrSrcElement(v)===t.volumeButton&&(t.videoPlayer.isMuted()?(t.currentVolume=
0===t.currentVolume?100:t.currentVolume,t.setMuted(!1,!0),t.setVolume(Math.min(t.currentVolume/100,1),!1),t.videoPlayer.updateScreenReaderElement(t.locUnmute)):(t.currentVolume=100*t.videoPlayer.getVolume(),t.setMuted(!0,!0),t.setVolume(0,!1),t.videoPlayer.updateScreenReaderElement(t.locMute)));break;case "mouseover":case "focus":t.isEscapeButtonPressed?t.isEscapeButtonPressed=!1:t.showVolumeContainer();break;case "mouseout":case "blur":t.hideVolumeContainer()}};this.onVolumeSliderEvents=function(v){switch(v.type){case "focus":t.showVolumeContainer();
break;case "blur":t.hideVolumeContainer();break;case "keydown":var y=p.getKeyCode(v);t.showVolumeContainer(!0);27===y&&(k.stopPropagation(v),t.isEscapeButtonPressed=!0,t.closeMenuRequested=!0,t.hideVolumeContainer(),t.setFocus(t.volumeButton))}};this.onSliderKeyboardEvents=function(v){switch(p.getKeyCode(v)){case 40:case 38:case 37:case 39:case 34:case 33:case 36:case 35:k.stopPropagation(v),k.preventDefault(v)}t.triggerUserInteractionCallback()};this.onMoreOptionsEvents=function(v){switch(v.type){case "click":t.toggleOptionsDialog(!1);
break;case "keyup":case "keydown":var y=p.getKeyCode(k.getEvent(v));if(32===y||13===y)k.preventDefault(v),"keyup"===v.type&&t.toggleOptionsDialog(!0);break;case "mouseover":case "focus":t.activeMenu||t.showElement(t.moreOptionsTooltip);break;case "mouseout":case "blur":t.hideElement(t.moreOptionsTooltip)}};this.onFullScreenEvents=function(v){switch(v.type){case "click":t.videoPlayer&&t.videoPlayer.toggleFullScreen();break;case "mouseover":case "focus":t.showElement(t.fullScreenTooltip);break;case "mouseout":case "blur":t.hideElement(t.fullScreenTooltip)}};
this.onMenuButtonClick=function(v){var y=k.getEventTargetOrSrcElement(v),B=y.getAttribute("data-menu-id");switch(v.type){case "click":t.toggleMenuById(y,!1,B);break;case "keyup":case "keydown":"true"===t.videoControls.getAttribute("aria-hidden")&&t.videoControls.setAttribute("aria-hidden","false");var F=p.getKeyCode(k.getEvent(v));if(32===F||13===F)k.preventDefault(v),"keyup"!==v.type||t.preventKeyUpOnLastButton?t.preventKeyUpOnLastButton=!1:t.toggleMenuById(y,!0,B);break;case "mouseover":case "focus":t.activeMenu||
t.showElement(k.selectFirstElement("span",y));break;case "mouseout":case "blur":t.hideElement(k.selectFirstElement("span",y))}};this.onMenuEvents=function(v,y){switch(v.type){case "click":t.onMenuItemClick(v,y);break;case "keyup":32===p.getKeyCode(v)&&k.preventDefault(v);break;case "keydown":t.onMenuKeyPressed(v)}};this.onMenuItemClick=function(v,y){v=k.getEvent(v);var B=k.getEventTargetOrSrcElement(v),F=B.getAttribute("data-next-menu");k.preventDefault(v);if("back"===F)v=B.getAttribute("aria-label"),
F=t.localizationHelper.getLocalizedValue(f.playerLocKeys.reactive_menu_aria_label).replace("{0}",""),k.hasClass(B,"closed-caption")&&(F=t.localizationHelper.getLocalizedValue(f.playerLocKeys.reactive_menu_aria_label_closedcaption).replace("{0}","")),v&&0<=v.indexOf(F)?(t.focusOnLastButton(),t.preventKeyUpOnLastButton=!0):(B=t.menuBackStack.pop())&&t.showMenu(B,y);else if(F)t.activeMenu&&t.pushToMenuBackStack(t.activeMenu.id),t.showMenu(F,y);else{if(t.activeMenu&&(v=B.parentElement,y=v.id||v.parentElement&&
v.parentElement.id,v=B.getAttribute("data-info")||v.getAttribute("data-info"),t.updateMenuSelection(t.activeMenu.id,y),t.videoPlayer))t.videoPlayer.onPlayerMenuItemClick({category:t.activeMenu.getAttribute("data-category"),id:y,data:v});B.getAttribute("data-persist")||t.hideAllMenus()}};this.hideAllMenus=function(v){for(var y=0,B=k.selectElements(c.menuSelector,t.menuContainer);y<B.length;y++)t.hideElement(B[y]);t.activeMenu=null;t.clearMenuBackStack();t.updateReactiveControlDisplay();t.optionsButton.setAttribute("aria-expanded",
"false");t.activeMenuButton&&(t.activeMenuButton.setAttribute("aria-expanded","false"),v&&t.activeMenuButton.focus(),t.activeMenuButton=null);t.menuContainer.setAttribute("aria-hidden","true")};if(a&&d){this.videoPlayer=d;this.videoTitle=this.videoPlayer.getVideoTitle();this.initializeLocalization();this.initializeComponents();if(!(this.playButton&&this.playTooltip&&this.fullScreenButton&&this.fullScreenTooltip&&this.liveButton&&this.liveTooltip&&this.progressSliderElement&&this.volumeButton&&this.volumeContainer&&
this.volumeSliderElement&&this.timeElement&&this.timeCurrent&&this.timeDuration&&this.optionsButton&&this.menuContainer)||this.xboxControlsEnabled)return null;this.focusTrapStart=this.playButton;this.updatePlayPauseState();this.isWindowZoomedIn=100<Math.round(100*window.devicePixelRatio);k.addEvent(window,k.eventTypes.resize,function(){t.isWindowZoomedIn=100<Math.round(100*window.devicePixelRatio);t.hideAllMenus()});k.addEvent(window,k.eventTypes.scroll,function(){!t.isWindowZoomedIn&&t.hideAllMenus()});
k.addEvent(this.videoControls,k.eventTypes.keydown,this.onControlKeyboardEvent);k.addEvents(this.playButton,"click mouseover mouseout focus blur",this.onPlayPauseEvents);k.addEvents(this.liveButton,"click mouseover mouseout focus blur",this.onLiveButtonEvents);k.addEvents(this.fullScreenButton,"click mouseover mouseout focus blur",this.onFullScreenEvents);k.addEvents([this.volumeButton,this.volumeContainer],"click mouseover mouseout focus blur",this.onVolumeEvents);k.addEvents(this.optionsButton,
"click mouseover mouseout focus blur keydown keyup",this.onMoreOptionsEvents);m.ComponentFactory.create([{component:g.Slider,eventToBind:"DOMContentLoaded",elements:[this.progressSliderElement,this.volumeSliderElement],callback:function(v){v&&v.length&&2===v.length&&(t.progressSlider=v[0],t.volumeSlider=v[1],t.progressSlider.subscribe({onValueChanged:function(y){return t.onProgressChanged(y)}}),t.volumeSlider.subscribe({onValueChanged:function(y){return t.onVolumeChanged(y)}}),k.addEvents(k.selectFirstElement("button",
t.volumeSliderElement),"focus blur keydown",t.onVolumeSliderEvents),k.addEvents([t.progressSliderElement,t.volumeSliderElement],"keydown",t.onSliderKeyboardEvents))}}])}}c.prototype.getSeekSteps=function(){return c.seekSteps};c.prototype.getAriaLabel=function(){return c.ariaLabel};c.prototype.getLocalizationHelper=function(){return this.localizationHelper};c.prototype.getVideoPlayer=function(){return this.videoPlayer};c.prototype.setVideoControls=function(a){this.videoControls=a};c.prototype.getVideoControls=
function(){return this.videoControls};c.prototype.setPlayButton=function(a){this.playButton=a};c.prototype.getPlayButton=function(){return this.playButton};c.prototype.setLiveButton=function(a){this.liveButton=a};c.prototype.getLiveButton=function(){return this.liveButton};c.prototype.setTimeElement=function(a){this.timeElement=a};c.prototype.getTimeElement=function(){return this.timeElement};c.prototype.setTimeCurrent=function(a){this.timeCurrent=a};c.prototype.getTimeCurrent=function(){return this.timeCurrent};
c.prototype.setTimeDuration=function(a){this.timeDuration=a};c.prototype.getTimeDuration=function(){return this.timeDuration};c.prototype.setProgressSliderElement=function(a){this.progressSliderElement=a};c.prototype.getProgressSliderElement=function(){return this.progressSliderElement};c.prototype.setOptionsButton=function(a){this.optionsButton=a};c.prototype.getOptionsButton=function(){return this.optionsButton};c.prototype.setMenuContainer=function(a){this.menuContainer=a};c.prototype.getMenuContainer=
function(){return this.menuContainer};c.prototype.setVolumeButton=function(a){this.volumeButton=a};c.prototype.getVolumeButton=function(){return this.volumeButton};c.prototype.setFullScreenButton=function(a){this.fullScreenButton=a};c.prototype.getFullScreenButton=function(){return this.fullScreenButton};c.prototype.setXboxControlsEnabled=function(a){this.xboxControlsEnabled=a};c.prototype.initializeComponents=function(){if(this.videoControls){var a=this.localizationHelper.getLocalizedValue(f.playerLocKeys.live_caption),
d=this.localizationHelper.getLocalizedValue(f.playerLocKeys.live_label),h=this.localizationHelper.getLocalizedValue(f.playerLocKeys.seek),r=this.localizationHelper.getLocalizedValue(f.playerLocKeys.more_caption),t=this.localizationHelper.getLocalizedValue(f.playerLocKeys.volume);this.videoControls.children.length||(this.videoControls.innerHTML="\x3cbutton type\x3d'button' class\x3d'f-play-pause c-glyph glyph-play' aria-label\x3d'"+this.locPlay+"' role\x3d'button'\x3e\n    \x3cspan aria-hidden\x3d'true'\x3e"+
this.locPlay+"\x3c/span\x3e\n\x3c/button\x3e\n\x3cbutton type\x3d'button' class\x3d'f-live f-live-current c-glyph glyph-view' aria-label\x3d'"+a+"' aria-hidden\x3d'true'\x3e\n    \x3cspan aria-hidden\x3d'true'\x3e"+a+"\x3c/span\x3e\n    "+d+"\n\x3c/button\x3e\n\x3cspan class\x3d'f-time'\x3e\n    \x3cspan class\x3d'f-current-time'\x3e00:00\x3c/span\x3e\n    /\n    \x3cspan class\x3d'f-duration'\x3e00:00\x3c/span\x3e\n\x3c/span\x3e\n\x3cdiv class\x3d'c-slider f-progress'\x3e\n    \x3cinput type\x3d'range' class\x3d'f-seek-bar' aria-label\x3d'"+
h+"' value\x3d'0' min\x3d'0' tabindex\x3d'-1' step\x3d"+c.seekSteps+"\x3e\n\x3c/div\x3e\n\x3cbutton type\x3d'button' class\x3d'f-options c-glyph glyph-more' aria-label\x3d'"+r+"' aria-expanded\x3d'false'\x3e\n    \x3cspan aria-hidden\x3d'true'\x3e"+r+"\x3c/span\x3e\n\x3c/button\x3e\n\x3cdiv class\x3d'f-menu-container'\x3e\x3c/div\x3e\n\x3cbutton type\x3d'button' class\x3d'f-volume-button c-glyph glyph-volume' aria-label\x3d'"+this.locMute+"'\x3e\x3c/button\x3e\n\x3cdiv class\x3d'f-volume-slider' data-show\x3d'false' role\x3d'presentation'\x3e\n    \x3cdiv class\x3d'c-slider f-vertical' role\x3d'presentation'\x3e\n        \x3cinput type\x3d'range' class\x3d'f-volume-bar f-vertical' aria-label\x3d'"+
t+"' \n            min\x3d'0' max\x3d'100' step\x3d'"+c.volumeSteps+"' value\x3d'100' tabindex\x3d'-1'\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cbutton type\x3d'button' class\x3d'f-full-screen c-glyph glyph-full-screen' aria-label\x3d'"+this.locFullScreen+"'\x3e\n    \x3cspan aria-hidden\x3d'true'\x3e"+this.locFullScreen+"\x3c/span\x3e\n\x3c/button\x3e");this.playButton=k.selectFirstElementT(".f-play-pause",this.videoControls);this.setAriaLabelForPlayButton();this.playTooltip=k.selectFirstElement("span",
this.playButton);k.setText(this.playTooltip,this.locPlay);this.tooltipElements.push(this.playTooltip);this.liveButton=k.selectFirstElementT(".f-live",this.videoControls);this.liveTooltip=k.selectFirstElement("span",this.liveButton);this.tooltipElements.push(this.liveTooltip);this.timeElement=k.selectFirstElement(".f-time",this.videoControls);this.timeCurrent=k.selectFirstElement(".f-current-time",this.timeElement);this.timeDuration=k.selectFirstElement(".f-duration",this.timeElement);this.progressSliderElement=
k.selectFirstElement(".c-slider.f-progress",this.videoControls);this.optionsButton=k.selectFirstElementT(".f-options",this.videoControls);this.optionsButton.setAttribute(c.ariaLabel,this.localizationHelper.getLocalizedValue(f.playerLocKeys.more_caption));this.moreOptionsTooltip=k.selectFirstElement("span",this.optionsButton);k.setText(this.moreOptionsTooltip,r);this.tooltipElements.push(this.moreOptionsTooltip);this.menuContainer=k.selectFirstElement(".f-menu-container",this.videoControls);this.volumeButton=
k.selectFirstElementT(".f-volume-button",this.videoControls);this.volumeButton.setAttribute(c.ariaLabel,this.locMute);this.volumeContainer=k.selectFirstElement(".f-volume-slider",this.videoControls);this.volumeSliderElement=k.selectFirstElement(".c-slider",this.volumeContainer);this.fullScreenButton=k.selectFirstElementT(".f-full-screen",this.videoControls);this.fullScreenButton.setAttribute(c.ariaLabel,this.locFullScreen);this.fullScreenTooltip=k.selectFirstElement("span",this.fullScreenButton);
k.setText(this.fullScreenTooltip,this.locFullScreen);this.tooltipElements.push(this.fullScreenTooltip)}};c.prototype.setAriaLabelForPlayButton=function(){""!==this.videoTitle?this.playButton.setAttribute(c.ariaLabel,this.locPlay+" "+this.videoTitle):this.playButton.setAttribute(c.ariaLabel,this.locPlayVideo)};c.prototype.initializeLocalization=function(){this.locPlay=this.localizationHelper.getLocalizedValue(f.playerLocKeys.play);this.locPlayVideo=this.localizationHelper.getLocalizedValue(f.playerLocKeys.play_video);
this.locPlaying=this.localizationHelper.getLocalizedValue(f.playerLocKeys.playing);this.locPaused=this.localizationHelper.getLocalizedValue(f.playerLocKeys.paused);this.locPause=this.localizationHelper.getLocalizedValue(f.playerLocKeys.pause);this.locMute=this.localizationHelper.getLocalizedValue(f.playerLocKeys.mute);this.locUnmute=this.localizationHelper.getLocalizedValue(f.playerLocKeys.unmute);this.locFullScreen=this.localizationHelper.getLocalizedValue(f.playerLocKeys.expand);this.locExitFullScreen=
this.localizationHelper.getLocalizedValue(f.playerLocKeys.unexpand)};c.prototype.setPlayPosition=function(a){if(this.videoPlayer&&a){var d=a.endTime-a.startTime,h=this.playPosition?this.playPosition.endTime-this.playPosition.startTime:0,r=this.videoPlayer.isLive();if(r){var t=Math.abs(a.currentTime-a.endTime),v=t/(a.endTime-a.startTime);20>t||.01>v?k.addClass(this.liveButton,"f-live-current"):k.removeClass(this.liveButton,"f-live-current")}isNaN(d)||isNaN(h)||1<Math.abs(d-h)||!this.playPosition?(this.progressSlider&&
this.progressSlider.resetSlider(0,d,a.currentTime-a.startTime,c.seekSteps),this.timeDuration&&k.setText(this.timeDuration,p.toElapsedTimeString(d,!1))):this.progressSlider&&this.progressSlider.setValue(a.currentTime-a.startTime);this.timeCurrent&&k.setText(this.timeCurrent,p.toElapsedTimeString(r?a.currentTime-a.endTime:a.currentTime,!1));this.playPosition=p.extend({},a)}else this.playPosition=void 0};c.prototype.addUserInteractionListener=function(a){a&&this.userInteractionCallbacks.push(a)};c.prototype.triggerUserInteractionCallback=
function(){if(this.userInteractionCallbacks&&this.userInteractionCallbacks.length)for(var a=0,d=this.userInteractionCallbacks;a<d.length;a++)(0,d[a])()};c.prototype.setVolume=function(a,d){p.isNumber(a)&&this.videoPlayer&&this.videoPlayer.setVolume(a,d)};c.prototype.setMuted=function(a,d){this.videoPlayer&&(a?this.videoPlayer.mute(d):this.videoPlayer.unmute(d))};c.prototype.updateVolumeState=function(){this.updateMuteGlyph();if(this.videoPlayer&&this.volumeSlider)if(this.videoPlayer.isMuted()||0===
this.videoPlayer.getVolume())this.volumeSlider.setValue(0);else{var a=this.videoPlayer.getVolume();this.volumeSlider.setValue(Math.round(100*a))}};c.prototype.updateMuteGlyph=function(){if(this.videoPlayer&&this.volumeButton){k.removeClasses(this.volumeButton,["glyph-volume","glyph-mute"]);var a=this.videoPlayer.isMuted()||0===this.videoPlayer.getVolume();k.addClass(this.volumeButton,a?"glyph-mute":"glyph-volume");this.volumeButton.setAttribute(c.ariaLabel,a?this.locUnmute:this.locMute)}};c.prototype.prepareToHide=
function(){this.hideAllMenus(!0);this.hideVolumeContainer()};c.prototype.hideControls=function(){var a=this;setTimeout(function(){for(var d=0,h=a.tooltipElements;d<h.length;d++)a.hideElement(h[d])},0)};c.prototype.onProgressChanged=function(a){if(!a||!this.videoPlayer)return null;var d=this.videoPlayer.isLive();if(d){var h=this.videoPlayer.getPlayPosition();h=a.value+h.startTime-h.endTime}else h=a.value,this.timeCurrent&&k.setText(this.timeCurrent,p.toElapsedTimeString(h,!1));this.videoPlayer&&a.userInitiated&&
this.videoPlayer.seek(this.toAbsoluteTime(a.value));return p.toElapsedTimeString(h,!d)};c.prototype.toAbsoluteTime=function(a){return this.videoPlayer&&this.videoPlayer.isLive()?a+this.videoPlayer.getPlayPosition().startTime:a};c.prototype.onVolumeChanged=function(a){if(!a)return null;this.videoPlayer&&0<a.value&&this.setMuted(!1);this.videoPlayer&&0===a.value&&this.setMuted(!0);var d=Math.round(a.value);a.userInitiated&&this.setVolume(d/100,!0);return d.toString()};c.prototype.play=function(){this.videoPlayer&&
(this.videoPlayer.play(),this.videoPlayer.updateScreenReaderElement(this.locPlaying))};c.prototype.pause=function(){this.videoPlayer&&(this.videoPlayer.pause(!0),this.videoPlayer.updateScreenReaderElement(this.locPaused))};c.prototype.updatePlayPauseState=function(){this.videoPlayer&&this.playButton&&(this.videoPlayer.isPlayable()?(this.playButton.removeAttribute("disabled"),this.videoPlayer.isPaused()?(this.playTooltip&&k.setText(this.playTooltip,this.locPlay),k.removeClass(this.playButton,"glyph-pause"),
k.addClass(this.playButton,"glyph-play"),this.setAriaLabelForPlayButton()):(this.playTooltip&&k.setText(this.playTooltip,this.locPause),k.removeClass(this.playButton,"glyph-play"),k.addClass(this.playButton,"glyph-pause"),this.playButton.setAttribute(c.ariaLabel,this.locPause),this.prepareToHide())):(this.playTooltip&&k.setText(this.playTooltip,this.locPlay),k.removeClass(this.playButton,"glyph-pause"),k.addClass(this.playButton,"glyph-play"),this.setAriaLabelForPlayButton(),this.playButton.setAttribute("disabled",
"disabled")))};c.prototype.setLive=function(a){this.liveButton&&this.timeElement&&(this.liveButton.setAttribute(c.ariaHidden,a?"false":"true"),this.timeElement.setAttribute(c.ariaHidden,a?"true":"false"))};c.prototype.updateFullScreenState=function(){if(this.videoPlayer&&this.fullScreenButton){var a=this.videoPlayer.isFullScreen();a?(k.removeClass(this.fullScreenButton,"glyph-full-screen"),k.addClass(this.fullScreenButton,"glyph-back-to-window"),this.setFocus(this.fullScreenButton)):(k.removeClass(this.fullScreenButton,
"glyph-back-to-window"),k.addClass(this.fullScreenButton,"glyph-full-screen"));a=a?this.locExitFullScreen:this.locFullScreen;this.fullScreenButton.setAttribute("aria-label",a);this.fullScreenTooltip&&(k.setText(this.fullScreenTooltip,a),this.videoPlayer.updateScreenReaderElement(a))}};c.prototype.setFocusOnControlBar=function(){this.setFocus(this.playButton)};c.prototype.setFocusTrap=function(a){null===a&&(a=this.playButton);this.focusTrapStart=a;k.addEvent([a,this.fullScreenButton],k.eventTypes.keydown,
this.focusTrapHandler)};c.prototype.removeFocusTrap=function(){k.removeEvents([this.focusTrapStart,this.fullScreenButton],"keydown",this.focusTrapHandler)};c.prototype.showVolumeContainer=function(a){var d=this;this.volumeContainer&&(this.volumeContainer.setAttribute("data-show","true"),this.onlyOneDialog(this.volumeContainer),clearTimeout(this.volumeAutoHideTimer),a&&document.activeElement!==this.volumeButton&&(this.volumeAutoHideTimer=setTimeout(function(){d.hideVolumeContainer()},c.volumeAutoHideTimeout)))};
c.prototype.hideVolumeContainer=function(){this.volumeContainer.setAttribute("data-show","false");clearTimeout(this.volumeAutoHideTimer)};c.prototype.showElement=function(a){a&&a.setAttribute(c.ariaHidden,"false")};c.prototype.hideElement=function(a){a&&a.setAttribute(c.ariaHidden,"true")};c.prototype.toggleMenuById=function(a,d,h){this.activeMenu&&this.activeMenu.id===h?this.hideAllMenus():(a.setAttribute("aria-expanded","true"),this.showMenu(h,d,a),(a=k.selectFirstElement("button",this.activeMenu))&&
k.removeClass(a,"glyph-chevron-left"))};c.prototype.resetMenuPosition=function(a,d){var h=k.selectElements(".f-player-menu",this.videoControls);if(h&&0<h.length)for(var r=0;r<h.length;r++){var t=k.selectFirstElement("button",h[r]);t&&t.hasAttribute("data-next-menu")&&k.addClass(t,"glyph-chevron-left")}d&&(this.menuRight=k.css(d,"right"));k.css(a,"right",this.menuRight)};c.prototype.createReactiveButton=function(a,d,h,r,t){this.hasReactiveClass(a)||(a="\n            \x3cbutton class\x3d'f-reactive c-glyph "+
a+" "+t+"' aria-label\x3d'"+r+"' aria-hidden\x3d'true' \n            data-menu-id\x3d'"+h+"' aria-expanded\x3d'false'\x3e\n                \x3cspan aria-hidden\x3d'true'\x3e"+(r+"\x3c/span\x3e\n            \x3c/button\x3e"),h=document.createElement("div"),h.innerHTML=a,a=k.selectFirstElementT("button",h),this.videoControls.insertBefore(a,this.optionsButton),k.setText(a.firstElementChild,r),this.tooltipElements.push(a.firstElementChild),k.addEvents(a,"click mouseover mouseout focus blur keydown keyup",
this.onMenuButtonClick),this.reactiveControls.push({button:a,priority:d}),this.sortReactiveControls())};c.prototype.sortReactiveControls=function(){this.reactiveControls.sort(function(a,d){return a.priority<d.priority?-1:a.priority>d.priority?1:0})};c.prototype.hasReactiveClass=function(a){for(var d=0;d<this.reactiveControls.length;d++)if(k.hasClass(this.reactiveControls[d].button,a))return!0;return!1};c.prototype.toggleReactiveButtonLabelAndHandlers=function(a,d){a=a.button.getAttribute("data-menu-id");
if((a=document.getElementById(a))&&(a=a.getElementsByTagName("button")[0])&&a.hasAttribute("data-next-menu")){var h=this.localizationHelper.getLocalizedValue(f.playerLocKeys.previous_menu_aria_label).replace("{0}",""),r=this.localizationHelper.getLocalizedValue(f.playerLocKeys.reactive_menu_aria_label).replace("{0}","");k.hasClass(a,"closed-caption")&&(r=this.localizationHelper.getLocalizedValue(f.playerLocKeys.reactive_menu_aria_label_closedcaption).replace("{0}",""));var t=a.getAttribute("aria-label");
!t||-1!==t.indexOf(h)&&-1!==t.indexOf(r)||(t=t.replace(h,"").replace(r,""),d?a.setAttribute("aria-label",e.format(this.localizationHelper.getLocalizedValue(f.playerLocKeys.previous_menu_aria_label),t)):k.hasClass(a,"closed-caption")?a.setAttribute("aria-label",e.format(this.localizationHelper.getLocalizedValue(f.playerLocKeys.reactive_menu_aria_label_closedcaption),t)):a.setAttribute("aria-label",e.format(this.localizationHelper.getLocalizedValue(f.playerLocKeys.reactive_menu_aria_label),t)))}};c.prototype.toggleMoreOptionsItemVisibility=
function(a,d){if((a=a.button.getAttribute("data-menu-id"))&&(a=document.getElementById(a+"_item"))&&a.parentElement&&a.parentElement.parentElement){var h=a.parentElement.parentElement;d?(a.setAttribute(c.ariaHidden,"false"),k.addClass(a.firstElementChild,"active")):(a.setAttribute(c.ariaHidden,"true"),k.removeClass(a.firstElementChild,"active"));d=h.querySelectorAll("li");for(var r=0,t=0;t<d.length;t++)(a=d[t].getAttribute(c.ariaHidden))&&"false"!==a||(r+=40);if(0!==r)for(this.optionsButton.setAttribute(c.ariaHidden,
"false"),k.css(h,"height",r+4+"px"),h=r/40,r=1,t=0;t<d.length;t++)a=d[t].getAttribute(c.ariaHidden),a&&"false"!==a||(d[t].firstElementChild.setAttribute("aria-setsize",h.toString()),d[t].firstElementChild.setAttribute("aria-posinset",r.toString()),r++);else this.optionsButton.setAttribute(c.ariaHidden,"true")}};c.prototype.updateReactiveControlDisplay=function(){var a=parseInt(k.css(this.optionsButton,"padding-right"),10);a=p.getDimensions(this.optionsButton).width+a;if(0<this.reactiveControls.length){var d=
p.getDimensions(this.videoControls).width;if(0!==d){for(var h=3*a,r=!0,t=this.reactiveControls.length-1;0<=t;t--){var v=this.reactiveControls[t];d<this.reactiveWidths[v.priority]?(this.toggleReactiveButtonLabelAndHandlers(v,!0),this.toggleMoreOptionsItemVisibility(v,!0),v.button.setAttribute(c.ariaHidden,"true")):d>this.reactiveWidths[v.priority]&&(this.toggleReactiveButtonLabelAndHandlers(v,!1),this.toggleMoreOptionsItemVisibility(v,!1),"true"===this.optionsButton.getAttribute(c.ariaHidden)&&r&&
(h=2*a,r=!1),v.button.setAttribute(c.ariaHidden,"false"),k.css(v.button,"right",2+h+"px"),k.hasClass(v.button,"f-volume-button")&&k.css(this.volumeContainer,"right",2+h+"px"),h+=a)}k.css(this.progressSliderElement,"width","calc(100% - "+(h+140)+"px)")}}};c.prototype.initializePlayerMenus=function(){var a=k.selectElements(c.menuSelector+" ul",this.menuContainer);a&&a.length&&k.addEvents(a,"click keydown keyup",this.onMenuEvents)};c.prototype.disposeReactiveControls=function(){for(var a=0,d=this.reactiveControls;a<
d.length;a++)k.removeElement(d[a].button);this.reactiveControls=[]};c.prototype.disposePlayerMenus=function(){var a=k.selectElements(c.menuSelector+" ul",this.menuContainer);a&&a.length&&k.removeEvents(a,"click keydown keyup",this.onMenuEvents);k.removeInnerHtml(this.menuContainer);this.disposeReactiveControls()};c.prototype.toggleOptionsDialog=function(a){this.activeMenu&&k.css(this.activeMenu,"right")===this.defaultMenuRight?this.hideAllMenus():(this.showMenu(this.optionsButton.getAttribute("data-menu-id"),
a,this.optionsButton),this.optionsButton.setAttribute("aria-expanded","true"))};c.prototype.onlyOneDialog=function(a){this.activeMenu&&this.volumeContainer&&"false"===this.activeMenu.getAttribute(c.ariaHidden)&&"true"===this.volumeContainer.getAttribute("data-show")&&(a===this.activeMenu?this.hideVolumeContainer():this.hideAllMenus())};c.prototype.onMenuKeyPressed=function(a){var d=p.getKeyCode(a),h=k.getEventTargetOrSrcElement(a),r=h&&h.parentElement;if(this.activeMenu&&r)switch(r=this.activeMenu.id,
this.triggerUserInteractionCallback(),d){case 37:case 39:k.stopPropagation(a);k.preventDefault(a);if(h.getAttribute("data-next-menu"))this.onMenuItemClick(a,!0);break;case 13:case 32:k.preventDefault(a);this.onMenuItemClick(a,!0);if(this.activeMenu&&(d=this.activeMenu.getElementsByTagName("button"),a=0,d&&0<d.length))for(h=0;h<d.length;h++)d[h].getAttribute("data-next-menu")===r?(this.setFocus(d[h]),this.focusedMenuItemIndex=a):k.hasClass(d[h],"active")&&a++;break;case 38:case 40:k.stopPropagation(a);
k.preventDefault(a);(r=k.selectElements(".active",this.activeMenu))&&r.length&&(38===d?(--this.focusedMenuItemIndex,0>this.focusedMenuItemIndex&&(this.focusedMenuItemIndex=r.length-1)):this.focusedMenuItemIndex=(this.focusedMenuItemIndex+1)%r.length,this.setFocus(r[this.focusedMenuItemIndex]));break;case 33:case 36:k.stopPropagation(a);k.preventDefault(a);this.setFocus(k.selectFirstElement(".active",this.activeMenu));break;case 35:case 34:k.stopPropagation(a);k.preventDefault(a);(r=k.selectElements(".active",
this.activeMenu))&&r.length&&this.setFocus(r[r.length-1]);break;case 27:this.activeMenu&&k.stopPropagation(a);this.closeMenuRequested=!0;this.focusOnLastButton();break;case 9:this.focusedMenuItemIndex+=a.shiftKey?-1:1,this.focusOnNextButton(a)}};c.prototype.focusOnLastButton=function(){if(this.activeMenu){for(var a=0;a<this.reactiveControls.length;a++){var d=this.reactiveControls[a].button;if(this.activeMenuButton&&this.activeMenuButton.getAttribute("data-menu-id")===d.getAttribute("data-menu-id")){this.hideAllMenus();
this.setFocus(d);k.removeClass(d,"x-hidden-focus");return}if(this.activeMenu.id===d.getAttribute("data-menu-id")){this.hideAllMenus();this.setFocus(d);k.removeClass(d,"x-hidden-focus");return}}this.activeMenu&&(this.hideAllMenus(),this.setFocus(this.optionsButton))}};c.prototype.focusOnNextButton=function(a){if(this.activeMenu&&this.activeMenuButton){var d=k.selectElements(".active",this.activeMenu);if(this.focusedMenuItemIndex>=d.length){k.stopPropagation(a);k.preventDefault(a);for(a=this.activeMenuButton.nextElementSibling;a;){if("button"===
a.nodeName.toLowerCase()&&"true"!==a.getAttribute(c.ariaHidden)){this.setFocus(a);break}a=a.nextElementSibling}a||this.setFocus(this.playButton);this.hideAllMenus()}else 0>this.focusedMenuItemIndex&&(k.stopPropagation(a),k.preventDefault(a),this.setFocus(this.activeMenuButton),this.hideAllMenus())}};c.prototype.calcHeight=function(a){if(!a||!this.videoControls)return 0;a=k.getClientRect(a).height;var d=k.getClientRect(this.videoControls.parentElement),h=k.getClientRect(this.videoControls);d=d.height-
h.height-10;a>d&&(a=d);return a};c.prototype.createMenu=function(a){if(this.menuContainer&&a&&a.category&&a.id&&a.items&&a.items.length){var d="",h=a.items.length,r=1;if(a.label&&this.localizationHelper&&!a.hideBackButton){var t=e.format(this.localizationHelper.getLocalizedValue(f.playerLocKeys.previous_menu_aria_label),a.label);h+=1;d="closed-caption"===a.cssClass?d+("\x3cli role\x3d'presentation'\x3e\n    \x3cbutton class\x3d'c-action-trigger c-glyph glyph-chevron-left active closed-caption' data-next-menu\x3d'back'\n    aria-label\x3d'"+
t+"'aria-setsize\x3d'"+h+"' aria-posinset\x3d'"+r++ +"' role\x3d'menuitem'\x3e\n    "+a.label+"\x3c/button\x3e\n\x3c/li\x3e"):d+("\x3cli role\x3d'presentation'\x3e\n    \x3cbutton class\x3d'c-action-trigger c-glyph glyph-chevron-left active' data-next-menu\x3d'back' aria-label\x3d'"+t+"'\n    aria-setsize\x3d'"+h+"' aria-posinset\x3d'"+r++ +"' role\x3d'menuitem'\x3e\n    "+a.label+"\x3c/button\x3e\n\x3c/li\x3e")}t=0;for(var v=a.items;t<v.length;t++){var y=v[t];y.subMenu&&(y.subMenuId=y.subMenu.id,
this.createMenu(y.subMenu));var B="c-action-trigger active";B+=y.subMenuId||y.glyph||y.selectable?" c-glyph":"";B+=y.selectable&&y.selected?" glyph-check-mark":"";B+=y.subMenuId?" glyph-chevron-right":"";B+=y.glyph?" "+y.glyph:"";d+="\x3cli id\x3d'"+y.id+"' role\x3d'presentation'\x3e\n    \x3cbutton class\x3d'"+B+"' "+(y.data?"data-info\x3d'"+y.data+"'":"")+"\n        role\x3d"+(y.selectable?"'menuitemradio'":"'menuitem'")+"\n        aria-setsize\x3d'"+h+"' aria-posinset\x3d'"+r++ +"'\n        "+
(y.selectable&&y.selected?"aria-selected\x3d'true' aria-checked\x3d'true'":"")+" \n        "+(y.selectable?"data-video-selectable\x3d'true'":"")+"\n        "+(y.subMenuId?"data-next-menu\x3d"+y.subMenuId+" aria-expanded\x3d'false' aria-haspopup\x3d'true'":"")+"\n        "+(y.persistOnClick?"data-persist\x3d'true'":"")+" "+(y.ariaLabel?"aria-label\x3d'"+y.ariaLabel+"'":"")+"\n        "+(y.language?"lang\x3d"+y.language:"")+"\x3e\n            "+(y.image?"\x3cimg src\x3d'"+y.image+"' alt\x3d'"+(y.imageAlt||
"")+"' class\x3d'c-image'/\x3e":"")+"\n            "+y.label+"\n    \x3c/button\x3e\n\x3c/li\x3e"}a="\x3cdiv id\x3d'"+a.id+"' class\x3d'f-player-menu' aria-hidden\x3d'true' data-category\x3d'"+a.category+"'\x3e\n    \x3cul role\x3d'menu' class\x3d'c-list f-bare'\x3e\n        "+d+"\n    \x3c/ul\x3e\n\x3c/div\x3e";d=document.createElement("div");d.innerHTML=a;this.menuContainer.appendChild(d.firstChild)}};c.prototype.showMenu=function(a,d,h){a&&(h&&(this.activeMenuButton=h),this.hideControls(),this.focusedMenuItemIndex=
0,this.hideActiveMenu(),this.menuContainer.setAttribute("aria-hidden","false"),a=k.selectFirstElement("#"+a,this.menuContainer),this.resetMenuPosition(a,h),a&&(h=k.css(a,"height"),this.showElement(a),d=this.calcHeight(a),"auto"===h&&(d+=2),k.css(a,"height",d+"px"),k.css(a,"right",this.menuRight),this.activeMenu=a,this.onlyOneDialog(a),this.setFocus(k.selectFirstElement("li:not([aria-hidden]) button",a))))};c.prototype.setFocusonPlayButton=function(){this.setFocus(this.playButton)};c.prototype.setFocus=
function(a){a&&setTimeout(function(){a.focus()},0)};c.prototype.hideActiveMenu=function(){this.activeMenu&&(this.hideElement(this.activeMenu),this.activeMenu=null)};c.prototype.pushToMenuBackStack=function(a){this.menuBackStack&&a&&this.menuBackStack.push(a)};c.prototype.popFromMenuBackStack=function(){return this.menuBackStack&&this.menuBackStack.length?this.menuBackStack.pop():null};c.prototype.clearMenuBackStack=function(){this.menuBackStack=[]};c.prototype.setupPlayerMenus=function(a){if(this.videoControls&&
a&&a.length){this.disposePlayerMenus();for(var d=[],h=0;h<a.length;h++){var r=a[h];d.push({id:r.id+"_item",label:r.label,subMenu:r});r.glyph&&r.priority&&this.createReactiveButton(r.glyph,r.priority,r.id,r.label,void 0!==r.cssClass?r.cssClass:"")}a=this.videoPlayer.getPlayerId()+"-options-menu";this.createMenu({id:a,items:d,category:"options"});this.optionsButton.setAttribute("data-menu-id",a);this.initializePlayerMenus();this.updateReactiveControlDisplay()}};c.prototype.updateMenuSelection=function(a,
d){if(a&&this.menuContainer){var h=k.selectFirstElement("#"+a,this.menuContainer);if(h)for(a=0,h=k.selectElements("li",h);a<h.length;a++){var r=h[a],t=k.selectFirstElement("button",r);t&&t.getAttribute("data-video-selectable")&&(d&&d===r.id?(k.addClasses(t,["c-glyph","glyph-check-mark"]),t.setAttribute("aria-selected","true"),t.setAttribute("aria-checked","true")):(k.removeClass(t,"glyph-check-mark"),t.removeAttribute("aria-selected"),t.removeAttribute("aria-checked")))}}};c.prototype.resetSlidersWorkaround=
function(){var a=this.videoControls.getBoundingClientRect();this.controlsBounds&&this.controlsBounds.height===a.height&&this.controlsBounds.width===a.width||(this.controlsBounds=a,this.progressSlider&&this.videoPlayer&&(a=this.videoPlayer.getPlayPosition(),this.progressSlider.resetSlider(0,a.endTime-a.startTime,a.currentTime-a.startTime,c.seekSteps)),this.volumeSlider&&this.videoPlayer&&this.volumeSlider.resetSlider(0,100,100*this.videoPlayer.getVolume(),c.volumeSteps))};c.selector=".f-video-controls";
c.ariaHidden="aria-hidden";c.ariaLabel="aria-label";c.menuSelector=".f-player-menu";c.seekSteps=5;c.volumeSteps=5;c.volumeAutoHideTimeout=2E3;return c}();l.VideoControls=z});K("video-wrappers/video-wrapper-interface",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0})});K("video-wrappers/html5-video-wrapper","require exports data/player-data-interfaces mwf/utilities/htmlExtensions constants/player-constants mwf/utilities/utility utilities/environment constants/enums".split(" "),
function(z,l,m,g,p,k,f,e){Object.defineProperty(l,"__esModule",{value:!0});l.Html5VideoWrapper=void 0;z=function(){function b(c){var a=this;this.triggerEvents=function(d){if(a.onMediaEventCallback)a.onMediaEventCallback(d)};this.videoPlayer=c}b.prototype.bindVideoEvents=function(c){if(this.videoTag){this.onMediaEventCallback=c;c=0;for(var a=p.MediaEvents;c<a.length;c++)g.addEvents(this.videoTag,a[c],this.triggerEvents)}};b.prototype.unbindVideoEvents=function(){if(this.videoTag)for(var c=0,a=p.MediaEvents;c<
a.length;c++)g.removeEvents(this.videoTag,a[c],this.triggerEvents)};b.prototype.load=function(c,a,d,h,r){c||(console.log("player container is null"),h&&h());this.videoTag&&this.dispose();this.playerContainer=c;this.videoTag=g.selectFirstElementT("video",this.playerContainer);this.videoTag.autoplay=a;!this.videoTag&&h&&(console.log("video tag not found"),h());d&&setTimeout(d,0)};b.prototype.play=function(){this.videoTag&&this.videoTag.play()};b.prototype.pause=function(){this.videoTag&&this.videoTag.pause()};
b.prototype.isPaused=function(){return this.videoTag&&this.videoTag.paused};b.prototype.isLive=function(){return!1};b.prototype.getPlayPosition=function(){return this.videoTag?{currentTime:this.videoTag.currentTime,startTime:0,endTime:this.videoTag.duration}:{currentTime:0,endTime:0,startTime:0}};b.prototype.getVolume=function(){return this.videoTag?this.videoTag.volume:0};b.prototype.setVolume=function(c){this.videoTag&&(this.videoTag.volume=c)};b.prototype.isMuted=function(){return this.videoTag?
this.videoTag.muted:!1};b.prototype.mute=function(){this.videoTag&&(this.videoTag.muted=!0,this.videoTag.setAttribute("muted","muted"))};b.prototype.unmute=function(){this.videoTag&&(this.videoTag.muted=!1,this.videoTag.removeAttribute("muted"))};b.prototype.setCurrentTime=function(c){this.videoTag&&(this.videoTag.currentTime=c)};b.prototype.isSeeking=function(){return this.videoTag?this.videoTag.seeking:!1};b.prototype.getBufferedDuration=function(){var c=0;this.videoTag&&this.videoTag.buffered&&
this.videoTag.buffered.length&&(c=this.videoTag.buffered.end(this.videoTag.buffered.length-1));return c};b.prototype.setSource=function(c){if(this.videoTag&&c&&c.length){var a=this.videoTag.getAttribute("src");c[0].url!==a&&(this.videoTag.setAttribute("src",c[0].url),this.videoTag.load&&this.videoTag.load(),f.Environment.isIProduct&&(this.videoTag.removeAttribute(e.Attributes.ARIA_HIDDEN),this.videoTag.removeAttribute(e.Attributes.TABINDEX),(c=this.videoPlayer.getPlayerContainer())&&c.removeAttribute(e.Attributes.TABINDEX)))}};
b.prototype.addNativeClosedCaption=function(c,a,d){if(c&&c.length&&this.videoTag){this.clearNativeCc(this.videoTag);this.videoTag.setAttribute("crossorigin","anonymous");for(var h=0;h<c.length;h++){var r=c[h];if(r.ccType===a){var t=document.createElement("track");t.setAttribute("src",r.url);t.setAttribute("kind","captions");t.setAttribute("srclang",r.locale);t.setAttribute("label",d.getLanguageNameFromLocale(r.locale));this.videoTag.appendChild(t)}}this.videoTag.load&&this.videoTag.load()}};b.prototype.clearNativeCc=
function(c){if(c)for(var a=0,d=g.selectElements("track",c);a<d.length;a++){var h=d[a];h&&h.parentElement===c&&c.removeChild(h)}};b.prototype.clearSource=function(){this.videoTag&&(this.videoTag.setAttribute("src",""),this.videoTag.load&&this.videoTag.load())};b.prototype.setPosterFrame=function(c){c&&this.videoTag&&this.videoTag.poster!==c&&(this.videoTag.poster=c)};b.prototype.getError=function(){if(null!==this.videoTag&&null!==this.videoTag.error){switch(this.videoTag.error.code){case this.videoTag.error.MEDIA_ERR_ABORTED:var c=
m.VideoErrorCodes.MediaErrorAborted;break;case this.videoTag.error.MEDIA_ERR_NETWORK:c=m.VideoErrorCodes.MediaErrorNetwork;break;case this.videoTag.error.MEDIA_ERR_DECODE:c=m.VideoErrorCodes.MediaErrorDecode;break;case this.videoTag.error.MEDIA_ERR_SRC_NOT_SUPPORTED:c=m.VideoErrorCodes.MediaErrorSourceNotSupported;break;default:c=m.VideoErrorCodes.MediaErrorUnknown}return{errorCode:c}}return null};b.prototype.setPlaybackRate=function(c){this.videoTag&&c&&k.isNumber(c)&&(this.videoTag.playbackRate=
c)};b.prototype.getPlayerTechName=function(){return"html5"};b.prototype.getWrapperName=function(){return"html5video"};b.prototype.getAudioTracks=function(){return null};b.prototype.switchToAudioTrack=function(c){throw Error("HTML5.switchToAudioTrack is not supported");};b.prototype.getCurrentAudioTrack=function(){return null};b.prototype.getVideoTracks=function(){return null};b.prototype.switchToVideoTrack=function(c){throw Error("HTML5.switchToVideoTrack is not supported");};b.prototype.getCurrentVideoTrack=
function(){return null};b.prototype.setAutoPlay=function(){this.videoTag&&(this.videoTag.autoplay=!0,this.videoTag.setAttribute("playsinline",""))};b.prototype.dispose=function(){this.unbindVideoEvents();this.clearSource()};b.supportedMediaTypes=[m.MediaTypes.HLS,m.MediaTypes.MP4];return b}();l.Html5VideoWrapper=z});K("video-wrappers/amp-wrapper","require exports data/player-data-interfaces mwf/utilities/htmlExtensions mwf/utilities/stringExtensions constants/player-constants utilities/player-utility mwf/utilities/utility data/player-config".split(" "),
function(z,l,m,g,p,k,f,e,b){Object.defineProperty(l,"__esModule",{value:!0});l.AmpWrapper=void 0;z=function(){function c(a){var d=this;this.ampPlayer=null;this.triggerEvents=function(h){if(d.onMediaEventCallback)d.onMediaEventCallback(h)};this.setupAmpPlayer=function(h){var r=g.selectFirstElementT("video",d.playerContainer);r||(r=g.selectFirstElementT(".f-video-player",d.playerContainer));r?(d.ampPlayer=window.amp(r,{nativeControlsForTouch:!1,autoplay:h,controls:!1,logo:{enabled:!1}},d.onAmpPlayerInit),
d.ampPlayer.options_.autoplay=h,r.hasAttribute("aria-hidden")&&r.removeAttribute("aria-hidden"),d.onLoadedCallback&&d.onLoadedCallback()):(console.log("could not find video tag"),d.onLoadFailedCallback&&d.onLoadFailedCallback())};this.onAmpPlayerInit=function(){var h=g.selectFirstElement(".f-video-player",d.playerContainer);if(h){if(d.useAMPVersion2){for(var r=g.selectFirstElement("div",h),t=Array.prototype.slice.call(r.children),v=g.selectFirstElementT("video",h),y=0,B=t;y<B.length;y++)(t=B[y])&&
t.parentElement===r&&!t.contains(v)?r.removeChild(t):(t.hasAttribute("aria-label")&&t.removeAttribute("aria-label"),t.hasAttribute("role")||t.setAttribute("role","none"));v.removeAttribute("aria-hidden")}else for(t=g.selectElements("div",h),r=0,v=t;r<v.length;r++)(t=v[r])&&t.parentElement===h&&h.removeChild(t);h.removeAttribute("title");h.removeAttribute("style");h.removeAttribute("tabindex");h.removeAttribute("aria-label");h.removeAttribute("vjs-label");h.removeAttribute("aria-hidden");d.videoTag=
g.selectFirstElementT("video",h)}};this.useAMPVersion2=a;c.isAmpScriptLoaded()||f.PlayerUtility.loadScript(a?b.PlayerConfig.ampVersion2Url:b.PlayerConfig.ampUrl)}c.isAmpScriptLoaded=function(){return window&&window.amp};c.prototype.bindVideoEvents=function(a){if(this.ampPlayer){this.onMediaEventCallback=a;a=0;for(var d=k.MediaEvents;a<d.length;a++)this.ampPlayer.addEventListener(d[a],this.triggerEvents)}};c.prototype.unbindVideoEvents=function(){if(this.ampPlayer)for(var a=0,d=k.MediaEvents;a<d.length;a++)this.ampPlayer.removeEventListener(d[a],
this.triggerEvents)};c.prototype.load=function(a,d,h,r,t){var v=this;a||(console.log("player container is null"),r&&r());this.ampPlayer&&this.dispose();this.playerContainer=a;this.onLoadedCallback=h;this.onLoadFailedCallback=r;this.onAudioStreamSelectedCallback=t;c.isAmpScriptLoaded()?this.setupAmpPlayer(d):e.poll(c.isAmpScriptLoaded,c.pollingInterval,c.pollingTimeout,function(){v.setupAmpPlayer(d)},this.onLoadFailedCallback)};c.prototype.play=function(){this.ampPlayer&&this.ampPlayer.play()};c.prototype.pause=
function(){this.ampPlayer&&this.ampPlayer.pause()};c.prototype.isPaused=function(){return this.ampPlayer&&this.ampPlayer.paused()};c.prototype.isLive=function(){return this.ampPlayer&&this.ampPlayer.isLive()};c.prototype.getPlayPosition=function(){if(!this.ampPlayer)return{currentTime:0,endTime:0,startTime:0};if(this.ampPlayer.isLive()){var a=this.ampPlayer.currentPlayableWindow();return{startTime:a.startInSec,endTime:a.endInSec,currentTime:this.ampPlayer.currentAbsoluteTime()||a.endInSec}}return{currentTime:this.ampPlayer.currentTime(),
startTime:0,endTime:this.ampPlayer.duration()}};c.prototype.getVolume=function(){return this.ampPlayer?this.ampPlayer.volume():0};c.prototype.setVolume=function(a){this.ampPlayer&&this.ampPlayer.volume(a)};c.prototype.isMuted=function(){return this.ampPlayer?this.ampPlayer.muted():!1};c.prototype.mute=function(){this.ampPlayer&&this.ampPlayer.muted(!0)};c.prototype.unmute=function(){this.ampPlayer&&this.ampPlayer.muted(!1)};c.prototype.setCurrentTime=function(a){this.ampPlayer&&this.ampPlayer.currentTime(this.ampPlayer.fromPresentationTime(a))};
c.prototype.isSeeking=function(){return this.ampPlayer?this.ampPlayer.seeking():!1};c.prototype.getBufferedDuration=function(){var a=0;if(this.ampPlayer&&this.ampPlayer.buffered&&this.ampPlayer.buffered().length){var d=this.ampPlayer.buffered();d.length&&(a=d.end(d.length-1))}return a};c.prototype.setSource=function(a){if(a&&a.length){for(var d=[],h=0;h<a.length;h++){var r=a[h];if(r&&r.url&&this.ampPlayer){var t="video/mp4";switch(r.mediaType){case m.MediaTypes.HLS:t="application/vnd.apple.mpegurl";
break;case m.MediaTypes.DASH:t="application/dash-xml";break;case m.MediaTypes.SMOOTH:t="application/vnd.ms-sstr+xml"}d.push({src:r.url,type:t})}}this.ampPlayer.src(d)}};c.prototype.addNativeClosedCaption=function(a,d,h){if(a&&a.length&&this.videoTag){this.clearNativeCc(this.videoTag);this.videoTag.setAttribute("crossorigin","anonymous");for(var r=0;r<a.length;r++){var t=a[r];if(t.ccType===d){var v=document.createElement("track");v.setAttribute("src",t.url);v.setAttribute("kind","captions");v.setAttribute("srclang",
t.locale);v.setAttribute("label",h.getLanguageNameFromLocale(t.locale));this.videoTag.appendChild(v)}}this.videoTag.load&&this.videoTag.load()}};c.prototype.clearNativeCc=function(a){if(a)for(var d=0,h=g.selectElements("track",a);d<h.length;d++){var r=h[d];r&&r.parentElement===a&&a.removeChild(r)}};c.prototype.clearSource=function(){};c.prototype.setPosterFrame=function(a){a&&this.ampPlayer&&this.ampPlayer.poster()!==a&&this.ampPlayer.poster(a)};c.prototype.getError=function(){var a=this.ampPlayer&&
this.ampPlayer.error();if(a){var d=window;return{errorCode:a.code&d.amp.errorCode.abortedErrStart?m.VideoErrorCodes.MediaErrorAborted:a.code&d.amp.errorCode.networkErrStart?m.VideoErrorCodes.MediaErrorNetwork:a.code&d.amp.errorCode.decodeErrStart?m.VideoErrorCodes.MediaErrorDecode:a.code&d.amp.errorCode.srcErrStart?m.VideoErrorCodes.MediaErrorSourceNotSupported:a.code&d.amp.errorCode.encryptErrStart?m.VideoErrorCodes.AmpEncryptError:a.code&d.amp.errorCode.srcPlayerMismatchStart?m.VideoErrorCodes.AmpPlayerMismatch:
m.VideoErrorCodes.MediaErrorUnknown,message:"AMP Error Code: "+a.code}}return null};c.prototype.setPlaybackRate=function(a){};c.prototype.getPlayerTechName=function(){return this.ampPlayer&&this.ampPlayer.currentTechName()};c.prototype.getWrapperName=function(){return"amp"};c.prototype.getAudioTracks=function(){var a=this.ampPlayer&&this.ampPlayer.currentAudioStreamList&&this.ampPlayer.currentAudioStreamList();if(!a)return null;var d=a.streams;if(!d)return null;this.onAudioStreamSelectedCallback&&
a.addEventListener("streamselected",this.onAudioStreamSelectedCallback);a=[];for(var h=0;h<d.length;h++){var r=d[h],t=r.language&&p.startsWith(r.language,"dau-",!0)||r.title&&p.startsWith(r.title,"dau-",!0),v=t&&r.language?r.language.substring(4):r.language;a.push({isDescriptiveAudio:t,bitrate:r.bitrate,languageCode:v,name:r.name,title:r.title})}return a};c.prototype.switchToAudioTrack=function(a){var d=this.ampPlayer&&this.ampPlayer.currentAudioStreamList&&this.ampPlayer.currentAudioStreamList();
d&&d.switchIndex(a)};c.prototype.getCurrentAudioTrack=function(){var a=this.ampPlayer&&this.ampPlayer.currentAudioStreamList&&this.ampPlayer.currentAudioStreamList();if(a&&a.enabledIndices)return a=a.enabledIndices,0<a.length?a[0]:-1};c.prototype.getVideoTracks=function(){var a=this.getSelectedAmpVideoStream();if(!a||!a.tracks)return null;var d=[],h=0;for(a=a.tracks;h<a.length;h++){var r=a[h];d.push({bitrate:r.bitrate,width:r.width,height:r.height})}return d};c.prototype.getSelectedAmpVideoStream=
function(){if(!this.ampPlayer||!this.ampPlayer.currentVideoStreamList)return null;var a=this.ampPlayer.currentVideoStreamList();return!a||!a.streams||0>a.selectedIndex||a.selectedIndex>=a.streams.length?null:a.streams[a.selectedIndex]};c.prototype.switchToVideoTrack=function(a){var d=this.getSelectedAmpVideoStream();if(!d||!d.selectTrackByIndex)return null;d.selectTrackByIndex(a)};c.prototype.getCurrentVideoTrack=function(){var a=this.getSelectedAmpVideoStream();if(!a||!a.tracks||0===a.tracks.length)return null;
a=a.tracks;var d=a.reduce(function(h,r){return r.selectable?h+1:h},0);if(d===a.length)return{auto:!0,trackIndex:null};if(1===d)for(d=0;d<a.length;d++)if(a[d].selectable)return{auto:!1,trackIndex:d};return null};c.prototype.setAutoPlay=function(){this.useAMPVersion2?this.ampPlayer.autoplay(!0):this.videoTag&&(this.videoTag.autoplay=!0,this.videoTag.setAttribute("playsinline",""))};c.prototype.dispose=function(){this.clearSource();this.unbindVideoEvents();this.ampPlayer&&this.ampPlayer.dispose&&this.ampPlayer.dispose();
this.ampPlayer=null};c.pollingInterval=50;c.pollingTimeout=3E4;return c}();l.AmpWrapper=z});K("video-wrappers/has-video-wrapper","require exports data/player-data-interfaces mwf/utilities/htmlExtensions constants/player-constants utilities/player-utility mwf/utilities/utility data/player-config".split(" "),function(z,l,m,g,p,k,f,e){Object.defineProperty(l,"__esModule",{value:!0});l.HasPlayerVideoWrapper=void 0;z=function(){function b(){var c=this;this.hasPlayer=null;this.setupHasPlayer=function(d){c.videoTag=
g.selectFirstElementT("video",c.playerContainer);c.videoTag||(c.videoTag=g.selectFirstElementT(".f-video-player",c.playerContainer));c.videoTag?(c.hasPlayer=new window.MediaPlayer,c.hasPlayer.init(c.videoTag),c.hasPlayer.setAutoPlay(d),c.onLoadedCallback&&c.onLoadedCallback()):(console.log("could not find video tag"),c.onLoadFailedCallback&&c.onLoadFailedCallback())};this.triggerEvents=function(d){if(c.onMediaEventCallback)c.onMediaEventCallback(d)};if(!b.isHasPlayerScriptLoaded()){var a=e.PlayerConfig.hasPlayerUrl.replace("url(",
"").replace(")","").trim();k.PlayerUtility.loadScript(a)}}b.isHasPlayerScriptLoaded=function(){return window&&window.MediaPlayer};b.prototype.bindVideoEvents=function(c){if(this.videoTag){this.onMediaEventCallback=c;c=0;for(var a=p.MediaEvents;c<a.length;c++)g.addEvents(this.videoTag,a[c],this.triggerEvents)}};b.prototype.unbindVideoEvents=function(){if(this.videoTag)for(var c=0,a=p.MediaEvents;c<a.length;c++)g.removeEvents(this.videoTag,a[c],this.triggerEvents)};b.prototype.load=function(c,a,d,h,
r){var t=this;c||(console.log("player container is null"),h&&h());this.videoTag&&this.dispose();this.playerContainer=c;this.onLoadedCallback=d;this.onLoadFailedCallback=h;b.isHasPlayerScriptLoaded()?this.setupHasPlayer(a):f.poll(b.isHasPlayerScriptLoaded,b.pollingInterval,b.pollingTimeout,function(){t.setupHasPlayer(a)},this.onLoadFailedCallback)};b.prototype.play=function(){this.videoTag&&this.videoTag.play()};b.prototype.pause=function(){this.videoTag&&this.videoTag.pause()};b.prototype.isPaused=
function(){return this.videoTag&&(this.videoTag.paused||this.videoTag.ended)};b.prototype.isLive=function(){return!1};b.prototype.getPlayPosition=function(){return this.videoTag?{currentTime:this.videoTag.currentTime,startTime:0,endTime:this.videoTag.duration}:{currentTime:0,endTime:0,startTime:0}};b.prototype.getVolume=function(){return this.videoTag?this.videoTag.volume:0};b.prototype.setVolume=function(c){this.videoTag&&(this.videoTag.volume=c)};b.prototype.isMuted=function(){return this.videoTag?
this.videoTag.muted:!1};b.prototype.mute=function(){this.videoTag&&(this.videoTag.muted=!0)};b.prototype.unmute=function(){this.videoTag&&(this.videoTag.muted=!1)};b.prototype.setCurrentTime=function(c){this.videoTag&&(this.videoTag.currentTime=c)};b.prototype.isSeeking=function(){return this.videoTag?this.videoTag.seeking:!1};b.prototype.getBufferedDuration=function(){var c=0;this.videoTag&&this.videoTag.buffered&&this.videoTag.buffered.length&&(c=this.videoTag.buffered.end(this.videoTag.buffered.length-
1));return c};b.prototype.setSource=function(c){this.hasPlayer&&c&&c.length&&c[0].url&&(this.hasPlayer.setInitialQualityFor("video",999),this.hasPlayer.setQualityFor("video",999),this.hasPlayer.load({url:c[0].url,protocol:c[0].mediaType===m.MediaTypes.HLS?"HLS":null}))};b.prototype.addNativeClosedCaption=function(c,a,d){if(c&&c.length&&this.videoTag){this.clearNativeCc(this.videoTag);this.videoTag.setAttribute("crossorigin","anonymous");for(var h=0;h<c.length;h++){var r=c[h];if(r.ccType===a){var t=
document.createElement("track");t.setAttribute("src",r.url);t.setAttribute("kind","captions");t.setAttribute("srclang",r.locale);t.setAttribute("label",d.getLanguageNameFromLocale(r.locale));this.videoTag.appendChild(t)}}this.videoTag.load&&this.videoTag.load()}};b.prototype.clearNativeCc=function(c){if(c)for(var a=0,d=g.selectElements("track",c);a<d.length;a++){var h=d[a];h&&h.parentElement===c&&c.removeChild(h)}};b.prototype.clearSource=function(){this.hasPlayer&&this.hasPlayer.reset(1)};b.prototype.setPosterFrame=
function(c){c&&this.videoTag&&this.videoTag.poster!==c&&(this.videoTag.poster=c)};b.prototype.getError=function(){if(null!==this.videoTag&&null!==this.videoTag.error){switch(this.videoTag.error.code){case this.videoTag.error.MEDIA_ERR_ABORTED:var c=m.VideoErrorCodes.MediaErrorAborted;break;case this.videoTag.error.MEDIA_ERR_NETWORK:c=m.VideoErrorCodes.MediaErrorNetwork;break;case this.videoTag.error.MEDIA_ERR_DECODE:c=m.VideoErrorCodes.MediaErrorDecode;break;case this.videoTag.error.MEDIA_ERR_SRC_NOT_SUPPORTED:c=
m.VideoErrorCodes.MediaErrorSourceNotSupported;break;default:c=m.VideoErrorCodes.MediaErrorUnknown}return{errorCode:c}}return null};b.prototype.setPlaybackRate=function(c){this.videoTag&&c&&f.isNumber(c)&&(this.videoTag.playbackRate=c)};b.prototype.getPlayerTechName=function(){return"hasplayer"};b.prototype.getWrapperName=function(){return"hasplayerVideo"};b.prototype.getAudioTracks=function(){return null};b.prototype.switchToAudioTrack=function(c){throw Error("HTML5.switchToAudioTrack is not supported");
};b.prototype.getCurrentAudioTrack=function(){return null};b.prototype.getVideoTracks=function(){return null};b.prototype.switchToVideoTrack=function(c){throw Error("HTML5.switchToVideoTrack is not supported");};b.prototype.getCurrentVideoTrack=function(){return null};b.prototype.setAutoPlay=function(){this.hasPlayer.setAutoPlay(!0)};b.prototype.dispose=function(){this.unbindVideoEvents();this.clearSource();this.hasPlayer&&this.hasPlayer.dispose&&this.hasPlayer.dispose();this.hasPlayer=null};b.pollingInterval=
50;b.pollingTimeout=3E4;b.supportedMediaTypes=[m.MediaTypes.HLS,m.MediaTypes.MP4];return b}();l.HasPlayerVideoWrapper=z});K("video-wrappers/hls-video-wrapper","require exports data/player-data-interfaces mwf/utilities/htmlExtensions constants/player-constants utilities/player-utility mwf/utilities/utility data/player-config".split(" "),function(z,l,m,g,p,k,f,e){Object.defineProperty(l,"__esModule",{value:!0});l.HlsPlayerVideoWrapper=void 0;z=function(){function b(){var c=this;this.hlsPlayer=null;
this.setupHlsPlayer=function(d){c.videoTag=g.selectFirstElementT("video",c.playerContainer);c.videoTag||(c.videoTag=g.selectFirstElementT(".f-video-player",c.playerContainer));c.videoTag?(c.hlsPlayer=new window.Hls,c.hlsPlayer.attachMedia(c.videoTag),c.onLoadedCallback&&c.onLoadedCallback()):(console.log("could not find video tag"),c.onLoadFailedCallback&&c.onLoadFailedCallback())};this.triggerEvents=function(d){if(c.onMediaEventCallback)c.onMediaEventCallback(d)};if(!b.isHlsPlayerScriptLoaded()){var a=
e.PlayerConfig.hlsPlayerUrl.replace("url(","").replace(")","").trim();k.PlayerUtility.loadScript(a)}}b.isHlsPlayerScriptLoaded=function(){return window&&window.Hls};b.prototype.bindVideoEvents=function(c){if(this.videoTag){this.onMediaEventCallback=c;c=0;for(var a=p.MediaEvents;c<a.length;c++)g.addEvents(this.videoTag,a[c],this.triggerEvents)}};b.prototype.unbindVideoEvents=function(){if(this.videoTag)for(var c=0,a=p.MediaEvents;c<a.length;c++)g.removeEvents(this.videoTag,a[c],this.triggerEvents)};
b.prototype.load=function(c,a,d,h,r){var t=this;c||(console.log("player container is null"),h&&h());this.videoTag&&this.dispose();this.playerContainer=c;this.onLoadedCallback=d;this.onLoadFailedCallback=h;b.isHlsPlayerScriptLoaded()?this.setupHlsPlayer(a):f.poll(b.isHlsPlayerScriptLoaded,b.pollingInterval,b.pollingTimeout,function(){t.setupHlsPlayer(a)},this.onLoadFailedCallback)};b.prototype.play=function(){this.videoTag&&this.videoTag.play()};b.prototype.pause=function(){this.videoTag&&this.videoTag.pause()};
b.prototype.isPaused=function(){return this.videoTag&&(this.videoTag.paused||this.videoTag.ended)};b.prototype.isLive=function(){return!1};b.prototype.getPlayPosition=function(){return this.videoTag?{currentTime:this.videoTag.currentTime,startTime:0,endTime:this.videoTag.duration}:{currentTime:0,endTime:0,startTime:0}};b.prototype.getVolume=function(){return this.videoTag?this.videoTag.volume:0};b.prototype.setVolume=function(c){this.videoTag&&(this.videoTag.volume=c)};b.prototype.isMuted=function(){return this.videoTag?
this.videoTag.muted:!1};b.prototype.mute=function(){this.videoTag&&(this.videoTag.muted=!0)};b.prototype.unmute=function(){this.videoTag&&(this.videoTag.muted=!1)};b.prototype.setCurrentTime=function(c){this.videoTag&&(this.videoTag.currentTime=c)};b.prototype.isSeeking=function(){return this.videoTag?this.videoTag.seeking:!1};b.prototype.getBufferedDuration=function(){var c=0;this.videoTag&&this.videoTag.buffered&&this.videoTag.buffered.length&&(c=this.videoTag.buffered.end(this.videoTag.buffered.length-
1));return c};b.prototype.setSource=function(c){this.hlsPlayer&&c&&c.length&&c[0].url&&this.hlsPlayer.loadSource(c[0].url)};b.prototype.addNativeClosedCaption=function(c,a,d){if(c&&c.length&&this.videoTag){this.clearNativeCc(this.videoTag);this.videoTag.setAttribute("crossorigin","anonymous");for(var h=0;h<c.length;h++){var r=c[h];if(r.ccType===a){var t=document.createElement("track");t.setAttribute("src",r.url);t.setAttribute("kind","captions");t.setAttribute("srclang",r.locale);t.setAttribute("label",
d.getLanguageNameFromLocale(r.locale));this.videoTag.appendChild(t)}}this.videoTag.load&&this.videoTag.load()}};b.prototype.clearNativeCc=function(c){if(c)for(var a=0,d=g.selectElements("track",c);a<d.length;a++){var h=d[a];h&&h.parentElement===c&&c.removeChild(h)}};b.prototype.clearSource=function(){this.hlsPlayer&&this.hlsPlayer.detachMedia()};b.prototype.setPosterFrame=function(c){c&&this.videoTag&&this.videoTag.poster!==c&&(this.videoTag.poster=c)};b.prototype.getError=function(){if(null!==this.videoTag&&
null!==this.videoTag.error){switch(this.videoTag.error.code){case this.videoTag.error.MEDIA_ERR_ABORTED:var c=m.VideoErrorCodes.MediaErrorAborted;break;case this.videoTag.error.MEDIA_ERR_NETWORK:c=m.VideoErrorCodes.MediaErrorNetwork;break;case this.videoTag.error.MEDIA_ERR_DECODE:c=m.VideoErrorCodes.MediaErrorDecode;break;case this.videoTag.error.MEDIA_ERR_SRC_NOT_SUPPORTED:c=m.VideoErrorCodes.MediaErrorSourceNotSupported;break;default:c=m.VideoErrorCodes.MediaErrorUnknown}return{errorCode:c}}return null};
b.prototype.setPlaybackRate=function(c){this.videoTag&&c&&f.isNumber(c)&&(this.videoTag.playbackRate=c)};b.prototype.getPlayerTechName=function(){return"hlsplayer"};b.prototype.getWrapperName=function(){return"hlsplayerVideo"};b.prototype.getAudioTracks=function(){return null};b.prototype.switchToAudioTrack=function(c){throw Error("HTML5.switchToAudioTrack is not supported");};b.prototype.getCurrentAudioTrack=function(){return null};b.prototype.getVideoTracks=function(){return null};b.prototype.switchToVideoTrack=
function(c){throw Error("HTML5.switchToVideoTrack is not supported");};b.prototype.getCurrentVideoTrack=function(){return null};b.prototype.setAutoPlay=function(){this.videoTag.autoplay=!0;this.videoTag.muted=!0;this.setVolume(0);this.videoTag.setAttribute("playsinline","");this.videoTag.setAttribute("muted","")};b.prototype.dispose=function(){this.unbindVideoEvents();this.clearSource();this.hlsPlayer&&this.hlsPlayer.dispose&&this.hlsPlayer.dispose();this.hlsPlayer=null};b.pollingInterval=50;b.pollingTimeout=
3E4;b.supportedMediaTypes=[m.MediaTypes.HLS,m.MediaTypes.MP4];return b}();l.HlsPlayerVideoWrapper=z});K("video-wrappers/native-video-wrapper",["require","exports","mwf/utilities/htmlExtensions"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});l.NativeVideoWrapper=void 0;z=function(){function g(){var p=this;this.triggerEvents=function(k){var f=null;"MediaOpened"===k.state?p.ensureLoadEventRaised():"MediaEnded"===k.state?(f=document.createEvent("CustomEvent"),f.initEvent("ended")):
"MediaFailed"===k.state?(f=document.createEvent("CustomEvent"),f.initEvent("error")):f=p.createMediaPlaybackEvent(k.target);if(f)p.onMediaEventCallback(f)}}g.prototype.bindVideoEvents=function(p){this.hasStoreApi&&(this.onMediaEventCallback=p,window.storeApi.backgroundVideoPlayer.addEventListener("mediaplayerstatechanged",this.triggerEvents))};g.prototype.unbindVideoEvents=function(){this.hasStoreApi&&window.storeApi.backgroundVideoPlayer.removeEventListener("mediaplayerstatechanged",this.triggerEvents)};
g.prototype.load=function(p,k,f,e,b){p||(console.log("player container is null"),e&&e());this.hasLoaded&&this.dispose();this.playerContainer=p;p=m.selectFirstElementT("video",this.playerContainer);!p&&e&&(console.log("video tag not found"),e());window&&window.storeApi&&window.storeApi.backgroundVideoPlayer?this.hasStoreApi=!0:e&&(console.log("native store host api not found"),this.hasStoreApi=!1,e());this.autoPlay=k;if(p&&this.hasStoreApi){for(k=p;k.parentElement;)k.style.background="transparent",
k=k.parentElement;k=document.createElement("DIV");k.className=p.className;k.style.position="absolute";k.style.width="100%";k.style.height="100%";p.parentNode.insertBefore(k,p);p.remove()}f&&setTimeout(f,0);this.hasLoaded=!0};g.prototype.play=function(){this.hasStoreApi&&(!this.autoPlay&&this.sourceUri?(window.storeApi.backgroundVideoPlayer.source=this.sourceUri,this.sourceUri=null):window.storeApi.backgroundVideoPlayer.play())};g.prototype.pause=function(){this.hasStoreApi&&window.storeApi.backgroundVideoPlayer.pause()};
g.prototype.isPaused=function(){return this.hasStoreApi?!("Opening"===window.storeApi.backgroundVideoPlayer.mediaPlaybackState||"Buffering"===window.storeApi.backgroundVideoPlayer.mediaPlaybackState||"Playing"===window.storeApi.backgroundVideoPlayer.mediaPlaybackState):!1};g.prototype.isLive=function(){return!1};g.prototype.getPlayPosition=function(){return{currentTime:0,endTime:0,startTime:0}};g.prototype.getVolume=function(){return 0};g.prototype.setVolume=function(p){};g.prototype.isMuted=function(){return this.hasStoreApi?
window.storeApi.backgroundVideoPlayer.isMuted:!1};g.prototype.mute=function(){this.hasStoreApi&&(window.storeApi.backgroundVideoPlayer.isMuted=!0)};g.prototype.unmute=function(){this.hasStoreApi&&(window.storeApi.backgroundVideoPlayer.isMuted=!1)};g.prototype.setCurrentTime=function(p){};g.prototype.isSeeking=function(){return!1};g.prototype.getBufferedDuration=function(){return 0};g.prototype.setSource=function(p){if(this.hasStoreApi)if(window.storeApi.backgroundVideoPlayer.source){if(this.ensureLoadEventRaised(),
p=this.createMediaPlaybackEvent(window.storeApi.backgroundVideoPlayer))this.onMediaEventCallback(p)}else p=p[0].url,"/"===p.charAt(0)&&(p="http:"+p),this.autoPlay?window.storeApi.backgroundVideoPlayer.source=p:this.sourceUri=p};g.prototype.addNativeClosedCaption=function(p,k,f){};g.prototype.clearSource=function(){this.hasStoreApi&&(window.storeApi.backgroundVideoPlayer.source=null,window.storeApi.backgroundVideoPlayer.posterSource=null)};g.prototype.setPosterFrame=function(p){this.hasStoreApi&&!window.storeApi.backgroundVideoPlayer.posterSource&&
("/"===p.charAt(0)&&(p="http:"+p),window.storeApi.backgroundVideoPlayer.posterSource=p)};g.prototype.getError=function(){return null};g.prototype.setPlaybackRate=function(p){};g.prototype.getPlayerTechName=function(){return"nativeplayer"};g.prototype.getWrapperName=function(){return"nativeplayer"};g.prototype.getAudioTracks=function(){return null};g.prototype.switchToAudioTrack=function(p){throw Error("HTML5.switchToAudioTrack is not supported");};g.prototype.getCurrentAudioTrack=function(){return null};
g.prototype.getVideoTracks=function(){return null};g.prototype.switchToVideoTrack=function(p){throw Error("HTML5.switchToVideoTrack is not supported");};g.prototype.getCurrentVideoTrack=function(){return null};g.prototype.setAutoPlay=function(){};g.prototype.dispose=function(){this.unbindVideoEvents();this.clearSource()};g.prototype.ensureLoadEventRaised=function(){if(!this.hasRaisedLoadedEvent&&this.onMediaEventCallback){var p=document.createEvent("CustomEvent");p.initEvent("loadeddata",!1,!1);this.hasRaisedLoadedEvent=
!0;this.onMediaEventCallback(p)}};g.prototype.createMediaPlaybackEvent=function(p){var k=null;switch(p.mediaPlaybackState){case "Paused":k=document.createEvent("CustomEvent");k.initEvent("pause",!1,!1);break;case "Playing":k=document.createEvent("CustomEvent"),k.initEvent("playing",!1,!1)}return k};return g}();l.NativeVideoWrapper=z});K("utilities/stopwatch",["require","exports","mwf/utilities/utility"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});l.Stopwatch=void 0;z=function(){function g(){this.intervals=
this.totalValue=this.firstValue=this.timeValue=this.timestamp=null}g.prototype.start=function(){this.timestamp||(this.timestamp=new Date,this.intervals++)};g.prototype.stop=function(){if(this.timestamp){var p=(new Date).valueOf()-this.timestamp.valueOf();this.timeValue+=p;this.totalValue+=p;this.firstValue||(this.firstValue=this.timeValue);this.timestamp=null}};g.prototype.reset=function(){this.timestamp=null;this.timeValue=this.intervals=this.firstValue=this.totalValue=0};g.prototype.isStarted=function(){return!!this.intervals};
g.prototype.isStopped=function(){return!this.timestamp};g.prototype.hasReached=function(p){return m.isNumber(p)&&this.getValue()>=p?(this.timestamp&&(this.totalValue+=(new Date).valueOf()-this.timestamp.valueOf(),this.timestamp=new Date),this.intervals=this.timeValue=0,!0):!1};g.prototype.getValue=function(){var p=this.timeValue;this.timestamp&&(p+=(new Date).valueOf()-this.timestamp.valueOf());return p};g.prototype.getTotalValue=function(){var p=this.totalValue;this.timestamp&&(p+=(new Date).valueOf()-
this.timestamp.valueOf());return p};g.prototype.getFirstValue=function(){return this.firstValue};g.prototype.getIntervals=function(){return this.intervals};return g}();l.Stopwatch=z});K("helpers/screen-manager-helper",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.ScreenManagerHelper=void 0;z=function(){function m(){this.screenElements=[];this.nextScreenElementId=0}m.prototype.registerElement=function(g){if(null==g.HtmlObject||null==g.Priority||null==g.Height)return null;
null==g.Transition&&(g.Transition="bottom 0.5s ease-in");0>=g.Height&&(g.Height=g.HtmlObject.clientHeight);g.Id=this.nextScreenElementId;this.nextScreenElementId++;g.HtmlObject.style.bottom="-"+g.Height+"px";g.HtmlObject.style.transition=g.Transition;this.screenElements.push(g);this.sortScreenElements();return g};m.prototype.updateElementDisplay=function(g,p){for(var k=0,f=!1,e=this.screenElements.length-1;0<=e;e--){var b=this.screenElements[e];b.Id===g.Id&&b.IsVisible!==p?(b.IsVisible=p,f=!0,b.IsVisible?
(b.HtmlObject.style.bottom=k+"px",k+=b.Height):b.HtmlObject.style.bottom="-"+g.Height+"px"):b.IsVisible&&(f&&(b.HtmlObject.style.bottom=k+"px"),k+=b.Height)}};m.prototype.updateElementHeight=function(g,p){for(var k=0,f=!1,e=this.screenElements.length-1;0<=e;e--){var b=this.screenElements[e];b.Id===g.Id&&b.Height!==p?(b.Height=p,f=!0,b.IsVisible&&(b.HtmlObject.style.bottom=k+"px",k+=b.Height)):b.IsVisible&&(f&&(b.HtmlObject.style.bottom=k+"px"),k+=b.Height)}};m.prototype.deleteElement=function(g){this.updateElementDisplay(g,
!1);for(var p=-1,k=0;k<this.screenElements.length;k++)if(this.screenElements[k].Id===g.Id){p=k;break}this.screenElements.splice(p,1)};m.prototype.sortScreenElements=function(){this.screenElements.sort(function(g,p){return g.Priority<p.Priority?-1:g.Priority>p.Priority?1:0})};return m}();l.ScreenManagerHelper=z});K("helpers/interactive-triggers-helper","require exports utilities/player-utility mwf/utilities/utility mwf/utilities/htmlExtensions constants/player-constants data/video-shim-data-fetcher helpers/localization-helper".split(" "),
function(z,l,m,g,p,k,f,e){Object.defineProperty(l,"__esModule",{value:!0});l.VideoPlayerInteractiveTriggersHelper=l.CustomHtmlPostMessageType=l.OverlayTemplate=l.OverlayType=void 0;var b;(function(a){a[a.WebLink=1]="WebLink";a[a.StoreOffer=2]="StoreOffer";a[a.VideoBranch=3]="VideoBranch";a[a.Poll=4]="Poll";a[a.Graphic=5]="Graphic";a[a.CustomHtml=6]="CustomHtml"})(b=l.OverlayType||(l.OverlayType={}));var c;(function(a){a.LowerThird="lowerThird";a.UpperThird="upperThird";a.LeftVertical="leftVertical";
a.RightVertical="rightVertical";a.Fullscreen="fullScreen";a.Default="default"})(c=l.OverlayTemplate||(l.OverlayTemplate={}));(function(a){a.VideoBranch="VideoBranch";a.WebLink="WebLink";a.Telemetry="Telemetry"})(l.CustomHtmlPostMessageType||(l.CustomHtmlPostMessageType={}));z=function(){function a(d,h,r,t,v){var y=this;this.playerContainer=d;this.interactivityInfoUrl=h;this.telemetryEventCallback=v;this.streamLinkBackStack=[];this.screenManagerObjects=[];this.minimizedOverlays={};this.onScreenOverlays=
{};this.interactedTriggers=[];this.isInteractivityJSONReady=this.isStreamLinkBackStackPop=this.isEndSlateOn=!1;this.preRollDefaultDurationMs=5E3;this.onInteractivityInfoSuccess=function(B){try{y.interactivityInfo=JSON.parse(B),y.preloadContent(),p.addThrottledEvent(window,p.eventTypes.resize,y.onResized),window.addEventListener("message",y.onCustomHtmlMessageReceived),y.isInteractivityJSONReady=!0}catch(F){y.isInteractivityJSONReady=!0}};this.onCustomHtmlMessageReceived=function(B){if(B&&B.data&&
B.data.type){var F=B.data.customHtmlOverlayId;if(F){F=F.split("-").pop();var E=y.onScreenOverlays[F];if(F&&E)switch(B.data.type){case "VideoBranch":B.data.streamLink&&y.handleClickByOverlayType(E,b.VideoBranch,B.data.streamLink);break;default:B.data.webLink&&y.handleClickByOverlayType(E,b.WebLink,B.data.webLink)}}}};this.onInteractivityInfoFailed=function(){y.isInteractivityJSONReady=!0};this.onMinimizeClick=function(B){(B=p.getEventTargetOrSrcElement(B))&&B.parentElement&&B.parentElement.parentElement&&
(B=B.parentElement.id.split("-").pop())&&(B=y.onScreenOverlays[B],y.minimizeOverlay(B),y.telemetryEventCallback&&y.telemetryEventCallback(k.PlayerEvents.InteractiveOverlayMinimize,B))};this.onMaximizeButtonClick=function(B){if((B=p.getEventTargetOrSrcElement(B))&&B.parentElement&&B.parentElement.parentElement&&(B=B.id.split("-").pop())){var F=y.minimizedOverlays[B];F&&(y.removeMaximizeButton(F),delete y.minimizedOverlays[B],y.createContainerAndShowOverlay(F.onScreenOverlay.overlay,F.onScreenOverlay.trigger,
!0),y.telemetryEventCallback&&y.telemetryEventCallback(k.PlayerEvents.InteractiveOverlayMinimize,F.onScreenOverlay))}};this.onOverlayClick=function(B){(B=p.getEventTargetOrSrcElement(B))&&B.parentElement&&B.parentElement.parentElement&&(B=B.parentElement.parentElement.id.split("-").pop(),B=y.onScreenOverlays[B],B.trigger.triggerWindowId&&y.interactedTriggers.push(B.trigger.triggerWindowId),y.handleClickByOverlayType(B))};this.onBackButtonClick=function(B){1>y.streamLinkBackStack.length||(y.streamLinkBackstackPop(),
y.telemetryEventCallback&&y.telemetryEventCallback(k.PlayerEvents.InteractiveBackButtonClick))};this.onResized=function(){if(!(1>Object.keys(y.onScreenOverlays).length)&&y.interactivityInfo){g.getDimensions(y.playerContainer);for(var B=0,F=Object.keys(y.onScreenOverlays);B<F.length;B++){var E=y.onScreenOverlays[F[B]];if(g.getDimensions(y.playerContainer).width<g.Viewports.allWidths[1]){y.hideOverlay(E);return}}if(0<y.screenManagerObjects.length)for(B=0,F=y.screenManagerObjects;B<F.length;B++)E=F[B],
y.corePlayer.screenManagerHelper.updateElementHeight(E,y.getOverlayHeight(E.HtmlObject))}};this.onPlayerEvent=function(B){switch(B.name){case k.PlayerEvents.ContentComplete:y.onContentComplete();break;case k.PlayerEvents.Seek:if(B.data&&B.data.seekTo)y.onSeek(B.data.seekTo);break;case k.PlayerEvents.Resume:y.onPlay()}};this.corePlayer=r;this.localizationHelper=t;this.corePlayer.addPlayerEventListener(this.onPlayerEvent);this.createBackButton();d&&h&&this.requestInteractivityJSON()}a.prototype.dispose=
function(){this.hideAllOverlays();p.removeEvent(window,p.eventTypes.resize,this.onResized)};a.prototype.requestInteractivityJSON=function(){m.PlayerUtility.ajax(this.interactivityInfoUrl,this.onInteractivityInfoSuccess,this.onInteractivityInfoFailed)};a.prototype.createGraphicContainer=function(d){var h="interactive-graphic-overlay-"+d.overlay.overlayId;p.selectFirstElement("#"+h,this.playerContainer)||this.appendHtmlToPlayerContainer("\x3cimg aria-hidden\x3d'true' alt\x3d'' id\x3d'"+h+"' class\x3d'f-interactive-overlay \n                interactive-fullscreen interactive-graphic'\x3e\n            \x3cimg\x3e",
h,d);d.overlayContainer=p.selectFirstElement("#"+h,this.playerContainer)};a.prototype.createCustomHtmlContainer=function(d){var h="interactive-fullscreen";switch(d.trigger.overlayTemplate){case c.LeftVertical:h="interactive-left";break;case c.RightVertical:h="interactive-right";break;case c.UpperThird:h="interactive-upper";break;case c.LowerThird:h="interactive-lower"}var r="custom-html-overlay-"+d.overlay.overlayId;this.appendHtmlToPlayerContainer("\x3cdiv aria-hidden\x3d'true' id\x3d'"+r+"' \n        class\x3d'f-interactive-overlay "+
h+" f-interactive-overlay-customhtml'\x3e\n        \x3ciframe src\x3d'"+d.overlay.overlayData.customHtml+"' name\x3d'"+r+"' \n        style\x3d'height: 100%; width: 100%; border: none;'\x3e\x3c/iframe\x3e\n        \x3c/div\x3e",r,d);this.createScreenManagerObject(d)};a.prototype.createBakedInOverlayContainer=function(d){var h="interactive-lower",r="f-overlay-minimize-lowerthird";switch(d.trigger.overlayTemplate){case c.LeftVertical:h="interactive-left";break;case c.RightVertical:h="interactive-right";
break;case c.UpperThird:r="f-overlay-minimize-upperthird",h="interactive-upper"}var t="interactive-overlay-"+d.overlay.overlayId;p.selectFirstElement("#"+t,this.playerContainer)||this.appendHtmlToPlayerContainer("\x3cdiv aria-hidden\x3d'true' id\x3d'"+t+"' class\x3d'f-interactive-overlay "+h+"'\x3e\n\x3cdiv class\x3d'f-overlay-info'\x3e\n    \x3ch2 class\x3d'c-headline'\x3e\x3c/h2\x3e\n    \x3cp class\x3d'c-paragraph'\x3e\x3c/p\x3e\n\x3c/div\x3e\n\x3cdiv class\x3d'f-overlay-link'\x3e\n    \x3cbutton class\x3d'c-action-trigger f-heavyweight'\x3e\x3c/button\x3e\n\x3c/div\x3e\n\x3cbutton type\x3d'button' class\x3d'f-overlay-minimizeMaximize "+
r+" c-glyph glyph-chevron-left'\x3e\n\x3c/button\x3e  \n\x3c/div\x3e",t,d);d.overlayContainer=p.selectFirstElement("#"+t,this.playerContainer);d.overlayHeadline=p.selectFirstElement("h2",d.overlayContainer);d.overlayText=p.selectFirstElement("p",d.overlayContainer);d.overlayButton=p.selectFirstElement("button",d.overlayContainer);d.minimizeButton=p.selectFirstElement(".f-overlay-minimizeMaximize",d.overlayContainer);this.createScreenManagerObject(d);p.addEvent(d.overlayButton,p.eventTypes.click,this.onOverlayClick);
p.addEvent(d.minimizeButton,p.eventTypes.click,this.onMinimizeClick)};a.prototype.createOverlayContainer=function(d){switch(d.overlay.overlayType){case b.StoreOffer:case b.WebLink:case b.VideoBranch:this.createBakedInOverlayContainer(d);break;case b.Graphic:this.createGraphicContainer(d);break;case b.CustomHtml:this.createCustomHtmlContainer(d)}};a.prototype.appendHtmlToPlayerContainer=function(d,h,r){var t=document.createElement("div");t.innerHTML=d;d=p.selectFirstElement(".f-video-cc-overlay",this.playerContainer);
this.playerContainer.insertBefore(t.firstChild,d);r.overlayContainer=p.selectFirstElement("#"+h,this.playerContainer)};a.prototype.createScreenManagerObject=function(d){d.trigger.overlayTemplate===c.LowerThird&&(this.screenManagerObjects.push(this.corePlayer.screenManagerHelper.registerElement({HtmlObject:d.overlayContainer,Height:this.getOverlayHeight(d.overlayContainer),Id:null,IsVisible:!1,Priority:1,Transition:null})),null==this.screenManagerObjects[this.screenManagerObjects.length-1]&&this.screenManagerObjects.pop())};
a.prototype.createBackButton=function(){if(!this.backButtonContainer){var d=document.createElement("div");d.innerHTML="\x3cbutton type\x3d'button' aria-hidden\x3d'true' class\x3d'f-interactive-back-button c-glyph glyph-chevron-left'\x3e\n                \x3c/button\x3e";var h=p.selectFirstElement(".f-video-cc-overlay",this.playerContainer);this.playerContainer.insertBefore(d.firstChild,h);this.backButtonContainer=p.selectFirstElement(".f-interactive-back-button",this.playerContainer);this.backButtonContainer.setAttribute(a.ariaLabel,
this.localizationHelper.getLocalizedValue(e.playerLocKeys.close_text))}p.addEvent(this.backButtonContainer,p.eventTypes.click,this.onBackButtonClick)};a.prototype.removeMaximizeButton=function(d){p.removeEvent(d.maximizeButton,p.eventTypes.click,this.onMaximizeButtonClick);p.removeElement(d.maximizeButton)};a.prototype.updateCurrentOverlay=function(d){this.interactivityInfo&&this.updateInteractivity(d)};a.prototype.updateOverlays=function(d){var h=1E7*d;d={};for(var r=0,t=this.interactivityInfo.triggers;r<
t.length;r++){var v=t[r];if(v.triggerTimeTicks>h)break;!0!==v.isOverlayOn||this.userAlreadyInteractedWithTrigger(v.triggerWindowId)?delete d[v.triggerWindowId]:d[v.triggerWindowId]=v}h=0;for(r=Object.keys(this.minimizedOverlays);h<r.length;h++)v=r[h],t=this.minimizedOverlays[v],(v=d[t.onScreenOverlay.trigger.triggerWindowId]?!0:!1)?delete d[t.onScreenOverlay.trigger.triggerWindowId]:this.hideOverlay(t.onScreenOverlay);r=0;for(t=Object.keys(this.onScreenOverlays);r<t.length;r++)h=t[r],h=this.onScreenOverlays[h],
(v=d[h.trigger.triggerWindowId]?!0:!1)?delete d[h.trigger.triggerWindowId]:this.hideOverlay(h);r=0;for(t=Object.keys(d);r<t.length;r++)v=t[r],v=d[v],h=v.overlayId,v.zIndex=this.normalizeZIndex(v.zIndex),(h=this.getOverlayInfo(h))&&this.createContainerAndShowOverlay(h,v)};a.prototype.createContainerAndShowOverlay=function(d,h,r){g.getDimensions(this.playerContainer).width<g.Viewports.allWidths[1]||(d={overlay:d,overlayContainer:null,trigger:h,hideTimer:null,showTimer:null},this.createOverlayContainer(d),
this.setOverlayData(d,h.zIndex),this.showOverlay(d,r))};a.prototype.showOverlay=function(d,h){if(d.overlayContainer){this.onScreenOverlays[d.overlay.overlayId]=d;switch(d.overlay.overlayType){case b.Graphic:d.trigger.overlayTemplate===c.Default&&(d.trigger.overlayTemplate=c.Fullscreen);break;default:d.trigger.overlayTemplate===c.Default&&(d.trigger.overlayTemplate=c.LowerThird),this.isContentStreamLink()||this.corePlayer.resetFocusTrap(this.findInteractivityFocusTrapStart()),d.overlayContainer.setAttribute("role",
"alert")}clearTimeout(d.showTimer);this.displayOverlayContainer(d);var r=null;d&&d.overlay&&(r=d.overlay.overlayData);r&&r.headline&&d.overlayContainer.setAttribute("aria-label",r.headline);h||this.telemetryEventCallback&&this.telemetryEventCallback(k.PlayerEvents.InteractiveOverlayShow,d)}};a.prototype.isContentStreamLink=function(){return 1<=this.streamLinkBackStack.length};a.prototype.hideAllOverlays=function(){if(0<Object.keys(this.minimizedOverlays).length)for(var d=0,h=Object.keys(this.minimizedOverlays);d<
h.length;d++)this.removeMaximizeButton(this.minimizedOverlays[h[d]]);if(!(1>Object.keys(this.onScreenOverlays).length)&&this.interactivityInfo)for(d=0,h=Object.keys(this.onScreenOverlays);d<h.length;d++)this.hideOverlay(this.onScreenOverlays[h[d]])};a.prototype.hideOverlay=function(d){if(d.overlayContainer){switch(d.overlay.overlayType){case b.Graphic:case b.CustomHtml:d.trigger.overlayTemplate===c.Default&&(d.trigger.overlayTemplate=c.Fullscreen);break;default:d.trigger.overlayTemplate===c.Default&&
(d.trigger.overlayTemplate=c.LowerThird)}this.removeOverlayFromScreen(d);this.telemetryEventCallback&&this.telemetryEventCallback(k.PlayerEvents.InteractiveOverlayHide,d)}};a.prototype.removeOverlayFromScreen=function(d,h){var r=this.minimizedOverlays[d.trigger.triggerWindowId];r?(this.removeMaximizeButton(r),delete this.minimizedOverlays[r.onScreenOverlay.trigger.triggerWindowId]):(this.hideOveralyContainer(d,function(){h&&h()}),delete this.onScreenOverlays[d.overlay.overlayId]);this.isContentStreamLink()||
this.corePlayer.resetFocusTrap(this.findInteractivityFocusTrapStart())};a.prototype.displayOverlayContainer=function(d){var h=this;d.overlayContainer.setAttribute("aria-hidden","false");switch(d.trigger.overlayTemplate){case c.LeftVertical:case c.RightVertical:case c.UpperThird:p.addClass(d.overlayContainer,"f-interactive-overlay-slidein");p.removeClass(d.overlayContainer,"f-interactive-overlay-slideout");break;case c.Fullscreen:break;default:d.showTimer=setTimeout(function(){h.corePlayer.screenManagerHelper.updateElementDisplay(h.getScreenManagerObjectByOverlayId(d.overlay.overlayId),
!0)},100)}};a.prototype.hideOveralyContainer=function(d,h){var r=this;switch(d.trigger.overlayTemplate){case c.LeftVertical:case c.RightVertical:case c.UpperThird:p.addClass(d.overlayContainer,"f-interactive-overlay-slideout");p.removeClass(d.overlayContainer,"f-interactive-overlay-slidein");d.hideTimer=setTimeout(function(){d.overlayContainer.setAttribute("aria-hidden","true");d.overlayButton&&p.removeEvent(d.overlayButton,p.eventTypes.click,r.onOverlayClick);p.removeElement(d.overlayContainer);
h()&&h()},500);break;case c.Fullscreen:d.overlayContainer.setAttribute("aria-hidden","true");p.removeElement(d.overlayContainer);break;default:0<this.screenManagerObjects.length&&(this.corePlayer.screenManagerHelper.deleteElement(this.deleteScreenManagerObjectByOverlayId(d.overlay.overlayId)),d.hideTimer=setTimeout(function(){d.overlayContainer.setAttribute("aria-hidden","true");d.overlayButton&&p.removeEvent(d.overlayButton,p.eventTypes.click,r.onOverlayClick);p.removeElement(d.overlayContainer);
h()&&h()},500))}};a.prototype.setOverlayData=function(d,h){if(d.overlayContainer&&d.overlay)switch(d.overlay.overlayType){case b.Graphic:this.setGraphicOverlay(d,h);break;default:this.setBakedInOverlayContainerFields(d,h)}};a.prototype.setGraphicOverlay=function(d,h){var r=d.overlay.overlayData;h&&p.css(d.overlayContainer,"z-index",h);d.overlayContainer.src=r.graphicUrl};a.prototype.setBakedInOverlayContainerFields=function(d,h){var r=d.overlay.overlayData;d.overlayHeadline&&p.setText(d.overlayHeadline,
r.headline);d.overlayText&&p.setText(d.overlayText,r.bodyText);h&&p.css(d.overlayContainer,"z-index",h);r.imageUrl&&p.css(d.overlayContainer,"background-image","url('"+r.imageUrl+"')");d.overlayButton&&(p.setText(d.overlayButton,r.buttonText),d.overlayButton.setAttribute("aria-label",r.buttonText));d.minimizeButton&&("undefined"===typeof d.trigger.isMinimizable||d.trigger.isMinimizable?d.minimizeButton.setAttribute(a.ariaLabel,this.localizationHelper.getLocalizedValue(e.playerLocKeys.interactivity_hide)+
" "+d.overlay.overlayData.headline):d.minimizeButton.setAttribute("aria-hidden","true"))};a.prototype.getOverlayInfo=function(d){if(!(this.interactivityInfo&&this.interactivityInfo.overlays&&this.interactivityInfo.overlays&&this.interactivityInfo.overlays.length))return null;for(var h=0,r=this.interactivityInfo.overlays;h<r.length;h++){var t=r[h];if(t.overlayId===d)return t}return null};a.prototype.getScreenManagerObjectByOverlayId=function(d){if(0===this.screenManagerObjects.length)return null;for(var h=
0,r=this.screenManagerObjects;h<r.length;h++){var t=r[h];if(t.HtmlObject.id.split("-").pop()===d)return t}return null};a.prototype.deleteScreenManagerObjectByOverlayId=function(d){if(0===this.screenManagerObjects.length)return null;d=this.getScreenManagerObjectByOverlayId(d);d=this.screenManagerObjects.splice(this.screenManagerObjects.indexOf(d),1);return 0<d.length?d[0]:null};a.prototype.getOverlayHeight=function(d){var h=d.clientHeight;0>=h&&d.parentElement&&(h=.2*d.parentElement.clientHeight);
return h};a.prototype.createMaximizeButton=function(d){var h=d.trigger.triggerWindowId,r="f-overlay-maximize-lowerthird";d.trigger.overlayTemplate===c.UpperThird&&(r="f-overlay-maximize-upperthird");var t="\x3cbutton type\x3d'button' id\x3d'"+h+"' class\x3d'f-overlay-minimizeMaximize "+r+" c-glyph glyph-chevron-left'\x3e\n        \x3c/button\x3e";r=document.createElement("div");r.innerHTML=t;t=p.selectFirstElement(".f-video-cc-overlay",this.playerContainer);this.playerContainer.insertBefore(r.firstChild,
t);h=p.selectFirstElement("#"+h,this.playerContainer);h.setAttribute(a.ariaLabel,this.localizationHelper.getLocalizedValue(e.playerLocKeys.interactivity_show)+" "+d.overlay.overlayData.headline);p.addEvent(h,p.eventTypes.click,this.onMaximizeButtonClick);return h};a.prototype.minimizeOverlay=function(d){var h=this;if(d){var r={onScreenOverlay:d};this.removeOverlayFromScreen(d,function(){r.maximizeButton=h.createMaximizeButton(d);h.corePlayer.resetFocusTrap(h.findInteractivityFocusTrapStart())});this.minimizedOverlays[d.trigger.triggerWindowId]=
r}};a.prototype.streamLinkBackstackPop=function(){var d=this.streamLinkBackStack.pop();!this.isContentStreamLink()&&this.backButtonContainer&&(this.backButtonContainer.setAttribute("aria-hidden","true"),this.corePlayer.resetFocusTrap(this.findInteractivityFocusTrapStart()));this.hideAllOverlays();this.isStreamLinkBackStackPop=!0;this.corePlayer.load(d.corePlayer);this.interactivityInfo=d.interactivityInfo;this.interactedTriggers=d.interactedTriggers;this.minimizedOverlays=d.minimizedOverlays;this.isInteractivityJSONReady=
!0;this.corePlayer.getPlayerData().options.startTime=0;this.finalizeBackStackPop(d.paused)};a.prototype.finalizeBackStackPop=function(d){var h=this;if(d){var r=this.corePlayer;"loading"===r.playerState||"init"===r.playerState?setTimeout(function(){h.finalizeBackStackPop(d)},50):r.pause()}};a.prototype.handleClickByOverlayType=function(d,h,r){if(d){h||(h=d.overlay.overlayType);r||(r=d.overlay.overlayData);this.hideOverlay(d);switch(h){case b.VideoBranch:this.navigateToStreamLink(r)}this.telemetryEventCallback&&
this.telemetryEventCallback(k.PlayerEvents.InteractiveOverlayClick,d)}};a.prototype.setFocusOnInteractivity=function(d){d&&"IMG"!==d.tagName&&(d.setAttribute("tabindex","1"),setTimeout(function(){d.focus()},0))};a.prototype.findInteractivityFocusTrapStart=function(){if(0<this.streamLinkBackStack.length)return this.backButtonContainer;for(var d=0,h=Object.keys(this.minimizedOverlays);d<h.length;d++){var r=this.minimizedOverlays[h[d]].maximizeButton;if(r)return r}d=0;for(h=Object.keys(this.onScreenOverlays);d<
h.length;d++)if(r=this.onScreenOverlays[h[d]],void 0!==r.overlayButton)return r.overlayButton;return null};a.prototype.navigateToStreamLink=function(d){var h=this.corePlayer.getPlayerData();h.options.startTime=this.corePlayer.getPlayPosition().currentTime;h.options.lazyLoad=!1;var r={};g.extend(r,this.minimizedOverlays);var t=[];g.extend(t,this.interactedTriggers);r={corePlayer:h,interactivityInfo:this.interactivityInfo,minimizedOverlays:r,interactedTriggers:t,paused:this.corePlayer.isPaused()};this.hideAllOverlays();
this.clearOutInteractedTriggers();this.minimizedOverlays={};this.interactivityInfo=null;this.streamLinkBackStack.push(r);r={options:{}};g.extend(r.options,h.options);r.options.startTime=d.startTime?d.startTime:0;this.fetchStreamLinkMetadataAndSwitch(r,d.videoId)};a.prototype.clearOutInteractedTriggers=function(){this.isStreamLinkBackStackPop?this.isStreamLinkBackStackPop=!1:this.interactedTriggers.length=0};a.prototype.fetchStreamLinkMetadataAndSwitch=function(d,h){var r=this;(new f.VideoShimDataFetcher(d.options.shimServiceEnv,
d.options.shimServiceUrl)).getMetadata(h,function(t){d.metadata=t;r.isInteractivityJSONReady=!1;r.corePlayer.stop();r.corePlayer.load(d);d.metadata.interactiveTriggersEnabled&&d.metadata.interactiveTriggersUrl&&(r.interactivityInfoUrl=d.metadata.interactiveTriggersUrl,r.requestInteractivityJSON());r.backButtonContainer&&(r.backButtonContainer.setAttribute("aria-hidden","false"),r.corePlayer.resetFocusTrap(r.backButtonContainer))},function(){})};a.prototype.userAlreadyInteractedWithTrigger=function(d){for(var h=
0,r=this.interactedTriggers;h<r.length;h++)if(r[h]===d)return!0;return!1};a.prototype.displayEndSlate=function(){for(var d=0,h=this.interactivityInfo.showOnVideoEnd;d<h.length;d++){var r=h[d],t=this.getOverlayInfo(r.overlayId);t&&(r={overlayId:r.overlayId,overlayTemplate:r.overlayTemplate,zIndex:this.normalizeZIndex(r.zIndex)},this.createContainerAndShowOverlay(t,r),this.isEndSlateOn=!0)}};a.prototype.displayPreRoll=function(d){try{if(!this.interactivityInfo||1>this.interactivityInfo.showOnVideoStart.length||
0!==this.corePlayer.getPlayerData().options.startTime)d();else{var h=this.interactivityInfo.showOnVideoStart;if(1>h.length)d();else{for(var r=0;r<h.length;r++){var t=h[r],v=this.getOverlayInfo(t.overlayId);if(v){var y={overlayId:t.overlayId,overlayTemplate:t.overlayTemplate,zIndex:this.normalizeZIndex(t.zIndex)};this.createContainerAndShowOverlay(v,y)}}setTimeout(function(){d()},this.interactivityInfo.preRollDurationSecs?1E3*this.interactivityInfo.preRollDurationSecs:this.preRollDefaultDurationMs)}}}catch(B){d()}};
a.prototype.normalizeZIndex=function(d){return isNaN(d)?1:Math.max(1,Math.min(50,d))};a.prototype.onSeek=function(d){this.interactivityInfo&&(this.isStreamLinkBackStackPop?this.isStreamLinkBackStackPop=!1:this.clearOutInteractedTriggers(),this.updateInteractivity(d))};a.prototype.updateInteractivity=function(d){0<d&&this.updateOverlays(d)};a.prototype.onPlay=function(){this.interactivityInfo&&this.isEndSlateOn&&(this.hideAllOverlays(),this.isEndSlateOn=!1)};a.prototype.onContentComplete=function(){0<
this.streamLinkBackStack.length?this.streamLinkBackstackPop():this.interactivityInfo&&this.displayEndSlate()};a.prototype.postIFrameMessage=function(d){for(var h=0,r=Object.keys(this.onScreenOverlays);h<r.length;h++){var t=this.onScreenOverlays[r[h]];t&&t.overlay.overlayType===b.CustomHtml&&t.overlayContainer.firstElementChild.contentWindow.postMessage(d,"*")}};a.prototype.preloadContent=function(){for(var d=[],h=[],r=0,t=this.interactivityInfo.overlays;r<t.length;r++){var v=t[r];switch(v.overlayType){case b.WebLink:case b.StoreOffer:case b.VideoBranch:v.overlayData&&
v.overlayData.imageUrl&&d.push(v.overlayData.imageUrl);break;case b.Graphic:v.overlayData&&v.overlayData.graphicUrl&&d.push(v.overlayData.graphicUrl);break;case b.CustomHtml:v.overlayData&&v.overlayData.customHtml&&h.push(v.overlayData.customHtml)}}0<d.length&&this.cacheImages(d);0<h.length&&this.cacheIFrames(h)};a.prototype.cacheImages=function(d){for(var h=0;h<d.length;h++){var r=d[h];(new Image).src=r}};a.prototype.cacheIFrames=function(d){};a.ariaLabel="aria-label";return a}();l.VideoPlayerInteractiveTriggersHelper=
z});K("telemetry/reporting-data",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0})});K("telemetry/base-reporter",["require","exports","constants/player-constants","utilities/player-utility","mwf/utilities/utility"],function(z,l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.BaseReporter=void 0;var k=[m.videoPerfMarkers.playerInit,m.videoPerfMarkers.playerLoadStart,m.videoPerfMarkers.locLoadStart,m.videoPerfMarkers.locReady,m.videoPerfMarkers.metadataFetchStart,
m.videoPerfMarkers.metadataFetchEnd,m.videoPerfMarkers.wrapperLoadStart,m.videoPerfMarkers.wrapperReady,m.videoPerfMarkers.playerReady,m.videoPerfMarkers.playTriggered,m.videoPerfMarkers.ttvs];z=function(){function f(e){this.videoComponent=e;this.isDebugMode=!1;e?(this.playerId=e.getAttribute("id"),this.isDebugMode="true"===e.getAttribute("data-debug")):console.log("base-reporter: video component is null")}f.prototype.reportEvent=function(e,b){if(e)switch(e){case m.PlayerEvents.CommonPlayerImpression:g.PlayerUtility.createVideoPerfMarker(this.playerId,
m.videoPerfMarkers.playerReady);this.onCommonPlayerImpression(b);break;case m.PlayerEvents.Replay:this.onReplay(b);break;case m.PlayerEvents.BufferComplete:this.onBufferComplete(b);break;case m.PlayerEvents.ContentStart:g.PlayerUtility.createVideoPerfMarker(this.playerId,m.videoPerfMarkers.ttvs);this.onContentStart(b);break;case m.PlayerEvents.ContentError:this.onContentError(b);break;case m.PlayerEvents.ContentComplete:this.onContentComplete(b);break;case m.PlayerEvents.ContentCheckpoint:this.onContentCheckpoint(b);
break;case m.PlayerEvents.ContentLoaded3PP:this.on3ppVideoLoaded(b);break;case m.PlayerEvents.Pause:this.onPause(b);break;case m.PlayerEvents.Resume:this.onResume(b);break;case m.PlayerEvents.Seek:this.onSeek(b);break;case m.PlayerEvents.VideoQualityChanged:this.onVideoQualityChanged(b);break;case m.PlayerEvents.Mute:this.onMute(b);break;case m.PlayerEvents.Unmute:this.onUnmute(b);break;case m.PlayerEvents.FullScreenEnter:this.onFullScreenEnter(b);break;case m.PlayerEvents.FullScreenExit:this.onFullScreenExit(b);
break;case m.PlayerEvents.InteractiveOverlayClick:this.onInteractiveOverlayClick(b);break;case m.PlayerEvents.InteractiveOverlayShow:this.onInteractiveOverlayShow(b);break;case m.PlayerEvents.InteractiveOverlayHide:this.onInteractiveOverlayHide(b);break;case m.PlayerEvents.InteractiveOverlayMaximize:this.onInteractiveOverlayMaximize(b);break;case m.PlayerEvents.InteractiveOverlayMinimize:this.onInteractiveOverlayMinimize(b);break;case m.PlayerEvents.InteractiveBackButtonClick:this.onInteractiveBackButtonClick(b);
break;case m.PlayerEvents.PlayerError:this.onPlayerErrors(b);break;case m.PlayerEvents.VideoShared:this.onVideoShared(b);break;case m.PlayerEvents.ClosedCaptionsChanged:this.onClosedCaptionsChanged(b);break;case m.PlayerEvents.ClosedCaptionSettingsChanged:this.onClosedCaptionSettingsChanged(b);break;case m.PlayerEvents.PlaybackRateChanged:this.onPlaybackRateChanged(b);break;case m.PlayerEvents.MediaDownloaded:this.onMediaDownloaded(b);break;case m.PlayerEvents.AudioTrackChanged:this.onAudioTrackChanged(b);
break;case m.PlayerEvents.AgeGateSubmitClick:this.onAgeGateSubmitClick(b);break;case m.PlayerEvents.Volume:this.onVolumeChanged(b)}};f.prototype.getPerfMarkers=function(){var e={},b=p.getPerfMarkerValue(m.videoPerfMarkers.scriptLoaded);b&&(e["p."+m.videoPerfMarkers.scriptLoaded]=b);for(b=0;b<k.length;b++){var c=k[b],a=g.PlayerUtility.getVideoPerfMarker(this.playerId,c);a&&(e["p."+c]=a)}return e};f.prototype.log=function(e,b){void 0===b&&(b="Reporter");this.isDebugMode&&g.PlayerUtility.logConsoleMessage(e,
b)};return f}();l.BaseReporter=z});K("telemetry/jsll-reporter",["require","exports","telemetry/base-reporter","mwf/utilities/utility","utilities/environment"],function(z,l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.JsllReporter=void 0;z=function(k){function f(e,b){e=k.call(this,e)||this;e.postJsllMsg=!1;e.playerIdfromUrl=null;g.getQSPValue("postJsllMsg",!1)&&p.Environment.isInIframe&&b&&(e.postJsllMsg=!0,e.playerIdfromUrl=g.getQSPValue("pid",!1));return e}U(f,k);f.prototype.doPing=
function(e,b,c,a){c=this.getDefaultParams(e,c);g.extend(c,a);this.log("jsll - t: "+c.t+" behavior : "+b+" data : "+JSON.stringify(c));var d={vidnm:"",vidid:"",vidpct:0,vidpctwtchd:0,vidwt:0,viddur:0,vidtimeseconds:0,sessiontimeseconds:0,live:!1,parentpage:"",containerName:"oneplayer",dlid:"",dltype:"",socchn:"",name:"",id:""};this.populateContentTags(d,e,a);e={behavior:b,actionType:"O",pageTags:{videoObj:c},contentTags:d};b=window;try{this.postJsllMsg?window.parent.postMessage(JSON.stringify({eventName:"postjsllmessage",
playerId:this.playerIdfromUrl,data:e}),"*"):b.awa&&b.awa.ct&&b.awa.ct.captureContentPageAction(e)}catch(h){this.log("jsll logger threw exception : "+h)}};f.prototype.populateContentTags=function(e,b,c){e.vidnm=b.videoMetadata&&b.videoMetadata.title;e.vidid=b.videoMetadata&&b.videoMetadata.videoId;e.live=b.live;var a=b.videoDuration,d=b.videoElapsedTime,h=b.currentVideoTotalTimePlaying/1E3;b=b.totalTimePlaying/1E3;var r=0,t=0;a&&g.isNumber(a)&&d&&g.isNumber(d)&&(r=Math.round(d/a*100),r=Math.min(r,
100));a&&g.isNumber(a)&&h&&g.isNumber(h)&&(t=Math.round(h/a*100),t=Math.min(t,100));e.viddur=Math.round(a);e.vidwt=Math.round(d);e.vidtimeseconds=Math.round(h);e.sessiontimeseconds=Math.round(b);e.vidpct=r;e.vidpctwtchd=t;e.parentpage=parent!==window?document.referrer:window.location.href;e.name=c&&c.interactiveOverlayAndTrigger&&c.interactiveOverlayAndTrigger.overlay.friendlyName;e.id=c&&c.interactiveOverlayAndTrigger&&c.interactiveOverlayAndTrigger.trigger.triggerId;e.dlid=c&&c.downloadMedia;e.dltype=
c&&c.downloadType;e.socchn=c&&c.socchn};f.prototype.getDefaultParams=function(e,b){var c={};b&&g.extend(c,b);e&&(g.extend(c,{d:e.videoDuration,piid:e.playerInstanceId,plt:e.playerType,ptech:e.playerTechnology,size:e.videoSize?e.videoSize.width+"x"+e.videoSize.height:null,vt:e.playerType,te:e.videoElapsedTime}),e.currentVideoFile&&g.extend(c,{vfc:e.currentVideoFile.formatCode,vfile:e.currentVideoFile.url,vmedia:e.currentVideoFile.mediaType,vQuality:e.currentVideoFile.quality}),e.playerOptions&&g.extend(c,
{isAutoplay:e.playerOptions.autoplay,playerOptions:e.playerOptions}),e.videoMetadata&&g.extend(c,{eid:e.videoMetadata.videoId,vtitle:e.videoMetadata.title,vmetadata:e.videoMetadata}));return c};f.prototype.onCommonPlayerImpression=function(e){this.log("jsll - OnCommonPlayerImpression()");this.doPing(e,window.awa?window.awa.behavior.VIDEOPLAYERLOAD:null,f.usageCounters.commonPlayerImpression,this.getPerfMarkers())};f.prototype.onBufferComplete=function(e){this.log("jsll - OnBufferComplete()");this.doPing(e,
window.awa?window.awa.behavior.VIDEOBUFFERING:null,f.usageCounters.contentBuffering,{bd:e.totalBufferWaitTime})};f.prototype.onContentStart=function(e){this.log("jsll - OnContentStart()");this.doPing(e,window.awa?window.awa.behavior.VIDEOSTART:null,f.usageCounters.contentStart,this.getPerfMarkers())};f.prototype.onContentCheckpoint=function(e){this.log("jsll - OnContentCheckpoint()");this.doPing(e,window.awa?window.awa.behavior.VIDEOCHECKPOINT:null,null,{cp:e.checkpoint,checkpointtype:e.checkpointType})};
f.prototype.onContentComplete=function(e){this.log("jsll - OnContentComplete()");this.doPing(e,window.awa?window.awa.behavior.VIDEOCOMPLETE:null,f.usageCounters.contentComplete)};f.prototype.onContentError=function(e){this.log("jsll - OnContentError()");this.doPing(e,window.awa?window.awa.behavior.VIDEOERROR:null,f.usageCounters.contentError,{fi:e.currentVideoFile&&e.currentVideoFile.url,et:e.errorType,etd:e.errorDesc})};f.prototype.onMute=function(e){this.log("jsll - OnMute()");this.doPing(e,window.awa?
window.awa.behavior.VIDEOMUTE:null,f.usageCounters.mute)};f.prototype.onUnmute=function(e){this.log("jsll - OnMute()");this.doPing(e,window.awa?window.awa.behavior.VIDEOUNMUTE:null,f.usageCounters.unmute)};f.prototype.onVolumeChanged=function(e){this.log("jsll - onVolumeChange()");this.doPing(e,window.awa?window.awa.behavior.VIDEOVOLUMECONTROL:null,null,{startvol:e.lastVolume,endvol:e.newVolume})};f.prototype.onPause=function(e){this.log("jsll - OnPause()");this.doPing(e,window.awa?window.awa.behavior.VIDEOPAUSE:
null,f.usageCounters.pause)};f.prototype.onSeek=function(e){e.seekFrom!==e.seekTo&&(this.log("jsll - OnSeek()"),this.doPing(e,window.awa?window.awa.behavior.VIDEOJUMP:null,f.usageCounters.seek,{te:e.seekFrom,st:e.seekTo,startloc:e.seekFrom,endloc:e.seekTo}))};f.prototype.onVideoQualityChanged=function(e){this.log("jsll - OnVideoQualityChanged()");this.doPing(e,window.awa?window.awa.behavior.VIDEORESOLUTIONCONTROL:null,f.usageCounters.videoQuality,{q:e.endRes,startres:e.startRes,endres:e.endRes})};
f.prototype.onFullScreenEnter=function(e){this.log("jsll - OnFullScreenEnter()");this.doPing(e,window.awa?window.awa.behavior.VIDEOFULLSCREEN:null,f.usageCounters.fullScreenEnter)};f.prototype.onFullScreenExit=function(e){this.log("jsll - OnFullScreenExit()");this.doPing(e,window.awa?window.awa.behavior.VIDEOUNFULLSCREEN:null,f.usageCounters.fullScreenExit)};f.prototype.onReplay=function(e){this.log("jsll - OnReplay()");this.doPing(e,window.awa?window.awa.behavior.VIDEOREPLAY:null,f.usageCounters.replay)};
f.prototype.onResume=function(e){this.log("jsll - OnResume()");this.doPing(e,window.awa?window.awa.behavior.VIDEOCONTINUE:null,null,f.usageCounters.resume)};f.prototype.on3ppVideoLoaded=function(e){this.log("jsll - On3ppVideoLoaded()");this.doPing(e,null,f.usageCounters.contentImpression3PP)};f.prototype.onInteractiveOverlayClick=function(e){this.log("jsll - onInteractiveTriggerClick");this.doPing(e,window.awa?window.awa.behavior.VIDEOLAYERCLICK:null,f.usageCounters.overlayClick,{interactiveOverlayAndTrigger:e.interactiveTriggerAndOverlay})};
f.prototype.onInteractiveBackButtonClick=function(e){this.log("jsll - onInteractiveTriggerClick");this.doPing(e,window.awa?window.awa.behavior.BACKBUTTON:null,f.usageCounters.streamLinkBackButtonClick)};f.prototype.onInteractiveOverlayShow=function(e){this.log("jsll - onInteractiveOverlayShow");this.doPing(e,window.awa?window.awa.behavior.SHOW:null,f.usageCounters.overlayShow,{interactiveOverlayAndTrigger:e.interactiveTriggerAndOverlay})};f.prototype.onInteractiveOverlayHide=function(e){this.log("jsll - onInteractiveOverlayHide");
this.doPing(e,window.awa?window.awa.behavior.HIDE:null,f.usageCounters.overlayHide,{interactiveOverlayAndTrigger:e.interactiveTriggerAndOverlay})};f.prototype.onInteractiveOverlayMaximize=function(e){this.log("jsll - onInteractiveOverlayMaximize");this.doPing(e,window.awa?window.awa.behavior.MAXIMIZE:null,f.usageCounters.maximizeOverlay,{interactiveOverlayAndTrigger:e.interactiveTriggerAndOverlay})};f.prototype.onInteractiveOverlayMinimize=function(e){this.log("jsll - onInteractiveOverlayMinimize");
this.doPing(e,window.awa?window.awa.behavior.MINIMIZE:null,f.usageCounters.minimizeOverlay,{interactiveOverlayAndTrigger:e.interactiveTriggerAndOverlay})};f.prototype.onAgeGateSubmitClick=function(e){this.log("jsll - onAgeGateSubmitClick");this.doPing(e,window.awa?window.awa.behavior.PROCESSCHECKPOINT:null,f.usageCounters.ageGateSubmitClick,{ageGatePassed:e.ageGatePassed,scn:"OnePlayerAgeGate",isSuccess:e.ageGatePassed})};f.prototype.onPlayerErrors=function(e){this.log("jsll - onPlayerErrors()");
this.doPing(e,window.awa?window.awa.behavior.VIDEOERROR:null,f.usageCounters.contentError,{et:e.errorType,etd:e.errorDesc})};f.prototype.onVideoShared=function(e){this.log("jsll - onVideoShared");this.doPing(e,window.awa?window.awa.behavior.SOCIALSHARE:null,null,{videoShare:e.videoShare,socchn:e.videoShare})};f.prototype.onClosedCaptionsChanged=function(e){this.log("jsll - onClosedCaptionsChanged");this.doPing(e,window.awa?window.awa.behavior.VIDEOCLOSEDCAPTIONCONTROL:null,null,{closedCaptions:e.endCaptionSelection,
startcaptionselection:e.startCaptionSelection,endcaptionselection:e.endCaptionSelection})};f.prototype.onClosedCaptionSettingsChanged=function(e){this.log("jsll - onClosedCaptionSettingsChanged");this.doPing(e,window.awa?window.awa.behavior.VIDEOCLOSEDCAPTIONSTYLE:null,null,{closedCaptionSettings:e.closedCaptionSettings,appsel:e.closedCaptionSettings})};f.prototype.onPlaybackRateChanged=function(e){this.log("jsll - onPlaybackRateChanged");this.doPing(e,null,null,{playbackRate:e.playbackRate})};f.prototype.onMediaDownloaded=
function(e){this.log("jsll - onMediaDownloaded");this.doPing(e,window.awa?window.awa.behavior.DOWNLOAD:null,null,{downloadMedia:e.downloadMedia,dlnm:"Download",dlid:e.downloadMedia,dltype:e.downloadType})};f.prototype.onAudioTrackChanged=function(e){this.log("jsll - onAudioTrackChanged");this.doPing(e,window.awa?window.awa.behavior.VIDEOAUDIOTRACKCONTROL:null,null,{audioTrack:e.audioTrack,starttrackselection:e.startTrackSelection,endtrackselection:e.endTrackSelection})};f.usageCounters={contentBuffering:{t:"2",
evt:"ContentPlay"},contentError:{t:"20",evt:"ContentPlay"},contentStart:{t:"21",evt:"ContentPlay"},contentContinue:{t:"22",evt:"ContentPlay"},contentComplete:{t:"23",evt:"ContentPlay"},contentImpression3PP:{t:"41",evt:"ContentPlay"},commonPlayerImpression:{t:"61",evt:"ContentPlay"},cc:{t:"30",evt:"Click_Non-nav"},pause:{t:"31",evt:"Click_Non-nav"},seek:{t:"32",evt:"Click_Non-nav"},mute:{t:"33",evt:"Click_Non-nav"},fullScreenEnter:{t:"34",evt:"Click_Non-nav"},info:{t:"35",evt:"Click_Non-nav"},videoQuality:{t:"36",
evt:"Click_Non-nav"},resume:{t:"37",evt:"Click_Non-nav"},fullScreenExit:{t:"38",evt:"Click_Non-nav"},replay:{t:"39",evt:"Click_Non-nav"},unmute:{t:"40",evt:"Click_Non-nav"},facebook:{t:"51",evt:"Click_Non-nav"},twitter:{t:"52",evt:"Click_Non-nav"},email:{t:"53",evt:"Click_Non-nav"},overlayClick:{t:"70",evt:"Click_Non-nav"},streamLinkBackButtonClick:{t:"71",evt:"Click_Non-nav"},overlayShow:{t:"72",evt:"Show_Overlay"},overlayHide:{t:"73",evt:"Hide_Overlay"},minimizeOverlay:{t:"74",evt:"Minimize_Overlay"},
maximizeOverlay:{t:"75",evt:"Maximize_Overlay"},ageGateSubmitClick:{t:"80",evt:"Click_Non-nav"}};return f}(m.BaseReporter);l.JsllReporter=z});K("helpers/sharing-helper",["require","exports","mwf/utilities/htmlExtensions","helpers/localization-helper","constants/player-constants"],function(z,l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.SharingHelper=void 0;var k={"zh-cn":[p.shareTypes.facebook,p.shareTypes.twitter,p.shareTypes.linkedin,p.shareTypes.skype]};z=function(){function f(){}
f.getCurrentPageUrl=function(){return window.location.href.replace("\x26jsapi\x3dtrue","")};f.tryCopyTextToClipboard=function(e){if(window.clipboardData)window.clipboardData.setData("text",e);else{var b=document.createElement("textarea");b.value=e;var c=m.selectFirstElement("body");e=c.scrollTop;c.appendChild(b);b.select();try{document.execCommand("copy")}catch(a){}b.remove();c.scrollTop=e}};f.getShareOptionsData=function(e,b,c){if(!(b&&b.share&&b.shareOptions&&e))return null;var a=[];c=encodeURIComponent(c||
f.getCurrentPageUrl());for(var d=0,h=b.shareOptions;d<h.length;d++){var r=h[d];r=r.toLowerCase();if(!(b.market&&k[b.market]&&0<=k[b.market].indexOf(r)))switch(r){case p.shareTypes.facebook:a.push({url:"//www.facebook.com/share.php?u\x3d"+c,id:r,label:e.getLocalizedValue(g.playerLocKeys.sharing_facebook),image:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT4uc3Qwe2Rpc3BsYXk6bm9uZTt9IC5zdDF7ZGlzcGxheTppbmxpbmU7fSAuc3Qye2ZpbGw6bm9uZTt9IC5zdDN7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxnIGlkPSJSZXN0XzNfIiBjbGFzcz0ic3QwIj48ZyBpZD0iVHdpdHRlcl8zXyIgY2xhc3M9InN0MSI+PHBhdGggY2xhc3M9InN0MiIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0yOC40IDguNmMtLjkuNC0xLjkuNy0yLjkuOCAxLS42IDEuOC0xLjYgMi4yLTIuOC0xIC42LTIuMSAxLTMuMiAxLjItLjktMS0yLjItMS42LTMuNy0xLjYtMi44IDAtNSAyLjMtNSA1IDAgLjQgMCAuOC4xIDEuMi00LjItLjItNy45LTIuMi0xMC40LTUuMy0uNC44LS43IDEuNy0uNyAyLjYgMCAxLjggMSAzLjMgMi4zIDQuMi0uOCAwLTIuMi0uMy0yLjItLjZ2LjFjMCAyLjQgMS42IDQuNSAzLjkgNS0uNC4xLS45LjItMS40LjItLjMgMC0uNyAwLTEtLjEuNiAyIDIuNSAzLjUgNC43IDMuNS0xLjUgMS4yLTMuNyAyLTYuMSAyLS40IDAtLjggMC0xLjItLjEgMi4yIDEuNCA0LjkgMi4zIDcuNyAyLjMgOS4zIDAgMTQuNC03LjcgMTQuNC0xNC40di0uN2MxLS42IDEuOC0xLjUgMi41LTIuNXoiLz48L2c+PC9nPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiIGlkPSJGYWNlYm9va183XyIvPjxwYXRoIGlkPSJXaGl0ZV8yXyIgY2xhc3M9InN0MyIgZD0iTTMwLjIgMEgxLjhDLjggMCAwIC44IDAgMS44djI4LjVjMCAxIC44IDEuOCAxLjggMS44aDE1LjNWMTkuNmgtNC4ydi00LjhoNC4ydi0zLjZjMC00LjEgMi41LTYuNCA2LjItNi40IDEuOCAwIDMuMy4yIDMuNy4ydjQuM2gtMi42Yy0yIDAtMi40IDEtMi40IDIuNHYzLjFoNC44bC0uNiA0LjhIMjJWMzJoOC4yYzEgMCAxLjgtLjggMS44LTEuOFYxLjhjMC0xLS44LTEuOC0xLjgtMS44eiIvPjwvc3ZnPg\x3d\x3d"});
break;case p.shareTypes.twitter:a.push({url:"//twitter.com/share?url\x3d"+c+"\x26text\x3d",id:r,label:e.getLocalizedValue(g.playerLocKeys.sharing_twitter),image:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT4uc3Qwe2ZpbGw6I0ZGRkZGRjt9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzIgNi4xYy0xLjIuNS0yLjUuOS0zLjggMSAxLjMtLjggMi4zLTIuMSAyLjktMy42LTEuMy44LTIuNyAxLjMtNC4yIDEuNkMyNS44IDMuOCAyNC4xIDMgMjIuMSAzYy0zLjYgMC02LjUgMy02LjUgNi41IDAgLjUgMCAxIC4xIDEuNi01LjQtLjMtMTAuMi0yLjktMTMuNS02LjktLjUgMS0uOSAyLjItLjkgMy40IDAgMi4zIDEuMyA0LjMgMyA1LjUtMSAwLTIuOS0uNC0yLjktLjh2LjFjMCAzLjEgMi4xIDUuOSA1LjEgNi41LS41LjEtMS4yLjItMS44LjItLjQgMC0uOSAwLTEuMy0uMS44IDIuNiAzLjMgNC42IDYuMSA0LjYtMiAxLjYtNC44IDIuNi03LjkgMi42LS41IDAtMSAwLTEuNi0uMSAyLjkgMS44IDYuNCAzIDEwIDMgMTIuMSAwIDE4LjctMTAgMTguNy0xOC43di0uOWMxLjMtLjkgMi40LTIuMSAzLjMtMy40eiIvPjwvc3ZnPg\x3d\x3d"});
break;case p.shareTypes.skype:a.push({url:"//web.skype.com/share?url\x3d"+c+"\x26amp;lang\x3d"+b.market,id:r,label:e.getLocalizedValue(g.playerLocKeys.sharing_skype),image:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT4uc3Qwe2Rpc3BsYXk6bm9uZTt9IC5zdDF7ZGlzcGxheTppbmxpbmU7fSAuc3Qye2ZpbGw6bm9uZTt9IC5zdDN7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxnIGlkPSJMYXllcl8xXzFfIiBjbGFzcz0ic3QwIj48ZyBpZD0iUmVzdF8zXyIgY2xhc3M9InN0MSI+PGcgaWQ9IlR3aXR0ZXJfM18iPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjguNCA4LjZjLS45LjQtMS45LjctMi45LjggMS0uNiAxLjgtMS42IDIuMi0yLjgtMSAuNi0yLjEgMS0zLjIgMS4yLS45LTEtMi4yLTEuNi0zLjctMS42LTIuOCAwLTUgMi4zLTUgNSAwIC40IDAgLjguMSAxLjItNC4yLS4yLTcuOS0yLjItMTAuNC01LjMtLjQuOC0uNyAxLjctLjcgMi42IDAgMS44IDEgMy4zIDIuMyA0LjItLjggMC0yLjItLjMtMi4yLS42di4xYzAgMi40IDEuNiA0LjUgMy45IDUtLjQuMS0uOS4yLTEuNC4yLS4zIDAtLjcgMC0xLS4xLjYgMiAyLjUgMy41IDQuNyAzLjUtMS41IDEuMi0zLjcgMi02LjEgMi0uNCAwLS44IDAtMS4yLS4xIDIuMiAxLjQgNC45IDIuMyA3LjcgMi4zIDkuMyAwIDE0LjQtNy43IDE0LjQtMTQuNHYtLjdjMS0uNiAxLjgtMS41IDIuNS0yLjV6Ii8+PC9nPjwvZz48ZyBpZD0iRmFjZWJvb2tfN18iIGNsYXNzPSJzdDEiPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48cGF0aCBpZD0iZl82XyIgY2xhc3M9InN0MyIgZD0iTTE4IDI2di05aDIuNmwuNS00SDE4di0xLjljMC0xLS4yLTIuMSAxLjMtMi4xSDIxVjYuMVMxOS43IDYgMTguNCA2QzE1LjcgNiAxNCA3LjcgMTQgMTAuN1YxM2gtM3Y0aDN2OWg0eiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MyIgZD0iTTMwLjkgMTguNmMuMS0uOC4xLTEuOC4xLTIuNiAwLTguMy02LjctMTUtMTUtMTUtMSAwLTEuOCAwLTIuNi4yQzEyLjIuMyAxMC42IDAgOSAwIDQgMCAwIDQgMCA5YzAgMS42LjUgMy4yIDEuMSA0LjUtLjEuNy0uMSAxLjctLjEgMi41IDAgOC4zIDYuNyAxNSAxNSAxNSAxIDAgMS44IDAgMi42LS4yIDEuMy44IDIuOSAxLjEgNC41IDEuMSA1IDAgOS00IDktOS0uMS0xLjYtLjQtMy4xLTEuMi00LjN6bS0xNC43IDYuNWMtNS4xIDAtNy41LTIuNi03LjUtNC41IDAtMSAuOC0xLjYgMS44LTEuNiAyLjIgMCAxLjYgMy4yIDUuOCAzLjIgMi4xIDAgMy40LTEuMyAzLjQtMi40IDAtLjYtLjUtMS40LTEuOC0xLjhsLTQuOC0xYy0zLjctMS00LjMtMy00LjMtNC44IDAtMy44IDMuNS01LjMgNy01LjMgMy4yIDAgNi45IDEuOCA2LjkgNC4yIDAgMS0uOCAxLjYtMS44IDEuNi0xLjkgMC0xLjYtMi42LTUuMy0yLjYtMS45IDAtMi45LjgtMi45IDIuMXMxLjQgMS42IDIuNyAxLjlsMy40LjhjMy43LjggNC42IDMgNC42IDUuMS4xIDIuNy0yLjQgNS4xLTcuMiA1LjF6Ii8+PC9zdmc+"});
break;case p.shareTypes.linkedin:a.push({url:"//www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+c+"\x26title\x3d\x26summary\x3d\x26source\x3d",id:r,label:e.getLocalizedValue(g.playerLocKeys.sharing_linkedin),image:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxzdHlsZT4uc3Qwe2Rpc3BsYXk6bm9uZTt9IC5zdDF7ZGlzcGxheTppbmxpbmU7fSAuc3Qye2ZpbGw6bm9uZTt9IC5zdDN7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxnIGlkPSJMYXllcl8xXzFfIiBjbGFzcz0ic3QwIj48ZyBpZD0iUmVzdF8zXyIgY2xhc3M9InN0MSI+PGcgaWQ9IlR3aXR0ZXJfM18iPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjguNCA4LjZjLS45LjQtMS45LjctMi45LjggMS0uNiAxLjgtMS42IDIuMi0yLjgtMSAuNi0yLjEgMS0zLjIgMS4yLS45LTEtMi4yLTEuNi0zLjctMS42LTIuOCAwLTUgMi4zLTUgNSAwIC40IDAgLjguMSAxLjItNC4yLS4yLTcuOS0yLjItMTAuNC01LjMtLjQuOC0uNyAxLjctLjcgMi42IDAgMS44IDEgMy4zIDIuMyA0LjItLjggMC0yLjItLjMtMi4yLS42di4xYzAgMi40IDEuNiA0LjUgMy45IDUtLjQuMS0uOS4yLTEuNC4yLS4zIDAtLjcgMC0xLS4xLjYgMiAyLjUgMy41IDQuNyAzLjUtMS41IDEuMi0zLjcgMi02LjEgMi0uNCAwLS44IDAtMS4yLS4xIDIuMiAxLjQgNC45IDIuMyA3LjcgMi4zIDkuMyAwIDE0LjQtNy43IDE0LjQtMTQuNHYtLjdjMS0uNiAxLjgtMS41IDIuNS0yLjV6Ii8+PC9nPjwvZz48ZyBpZD0iRmFjZWJvb2tfN18iIGNsYXNzPSJzdDEiPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz48cGF0aCBpZD0iZl82XyIgY2xhc3M9InN0MyIgZD0iTTE4IDI2di05aDIuNmwuNS00SDE4di0xLjljMC0xLS4yLTIuMSAxLjMtMi4xSDIxVjYuMVMxOS43IDYgMTguNCA2QzE1LjcgNiAxNCA3LjcgMTQgMTAuN1YxM2gtM3Y0aDN2OWg0eiIvPjwvZz48L2c+PGcgaWQ9IkxheWVyXzMiIGNsYXNzPSJzdDAiPjxnIGlkPSJTa3lwZV83XyIgY2xhc3M9InN0MSI+PHBhdGggY2xhc3M9InN0MiIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0yNS4yIDE3LjZjLjEtLjUuMS0xLjEuMS0xLjYgMC01LjItNC4yLTkuNC05LjQtOS40LS42IDAtMS4xIDAtMS42LjEtLjgtLjUtMS44LS43LTIuOC0uNy0zLjEgMC01LjYgMi41LTUuNiA1LjYgMCAxIC4zIDIgLjcgMi44LS4xLjUtLjEgMS4xLS4xIDEuNiAwIDUuMiA0LjIgOS40IDkuNCA5LjQuNiAwIDEuMSAwIDEuNi0uMS44LjUgMS44LjcgMi44LjcgMy4xIDAgNS42LTIuNSA1LjYtNS42IDAtMS4xLS4yLTItLjctMi44ek0xNiAyMS43Yy0zLjIgMC00LjctMS42LTQuNy0yLjggMC0uNi41LTEgMS4xLTEgMS40IDAgMSAyIDMuNiAyIDEuMyAwIDIuMS0uOCAyLjEtMS41IDAtLjQtLjMtLjktMS4xLTEuMWwtMi45LS43Yy0yLjMtLjYtMi43LTEuOS0yLjctMyAwLTIuNCAyLjItMy4zIDQuNC0zLjMgMiAwIDQuMyAxLjEgNC4zIDIuNiAwIC42LS41IDEtMS4xIDEtMS4yIDAtMS0xLjYtMy4zLTEuNi0xLjIgMC0xLjguNS0xLjggMS4zcy45IDEgMS43IDEuMmwyLjEuNWMyLjMuNSAyLjkgMS45IDIuOSAzLjIgMCAxLjctMS42IDMuMi00LjYgMy4yeiIvPjwvZz48L2c+PHBhdGggY2xhc3M9InN0MyIgZD0iTTI5LjYgMEgyLjRDMS4xIDAgMCAxIDAgMi4zdjI3LjRDMCAzMSAxLjEgMzIgMi40IDMyaDI3LjNjMS4zIDAgMi40LTEgMi40LTIuM1YyLjNDMzIgMSAzMC45IDAgMjkuNiAwek05LjUgMjcuM0g0LjdWMTJoNC43djE1LjN6TTcuMSA5LjljLTEuNSAwLTIuOC0xLjItMi44LTIuOCAwLTEuNSAxLjItMi44IDIuOC0yLjggMS41IDAgMi44IDEuMiAyLjggMi44IDAgMS42LTEuMyAyLjgtMi44IDIuOHptMjAuMiAxNy40aC00Ljd2LTcuNGMwLTEuOCAwLTQtMi41LTRzLTIuOCAxLjktMi44IDMuOXY3LjZoLTQuN1YxMkgxN3YyLjFoLjFjLjYtMS4yIDIuMi0yLjUgNC41LTIuNSA0LjggMCA1LjcgMy4yIDUuNyA3LjN2OC40eiIvPjwvc3ZnPg\x3d\x3d"});
break;case p.shareTypes.mail:a.push({url:"mailto:?subject\x3dCheck out this great video\x26body\x3d"+c,id:r,label:e.getLocalizedValue(g.playerLocKeys.sharing_mail),glyph:"glyph-mail"});break;case p.shareTypes.copy:a.push({url:c,id:r,label:e.getLocalizedValue(g.playerLocKeys.sharing_copy),glyph:"glyph-copy"})}}return a};return f}();l.SharingHelper=z});K("mwf/utilities/viewportCollision",["require","exports","mwf/utilities/htmlExtensions"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});
l.getCollisionExtents=l.collidesWith=void 0;l.collidesWith=function(g,p){g=m.getClientRect(g);g.left=Math.round(g.left);g.top=Math.round(g.top);g.right=Math.round(g.right);g.bottom=Math.round(g.bottom);if(0!==g.width){var k=!1,f={top:!1,bottom:!1,left:!1,right:!1};if(!p){p=Math.min(window.innerWidth,document.documentElement.clientWidth);var e=Math.min(window.innerHeight,document.documentElement.clientHeight);p={left:0,top:0,right:p,bottom:e,width:p,height:e}}g.left<p.left&&(k=!0,f.left=!0);g.top<
p.top&&(k=!0,f.top=!0);g.right>p.right&&(k=!0,f.right=!0);g.bottom>p.bottom&&(k=!0,f.bottom=!0);if(k)return f}return!1};l.getCollisionExtents=function(g,p){g=m.getClientRect(g);if(0===g.width)return null;if(!p){p=Math.min(window.innerWidth,document.documentElement.clientWidth);var k=Math.min(window.innerHeight,document.documentElement.clientHeight);p={top:0,right:p,bottom:k,left:0,height:k,width:p}}k=Math.round(g.top-p.top);var f=Math.round(p.right-g.right),e=Math.round(p.bottom-g.bottom),b=Math.round(g.left-
p.left);return 0<=k&&0<=f&&0<=e&&0<=b?null:{top:k,right:f,bottom:e,left:b,clientRect:g,viewport:p}}});K("mwf/selectMenu/selectMenu","require exports mwf/utilities/publisher mwf/utilities/htmlExtensions mwf/utilities/stringExtensions mwf/utilities/viewportCollision mwf/utilities/utility".split(" "),function(z,l,m,g,p,k,f){Object.defineProperty(l,"__esModule",{value:!0});l.SelectMenu=void 0;z=function(e){function b(c){var a=e.call(this,c)||this;a.onTriggerClick=function(d){d=g.getEvent(d);g.preventDefault(d);
a.onTriggerToggled(d)};a.onItemClick=function(d){d=g.getEvent(d);a.onItemSelected(g.getEventTargetOrSrcElement(d),!1,!0)};a.onNonSelectMenuClick=function(d){d=g.getEvent(d);a.element&&a.menu&&(d=g.getEventTargetOrSrcElement(d),a.element.contains(d)||d!==a.menu&&d.parentElement!==a.menu&&a.collapse())};a.onNonSelectMenuTab=function(d){d=g.getEvent(d);9===f.getKeyCode(d)&&a.collapse()};a.onTriggerKeyPress=function(d){d=g.getEvent(d);switch(f.getKeyCode(d)){case 13:case 32:g.preventDefault(d),a.onTriggerToggled()}};
a.handleMenuKeydownEvent=function(d){d=g.getEvent(d);var h=f.getKeyCode(d);9!==h&&a.isExpanded()&&g.preventDefault(d);a.handleMenuKeydown(g.getEventTargetOrSrcElement(d),h)};a.handleMenuItemBlur=function(d){d=g.getEventTargetOrSrcElement(d);g.removeEvent(d,g.eventTypes.blur,a.handleMenuItemBlur);g.removeClass(d,b.hiddenFocus)};a.update();return a}U(b,e);b.prototype.update=function(){if(this.element){this.persist=g.hasClass(this.element,"f-persist");this.trigger=g.selectFirstElementT('[role\x3d"button"]',
this.element);this.trigger||(this.trigger=g.selectFirstElementT("button",this.element));this.menu=g.selectFirstElement(".c-menu",this.element);var c=g.selectElementsT(".c-menu-item a",this.element);this.items=0<c.length?c:g.selectElementsT(".c-menu-item span",this.element);this.isLtr=g.getDirection(this.menu)===g.Direction.left;if(g.selectFirstElement("img",this.menu)){this.ignoreNextDOMChange=!0;c=document.createElement("img");var a=document.createElement("span");g.setText(a,g.getText(this.trigger));
g.setText(this.trigger,"");this.trigger.appendChild(c);this.trigger.appendChild(a)}if(this.trigger&&this.menu&&this.items&&this.items.length){c=null;a=0;for(var d=this.items;a<d.length;a++){var h=d[a];this.itemIsSelected(h)&&null===c?(c=h,h.setAttribute(this.getSelectedAttribute(h),"true")):h.setAttribute(this.getSelectedAttribute(h),"false");h.setAttribute("tabindex","-1");this.cleanSelectedAttributes(h);h.hasAttribute("role")||h.setAttribute("role","menuitem")}a=this.isExpanded();this.onItemSelected(c,
!0,!1);this.selectedItem||this.updateAriaLabel();this.addEventListeners();a&&this.expand()}}};b.prototype.teardown=function(){g.removeEvent(this.trigger,g.eventTypes.click,this.onTriggerClick);g.removeEvent(this.trigger,g.eventTypes.keydown,this.onTriggerKeyPress);g.removeEvent(this.menu,g.eventTypes.keydown,this.handleMenuKeydownEvent,!0);for(var c=0,a=this.items;c<a.length;c++)g.removeEvent(a[c],g.eventTypes.click,this.onItemClick);g.removeEvent(document,g.eventTypes.click,this.onNonSelectMenuClick);
g.removeEvent(this.items[this.items.length-1],g.eventTypes.keydown,this.onNonSelectMenuTab);g.removeEvent(this.items,g.eventTypes.blur,this.handleMenuItemBlur);this.persist=!1;this.selectedItem=this.items=this.menu=this.trigger=null};b.prototype.setSelectedItem=function(c){return c&&this.element?(c=g.selectFirstElement('[id\x3d"'+c+'"] \x3e a',this.element)||g.selectFirstElement('[id\x3d"'+c+'"] \x3e span',this.element))?this.onItemSelected(c,!1,!1):!1:!1};b.prototype.updateAriaLabel=function(){var c=
this.trigger.getAttribute(b.dataAriaLabelFormat);if(null!=c){var a=this.selectedItem?this.selectedItem.getAttribute(b.ariaLabel)||g.getText(this.selectedItem):g.getText(this.trigger);c=p.format(c,a);this.trigger.setAttribute(b.ariaLabel,c)}};b.prototype.isExpanded=function(){return!!this.trigger&&!!this.menu&&"true"===this.trigger.getAttribute(b.ariaExpanded)&&"false"===this.menu.getAttribute(b.ariaHidden)};b.prototype.itemIsSelected=function(c){return"true"===c.getAttribute(b.ariaSelected)||"true"===
c.getAttribute(b.ariaChecked)};b.prototype.getSelectedAttribute=function(c){return"menuitemradio"===c.getAttribute("role")?b.ariaChecked:b.ariaSelected};b.prototype.cleanSelectedAttributes=function(c){var a=this.getSelectedAttribute(c)===b.ariaSelected?b.ariaChecked:b.ariaSelected;c.removeAttribute(a)};b.prototype.positionMenu=function(){var c=g.css(this.element,"float"),a="right"===c;a=a||"left"!==c?a||!this.isLtr?!1:!0:!0;g.css(this.menu,"top","auto");g.css(this.menu,"bottom","auto");g.css(this.menu,
a?"left":"right","0");g.css(this.menu,"height","auto");if(c=k.getCollisionExtents(this.menu)){if(0>c.right||0>c.left)c.clientRect.width<=c.viewport.width?a?g.css(this.menu,"left",c.right+"px"):g.css(this.menu,"right",c.left+"px"):(g.css(this.menu,"left",-c.left+"px"),g.css(this.menu,"width",c.viewport.width+"px"));0>c.bottom&&(a=parseFloat(g.css(this.trigger,"height")),c.clientRect.height<=c.top?g.css(this.menu,"bottom",a+"px"):c.clientRect.height<=c.viewport.height?g.css(this.menu,"top",c.bottom+
a+"px"):(g.css(this.menu,"top",-c.top+a+"px"),g.css(this.menu,"height",c.viewport.height+"px")))}};b.prototype.expand=function(c){if(this.trigger&&this.menu&&(this.trigger.setAttribute(b.ariaExpanded,"true"),this.menu.setAttribute(b.ariaHidden,"false"),this.positionMenu(),this.items)){var a=this.items.indexOf(this.selectedItem);a=this.items[-1===a?0:a];a.focus();c&&"click"===c.type&&(g.addClass(a,b.hiddenFocus),g.addEvent(a,g.eventTypes.blur,this.handleMenuItemBlur))}};b.prototype.collapse=function(){this.trigger&&
this.menu&&(this.trigger.setAttribute(b.ariaExpanded,"false"),this.menu.setAttribute(b.ariaHidden,"true"))};b.prototype.addEventListeners=function(){if(this.trigger&&this.items){g.addEvent(this.trigger,g.eventTypes.click,this.onTriggerClick);g.addEvent(this.trigger,g.eventTypes.keydown,this.onTriggerKeyPress);g.addEvent(this.menu,g.eventTypes.keydown,this.handleMenuKeydownEvent,!0);for(var c=0,a=this.items;c<a.length;c++)g.addEvent(a[c],g.eventTypes.click,this.onItemClick);g.addEvent(this.items[this.items.length-
1],g.eventTypes.keydown,this.onNonSelectMenuTab);g.addEvent(document,g.eventTypes.click,this.onNonSelectMenuClick)}};b.prototype.onTriggerToggled=function(c){"true"!==this.element.getAttribute("aria-disabled")&&(this.isExpanded()?this.collapse():this.expand(c))};b.prototype.onItemSelected=function(c,a,d){if(!c||c===this.selectedItem)return this.collapse(),!1;if("P"===c.nodeName||"IMG"===c.nodeName)c=c.parentElement;if(this.persist&&this.trigger){var h=g.selectFirstElementT("img",this.trigger);this.ignoreNextDOMChange=
!0;if(h){var r=g.selectFirstElementT("img",c),t=r?r.getAttribute("src"):"";h.setAttribute("src",t);h=g.selectFirstElementT("span",this.trigger);g.setText(h,g.getText(c));g.hasClass(this.trigger,"f-icon")&&!r?g.removeClass(this.trigger,"f-icon"):!g.hasClass(this.trigger,"f-icon")&&r&&g.addClass(this.trigger,"f-icon")}else g.setText(this.trigger,g.getText(c))}this.selectedItem&&this.selectedItem.setAttribute(this.getSelectedAttribute(this.selectedItem),"false");this.selectedItem=c;this.selectedItem.setAttribute(this.getSelectedAttribute(this.selectedItem),
"true");this.updateAriaLabel();this.collapse();for(c=this.selectedItem;c.parentElement!==this.menu;)c=c.parentElement;this.initiatePublish({id:c.id,href:this.selectedItem.getAttribute("href"),internal:a,userInitiated:d});return!0};b.prototype.publish=function(c,a){if(this.selectedItem)c.onSelectionChanged(a)};b.prototype.handleMenuKeydown=function(c,a){switch(a){case 32:case 13:this.handleMenuEnterKey(c);this.trigger.focus();break;case 27:this.trigger.focus();this.collapse();break;case 38:this.handleMenuArrowKey(!0,
c);break;case 40:this.handleMenuArrowKey(!1,c);break;case 9:this.isExpanded()&&this.handleMenuEnterKey(c)}};b.prototype.handleMenuArrowKey=function(c,a){a=this.items.indexOf(a);-1!==a&&(a+=c?-1:1,0>a?a=this.items.length-1:a>=this.items.length&&(a=0),this.items[a].focus())};b.prototype.handleMenuEnterKey=function(c){this.onItemSelected(c,!1,!0)};b.selector=".c-select-menu";b.typeName="SelectMenu";b.dataAriaLabelFormat="data-aria-label-format";b.ariaExpanded="aria-expanded";b.ariaHidden="aria-hidden";
b.ariaSelected="aria-selected";b.ariaLabel="aria-label";b.ariaChecked="aria-checked";b.hiddenFocus="x-hidden-focus";return b}(m.Publisher);l.SelectMenu=z});K("helpers/age-gate-helper","require exports mwf/utilities/utility mwf/utilities/htmlExtensions mwf/selectMenu/selectMenu mwf/utilities/componentFactory utilities/environment helpers/localization-helper".split(" "),function(z,l,m,g,p,k,f,e){Object.defineProperty(l,"__esModule",{value:!0});l.AgeGateHelper=void 0;z=function(){function b(c,a,d,h){var r=
this;this.playerContainer=c;this.corePlayer=a;this.localizationHelper=d;this.onCompleteCallback=h;this.ageGateData={};this.contentMinimumAge=0;this.ageGateIsDisplayed=this.didUserClickSubmit=this.isUserOldEnough=!1;this.onAgeGateButtonClick=function(t){g.preventDefault(t);if(g.getEventTargetOrSrcElement(t)){t=g.selectFirstElement(".month-button",r.ageGateDialogue.monthSelectMenu);var v=g.selectFirstElement(".day-button",r.ageGateDialogue.daySelectMenu),y=g.selectFirstElement(".year-button",r.ageGateDialogue.yearSelectMenu);
if(t&&v&&y){t=Number(g.getText(t));v=Number(g.getText(v));var B=Number(g.getText(y));if(t&&v&&B){r.didUserClickSubmit=!0;y=new Date;B=y.getFullYear()-B;var F=y.getMonth()+1<t;t=y.getMonth()+1===t&&y.getDate()<v;(F||t)&&B--;r.addAgeGateVerifiedToUserSession(B+"");r.playerData.options.lazyLoad=!1;r.isUserOldEnoughToViewContent(r.contentMinimumAge)&&(r.isUserOldEnough=!0);r.onCompleteCallback&&r.onCompleteCallback();r.ageGateDialogue.container.setAttribute("aria-hidden","true");r.ageGateIsDisplayed=
!1;f.Environment.isIProduct&&(g.selectFirstElement("video",r.playerContainer).style.visibility="",r.playerContainer.style.backgroundColor="")}}}}}b.prototype.verifyAgeGate=function(){this.playerData=this.corePlayer.getPlayerData();this.contentMinimumAge=this.playerData.metadata.minimumAge?this.playerData.metadata.minimumAge:0;if(0>=this.contentMinimumAge||!this.playerData.options.ageGate)return this.isUserOldEnough=!0,this.onCompleteCallback&&this.onCompleteCallback(),!1;this.addUserAgeFromExternalLogin();
if(this.isUserAgeAlreadyVerified())this.isUserOldEnoughToViewContent(this.contentMinimumAge)&&(this.isUserOldEnough=!0),this.onCompleteCallback&&this.onCompleteCallback();else return this.displayAgeGateDialogue(),!0;return!1};b.prototype.didUserSubmitAge=function(){return this.didUserClickSubmit};b.prototype.resetAgeGateSubmit=function(){this.didUserClickSubmit=!1};b.prototype.doesUserPassAgeGate=function(){return this.isUserOldEnough};b.prototype.addUserAgeFromExternalLogin=function(){var c=m.getCookie(b.xboxDotComAgeGateCookieName);
Number(c)?m.saveToSessionStorage(b.ageGateSessionStorageKey,c):(c=this.playerData.options.userMinimumAge,0<c&&m.saveToSessionStorage(b.ageGateSessionStorageKey,c+""))};b.prototype.addAgeGateVerifiedToUserSession=function(c){m.saveToSessionStorage(b.ageGateSessionStorageKey,c)};b.prototype.isUserAgeAlreadyVerified=function(){return!!m.getValueFromSessionStorage(b.ageGateSessionStorageKey)};b.prototype.isUserOldEnoughToViewContent=function(c){return Number(m.getValueFromSessionStorage(b.ageGateSessionStorageKey))>=
c?!0:!1};b.prototype.displayAgeGateDialogue=function(){this.ageGateIsDisplayed=!0;this.getLocalizedAgeGateStrings();this.ageGateDialogue||(this.setDefaultSelectMenuContainer(),this.createAgeGateContainer());this.populateDateDropDowns();f.Environment.isIProduct&&(g.selectFirstElement("video",this.playerContainer).style.visibility="hidden",this.playerContainer.style.backgroundColor="black")};b.prototype.setDefaultSelectMenuContainer=function(){this.defaultDateSelectMenuContainer='\x3cdiv class\x3d"select-menu-month c-select-menu f-border f-persist"\x3e\n        \x3ca href\x3d"#" role\x3d"button" aria-expanded\x3d"false" class\x3d"month-button" aria-label\x3d"'+
this.ageGateData.monthLabel+'"\x3e\n        '+this.ageGateData.monthLabel+'\n        \x3c/a\x3e\n        \x3cul role\x3d"menu" class\x3d"c-menu f-scroll" aria-hidden\x3d"true"\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"select-menu-day c-select-menu f-border f-persist"\x3e\n        \x3ca href\x3d"#" role\x3d"button" aria-expanded\x3d"false" class\x3d"day-button" aria-label\x3d"'+this.ageGateData.dayLabel+'"\x3e\n        '+this.ageGateData.dayLabel+'\n        \x3c/a\x3e\n        \x3cul role\x3d"menu" class\x3d"c-menu f-scroll" aria-hidden\x3d"true"\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"select-menu-year c-select-menu f-border f-persist"\x3e\n        \x3ca href\x3d"#" role\x3d"button" aria-expanded\x3d"false" class\x3d"year-button" aria-label\x3d"'+
this.ageGateData.yearLabel+'"\x3e\n        '+this.ageGateData.yearLabel+'\n        \x3c/a\x3e\n        \x3cul role\x3d"menu" class\x3d"c-menu f-scroll" aria-hidden\x3d"true"\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e'};b.prototype.getLocalizedAgeGateStrings=function(){this.ageGateData.buttonText=this.localizationHelper.getLocalizedValue(e.playerLocKeys.agegate_submit);this.ageGateData.heading=this.localizationHelper.getLocalizedValue(e.playerLocKeys.agegate_enterdate);this.ageGateData.dropDownAriaLabel=
this.localizationHelper.getLocalizedValue(e.playerLocKeys.agegate_enterdate_arialabel);this.ageGateData.monthLabel=this.localizationHelper.getLocalizedValue(e.playerLocKeys.agegate_month);this.ageGateData.dayLabel=this.localizationHelper.getLocalizedValue(e.playerLocKeys.agegate_day);this.ageGateData.yearLabel=this.localizationHelper.getLocalizedValue(e.playerLocKeys.agegate_year);this.ageGateData.monthDayYearOrder=this.localizationHelper.getLocalizedValue(e.playerLocKeys.agegate_dateorder);this.ageGateData.monthAriaLabel=
this.ageGateData.dropDownAriaLabel.replace("{0}",this.ageGateData.monthLabel);this.ageGateData.dayAriaLabel=this.ageGateData.dropDownAriaLabel.replace("{0}",this.ageGateData.dayLabel);this.ageGateData.yearAriaLabel=this.ageGateData.dropDownAriaLabel.replace("{0}",this.ageGateData.yearLabel)};b.prototype.setSelectMenuMonthDayYearOrder=function(){try{for(var c="",a=this.ageGateData.monthDayYearOrder.toLowerCase().split(/\/|\.|\. |\-/,3),d=!0,h=0;h<a.length;h++)-1<a[h].indexOf("m")?c+='\x3cdiv class\x3d"select-menu-month c-select-menu f-border f-persist"\x3e\n                    \x3ca href\x3d"#" role\x3d"button" aria-expanded\x3d"false" class\x3d"month-button" aria-label\x3d"'+
this.ageGateData.monthAriaLabel+'"\x3e\n                    '+this.ageGateData.monthLabel+'\n                    \x3c/a\x3e\n                    \x3cul role\x3d"menu" class\x3d"c-menu f-scroll" aria-hidden\x3d"true"\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e':-1<a[h].indexOf("d")?c+='\x3cdiv class\x3d"select-menu-day c-select-menu f-border f-persist"\x3e\n                    \x3ca href\x3d"#" role\x3d"button" aria-expanded\x3d"false" class\x3d"day-button" aria-label\x3d"'+
this.ageGateData.dayAriaLabel+'"\x3e\n                    '+this.ageGateData.dayLabel+'\n                    \x3c/a\x3e\n                    \x3cul role\x3d"menu" class\x3d"c-menu f-scroll" aria-hidden\x3d"true"\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e':-1<a[h].indexOf("y")?c+='\x3cdiv class\x3d"select-menu-year c-select-menu f-border f-persist"\x3e\n                    \x3ca href\x3d"#" role\x3d"button" aria-expanded\x3d"false" class\x3d"year-button" aria-label\x3d"'+this.ageGateData.yearAriaLabel+
'"\x3e\n                    '+this.ageGateData.yearLabel+'\n                    \x3c/a\x3e\n                    \x3cul role\x3d"menu" class\x3d"c-menu f-scroll" aria-hidden\x3d"true"\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e':d=!1;return d?c:this.defaultDateSelectMenuContainer}catch(r){return this.defaultDateSelectMenuContainer}};b.prototype.createAgeGateContainer=function(){var c=this,a=this.setSelectMenuMonthDayYearOrder(),d='\n\x3cdiv class\x3d"theme-dark c-update-dark-theme"\x3e\n    \x3cdiv class\x3d""\x3e\n        \x3ch3 aria-hidden\x3d"true" class\x3d"c-heading-3 c-font-weight-override"\x3e'+
this.ageGateData.heading+"\x3c/h3\x3e\n        \x3cfieldset\x3e"+a+('\x3cbutton name\x3d"button" class\x3d"c-button" type\x3d"submit" disabled\x3e'+this.ageGateData.buttonText+"\x3c/button\x3e\n        \x3c/fieldset\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n");a=document.createElement("div");a.innerHTML=d;g.addClass(a,"f-age-gate-dialogue");d=g.selectFirstElement(".f-video-cc-overlay",this.playerContainer);this.playerContainer.insertBefore(a,d);this.ageGateDialogue={};this.ageGateDialogue.container=document.createElement("div");
this.ageGateDialogue.container=g.selectFirstElement(".f-age-gate-dialogue",this.playerContainer);this.ageGateDialogue.button=g.selectFirstElement(".c-button",this.ageGateDialogue.container);g.addEvent(this.ageGateDialogue.button,g.eventTypes.click,this.onAgeGateButtonClick);this.ageGateDialogue.button.setAttribute(b.ariaLabel,this.localizationHelper.getLocalizedValue(e.playerLocKeys.agegate_submit));this.ageGateDialogue.monthSelectMenu=g.selectFirstElement(".select-menu-month",this.ageGateDialogue.container);
this.ageGateDialogue.daySelectMenu=g.selectFirstElement(".select-menu-day",this.ageGateDialogue.container);this.ageGateDialogue.yearSelectMenu=g.selectFirstElement(".select-menu-year",this.ageGateDialogue.container);this.ageGateDialogue.monthSelectMenuList=g.selectFirstElement(".c-menu",this.ageGateDialogue.monthSelectMenu);this.ageGateDialogue.daySelectMenuList=g.selectFirstElement(".c-menu",this.ageGateDialogue.daySelectMenu);this.ageGateDialogue.yearSelectMenuList=g.selectFirstElement(".c-menu",
this.ageGateDialogue.yearSelectMenu);k.ComponentFactory.create([{component:p.SelectMenu,eventToBind:"DOMContentLoaded",elements:[this.ageGateDialogue.monthSelectMenu,this.ageGateDialogue.daySelectMenu,this.ageGateDialogue.yearSelectMenu],callback:function(h){if(h||h.length)c.selectMenuMonth=h[0],c.selectMenuDay=h[1],c.selectMenuYear=h[2],c.selectMenuDay.subscribe({onSelectionChanged:function(r){return c.onMonthDayYearDropDownSelect(r)}}),c.selectMenuMonth.subscribe({onSelectionChanged:function(r){return c.onMonthDayYearDropDownSelect(r)}}),
c.selectMenuYear.subscribe({onSelectionChanged:function(r){return c.onMonthDayYearDropDownSelect(r)}})}}])};b.prototype.populateDateDropDowns=function(){if(this.ageGateDialogue.monthSelectMenuList){var c;for(c=1;12>=c;c++){var a=this.createListItem("month-",c),d='\x3ca role\x3d"menuitem" href\x3d"#" aria-selected\x3d"false" tabindex\x3d"-1"\x3e'+(c+"\x3c/a\x3e");a.innerHTML=d;this.ageGateDialogue.monthSelectMenuList.appendChild(a)}}if(this.ageGateDialogue.daySelectMenuList)for(c=1;31>=c;c++)a=this.createListItem("day-",
c),d='\x3ca role\x3d"menuitem" href\x3d"#" aria-selected\x3d"false" tabindex\x3d"-1"\x3e'+(c+"\x3c/a\x3e"),a.innerHTML=d,this.ageGateDialogue.daySelectMenuList.appendChild(a);if(this.ageGateDialogue.yearSelectMenuList){a=(new Date).getFullYear();c=a-b.numberOfSelectableYears;var h;for(h=a;h>=c;h--)a=this.createListItem("year-",h),d='\x3ca role\x3d"menuitem" href\x3d"#" aria-selected\x3d"false" tabindex\x3d"-1"\x3e'+(h+"\x3c/a\x3e"),a.innerHTML=d,this.ageGateDialogue.yearSelectMenuList.appendChild(a)}};
b.prototype.createListItem=function(c,a){var d=document.createElement("li");d.id=c+a;g.addClass(d,"c-menu-item");d.setAttribute("role","presentation");return d};b.prototype.onMonthDayYearDropDownSelect=function(c){if(c){var a=g.selectFirstElement(".month-button",this.ageGateDialogue.monthSelectMenu),d=g.selectFirstElement(".day-button",this.ageGateDialogue.daySelectMenu),h=g.selectFirstElement(".year-button",this.ageGateDialogue.yearSelectMenu);if(a&&d&&h){var r=Number(g.getText(a));c=Number(g.getText(d));
var t=Number(g.getText(h));r&&a.setAttribute("aria-label",r+" "+this.ageGateData.monthLabel);c&&d.setAttribute("aria-label",c+" "+this.ageGateData.dayLabel);t&&h.setAttribute("aria-label",t+" "+this.ageGateData.yearLabel);r&&c&&t&&this.ageGateDialogue.button.removeAttribute("disabled");c=c?c:1;r=r?r:1;t=t?t:(new Date).getFullYear();a=(new Date(t,r,0)).getDate();for(d=28;31>=d;d++)h=g.selectFirstElement("#day-"+d),d>a?g.addClass(h,"c-hide-menu-item"):g.removeClass(h,"c-hide-menu-item");c>a&&this.selectMenuDay.setSelectedItem("day-1")}}};
b.ageGateSessionStorageKey="UserAge";b.xboxDotComAgeGateCookieName="maturityRatingAge";b.ariaLabel="aria-label";b.numberOfSelectableYears=110;return b}();l.AgeGateHelper=z});K("helpers/inview-helper",["require","exports","mwf/utilities/htmlExtensions","mwf/utilities/utility","players/core-player"],function(z,l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.InviewManager=l.DocumentVisibility=void 0;l.DocumentVisibility={msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange",
mozHidden:"mozvisibilitychange",hidden:"visibilitychange"};z=function(){function k(){var f=this;this.isAnyPlayerPlaying=!1;this.defaultInViewHeightFraction=this.defaultInViewWidthFraction=.5;this.onDocumentVisibilityChanged=function(b){k.isDocumentVisible()?f.triggerInViewPlay(!1):f.isAnyPlayerPlaying&&k.currentPlayer?k.currentPlayer.hasUserInteracted()&&k.currentPlayer.hasUserIntiatedPause()?k.currentPlayer.pause():f.clearCurrentPlayer():f.triggerInViewPlay(!1)};this.onInViewPlayHandler=function(b){setTimeout(f.triggerInViewPlay(!1),
500)};k.players=[];k.currentPlayer=null;for(var e in l.DocumentVisibility)if(e in document){k.hidden=e;k.visibilityChange=l.DocumentVisibility[e];break}this.bindInViewEvents()}k.Instance=function(){if(null===this._instance||void 0===this._instance)this._instance=new k;return this._instance};k.prototype.clearCurrentPlayer=function(){k.currentPlayer&&k.currentPlayer.pause();k.currentPlayer=null;this.isAnyPlayerPlaying=!1};k.prototype.setCurrentPlayer=function(f){f&&k.currentPlayer!==f&&(k.currentPlayer=
f,this.isAnyPlayerPlaying=!0)};k.prototype.insertByPosition=function(f){var e=this.getPlayerPosition(f.getPlayerContainer());if(e){for(var b=0;b<k.players.length;){if(k.players[b].getPlayerId()===f.getPlayerId())return;var c=this.getPlayerPosition(k.players[b].getPlayerContainer());if(c&&e.top<c.top)break;b++}k.players.splice(b,0,f)}else k.players.push(f)};k.prototype.registerPlayer=function(f){f&&(this.insertByPosition(f),k.currentPlayer||this.triggerInViewPlay(!0))};k.prototype.disposePlayer=function(f){f&&
(k.currentPlayer===f&&this.clearCurrentPlayer(),f=k.players.indexOf(f),0<=f&&k.players.splice(f,1),0===k.players.length&&this.dispose())};k.prototype.dispose=function(){k.players=[];k.currentPlayer=null};k.isDocumentVisible=function(){return!document[this.hidden]};k.prototype.triggerInViewPlay=function(f){if(k.isDocumentVisible()){var e=!1;k.currentPlayer&&this.isAnyPlayerPlaying&&((e=this.isPlayerInView(k.currentPlayer))||(k.currentPlayer.hasUserInteracted()&&k.currentPlayer.hasUserIntiatedPause()?
k.currentPlayer.pause():this.clearCurrentPlayer()));if((!this.isAnyPlayerPlaying||!k.currentPlayer||!k.currentPlayer.hasUserInteracted()&&!e)&&k.players&&k.players.length)for(e=0;e<k.players.length;e++){var b=k.players[e];if(k.currentPlayer!==b)if(!f&&b.hasUserInteracted()&&b.hasUserIntiatedPause())b.hasUserInteracted()&&b.hasUserIntiatedPause()&&this.handledUserInteractedPlay(b);else if(b.hasUserInteracted()&&b.hasUserIntiatedPause())this.handledUserInteractedPlay(b);else{var c=this.isPlayerInView(b),
a=b.getCurrentPlayState();if(!c&&a===p.PlayerStates.Playing){b.pause();this.clearCurrentPlayer();break}if(c&&(b.isPaused()||a===p.PlayerStates.Paused)&&a!==p.PlayerStates.Ended){b.play();this.setCurrentPlayer(b);break}if(c&&a===p.PlayerStates.Playing){this.setCurrentPlayer(b);break}}}}};k.prototype.handledUserInteractedPlay=function(f){f&&!this.isPlayerInView(f)&&f.getCurrentPlayState()===p.PlayerStates.Playing&&(f.pause(),this.clearCurrentPlayer())};k.prototype.isPlayerInView=function(f){var e=g.getWindowWidth(),
b=g.getWindowHeight();if(!e||!b||0>=e||0>=b)return!1;var c=this.getPlayerPosition(f.getPlayerContainer());if(!c||!c.width||!c.height)return!1;var a=this.defaultInViewWidthFraction,d=this.defaultInViewHeightFraction;f.getPlayerData().options&&(f.getPlayerData().options.inViewWidthFraction&&(a=f.getPlayerData().options.inViewWidthFraction),f.getPlayerData().options.inViewHeightFraction&&(d=f.getPlayerData().options.inViewHeightFraction));return this.isInView(e,b,c,c.width*Math.abs(a),c.height*Math.abs(d))};
k.prototype.isInView=function(f,e,b,c,a){e=0>b.bottom||b.top>e?0:Math.min(e,b.bottom)-Math.max(b.top,0);f=0>b.right||b.left>f?0:Math.min(f,b.right)-Math.max(0,b.left);return e&&e>=a&&f&&f>=c};k.prototype.listenForInviewThresholdChanges=function(f,e,b){if(!(!f||!e||0>e||1<e)){this.inviewChange={enter:!0,exit:!1};this.inviewContainer=f;this.inviewThreshold=e;this.inviewCallback=b;var c=this;m.addEvents(window,"scroll",function(){c.checkInviewThreshold()})}};k.prototype.checkInviewThreshold=function(){!0===
this.inviewChange.enter?this.inviewVerticalThreshold()&&this.inviewHorizontalThreshold()||(this.inviewChange.enter=!1,this.inviewChange.exit=!0,this.inviewCallback("InviewExit")):!0===this.inviewChange.exit&&this.inviewVerticalThreshold()&&this.inviewHorizontalThreshold()&&(this.inviewChange.enter=!0,this.inviewChange.exit=!1,this.inviewCallback("InviewEnter"))};k.prototype.inviewVerticalThreshold=function(){var f=g.getWindowHeight(),e=this.getPlayerPosition(this.inviewContainer),b=0>e.top?-1*e.top:
e.top,c=0>e.bottom?-1*e.bottom:e.bottom,a=this.inviewThreshold*e.height;return e&&e.height?0>e.bottom||e.top>f||!(0>e.top&&b<a||e.bottom>f&&c-f<a||0<=e.top&&e.bottom<=f)?!1:!0:!1};k.prototype.inviewHorizontalThreshold=function(){var f=g.getWindowWidth(),e=this.getPlayerPosition(this.inviewContainer),b=0>e.left?-1*e.left:e.left,c=0>e.right?-1*e.right:e.right,a=this.inviewThreshold*e.width;return e&&e.width?0>e.right||e.left>f||!(0>e.left&&b<a||e.right>=f&&c-f<a||0<=e.left&&e.right<=f)?!1:!0:!1};k.prototype.getPlayerPosition=
function(f){return f&&0!==f.childElementCount?(f=f.firstElementChild.getBoundingClientRect())&&f.width&&f.height?f:null:null};k.prototype.bindInViewEvents=function(){m.addEvents(document,k.visibilityChange,this.onDocumentVisibilityChanged);m.addEvents(window,"scroll",this.onInViewPlayHandler);m.addEvents(window,"resize",this.onInViewPlayHandler)};k.hidden="hidden";k.visibilityChange="visibilitychange";return k}();l.InviewManager=z});K("players/core-player","require exports controls/video-controls closed-captions/video-closed-captions closed-captions/video-closed-captions-settings mwf/utilities/utility mwf/utilities/htmlExtensions mwf/utilities/stringExtensions data/player-data-interfaces data/player-options video-wrappers/html5-video-wrapper video-wrappers/amp-wrapper video-wrappers/has-video-wrapper video-wrappers/hls-video-wrapper video-wrappers/native-video-wrapper utilities/environment utilities/stopwatch utilities/player-utility constants/player-constants telemetry/jsll-reporter helpers/localization-helper data/player-config helpers/sharing-helper constants/player-constants helpers/interactive-triggers-helper helpers/screen-manager-helper helpers/age-gate-helper helpers/inview-helper data/video-shim-data-fetcher controls/context-menu constants/attributes constants/dom-selectors".split(" "),
function(z,l,m,g,p,k,f,e,b,c,a,d,h,r,t,v,y,B,F,E,D,u,C,G,I,J,M,N,Q,P,T,V){Object.defineProperty(l,"__esModule",{value:!0});l.CorePlayer=l.PlayerStates=void 0;l.PlayerStates={Init:"init",PlayerLoaded:"playerLoaded",Loading:"loading",Ready:"ready",Playing:"playing",Paused:"paused",Buffering:"buffering",Seeking:"seeking",Ended:"ended",Error:"error",Stopped:"stopped"};var W=[b.MediaQuality.HD,b.MediaQuality.HQ,b.MediaQuality.SD,b.MediaQuality.LO];z=function(){function A(q,w){var n=this;this.videoComponent=
q;this.isFallbackVideo=this.canPlay=this.videoElementIsFocus=!1;this.playerData={};this.isInFullscreen=this.errorMessageDisplayed=this.wrapperLoadCalled=!1;this.isAudioTracksDoneSwitching=!0;this.playerOptions=this.videoMetadata=null;this.isWindowClosing=this.isBuffering=!1;this.showcontrolFirstTime=this.isFirstTimePlayed=!0;this.areControlsVisible=this.areControlsInitialized=this.areMediaEventsBound=this.commonPlayerImpressionReported=this.isVideoMuted=!1;this.nextCheckpoint=this.playerTechnology=
this.volumeStart=this.seekFrom=null;this.stopwatchBuffering=new y.Stopwatch;this.stopwatchLoading=new y.Stopwatch;this.stopwatchPlaying=new y.Stopwatch;this.currentVideoStopwatchPlaying=new y.Stopwatch;this.firstByteTimer=null;this.lastVolume=u.PlayerConfig.defaultVolume;this.currentVideoFile=null;this.reporters=[];this.playOnDataLoad=!1;this.startTimeOnDataLoad=0;this.locReady=!1;this.playerId=null;this.hasInteractivity=this.hasHLS=this.useAdaptive=this.hasAdaptive=this.hasProgressive=this.playPauseTrigger=
this.playTriggered=!1;this.isVideoPlayerSupported=!0;this.dataErrorShown=this.hasDataError=!1;this.playerEventCallbacks=[];this.timeRemainingCheckpointReached=this.wasUserIntiatedPause=this.wasUserInteracted=this.showEndImage=this.isContentStartReported=!1;this.inviewManager=null;this.setAutoPlayNeeded=this.showingPosterImage=this.registedInviewManagerAlready=!1;this.playerContainerEventHandler=function(x){switch(x.type){case "contextmenu":if(x.preventDefault(),!window.storeApi)switch(n.playerState){case l.PlayerStates.Ready:case l.PlayerStates.Playing:case l.PlayerStates.Paused:case l.PlayerStates.Ended:case l.PlayerStates.Stopped:n.setupCustomizeContextMenu(),
n.contextMenu.showMenu(x,n.playerContainer)}}};this.documentEventHandler=function(x){x=f.getEvent(x);switch(x.type){case "click":n.customizedContextMenu&&n.customizedContextMenu.setAttribute("aria-hidden","true")}};this.videoControlsContainerEventHandler=function(x){x=f.getEvent(x);switch(x.type){case "contextmenu":n.customizedContextMenu.setAttribute("aria-hidden","true"),x.preventDefault(),x.stopPropagation()}};this.playPauseButtonEventHandler=function(x){x=f.getEvent(x);switch(x.type){case "mouseover":case "focus":n.showElement(n.playPauseTooltip);
v.Environment.isChrome&&(n.isPaused()?n.setAriaLabelForButton(n.playPauseButton):n.playPauseButton.setAttribute("aria-label",n.locPause.toLowerCase()));break;case "mouseout":case "blur":n.hideElement(n.playPauseTooltip)}};this.triggerPlayEventHandler=function(x){x=f.getEvent(x);switch(x.type){case "mouseover":case "focus":n.showElement(n.triggerTooltip);break;case "mouseout":case "blur":n.hideElement(n.triggerTooltip)}};this.triggerContainerEventHandler=function(x){x=f.getEvent(x);var H=function(L){n.onVideoPlayerClicked(x);
L&&n.videoControls&&n.videoControls.setFocusOnControlBar();n.playerOptions&&n.playerOptions.playFullScreen&&n.enterFullScreen();n.playerOptions&&n.playerOptions.showEndImage&&n.hideImage();n.updateScreenReaderElement(n.locPlaying,!0);x.preventDefault&&x.preventDefault();f.removeEvents(n.triggerContainer,"click keyup",n.triggerContainerEventHandler,!0)};switch(x.type){case "click":H(!1);break;case "keyup":32===k.getKeyCode(f.getEvent(x))&&H(!1)}};this.triggerPlayPauseContainerEventHandler=function(x){x=
f.getEvent(x);var H=function(){n.isPlayable()&&(n.setUserInteracted(!0),n.isPaused()?(n.play(),n.setUserIntiatedPause(!1),n.playPauseButton&&(f.removeClass(n.playPauseButton,"glyph-play"),f.addClass(n.playPauseButton,"glyph-pause"),v.Environment.isChrome?n.playPauseButton.setAttribute("aria-label",n.locPlaying):n.playPauseButton.setAttribute("aria-label",n.locPause),f.setText(n.playPauseTooltip,n.locPause),n.updateScreenReaderElement(n.locPlaying))):(n.pause(!0),n.setUserIntiatedPause(!0),n.playPauseButton&&
(f.removeClass(n.playPauseButton,"glyph-pause"),f.addClass(n.playPauseButton,"glyph-play"),v.Environment.isChrome?n.playPauseButton.setAttribute("aria-label",n.locPaused):n.setAriaLabelForButton(n.playPauseButton),f.setText(n.playPauseTooltip,n.locPlay),n.updateScreenReaderElement(n.locPaused))))};switch(x.type){case "click":H();break;case "keydown":32===k.getKeyCode(f.getEvent(x))&&H()}};this.onResourcesLoaded=function(){B.PlayerUtility.createVideoPerfMarker(n.playerId,G.videoPerfMarkers.locReady);
n.videoMetadata&&!0===n.videoMetadata.geoFenced?(n.playerState=l.PlayerStates.Error,n.hideSpinner(),!0===n.playerOptions.showImageForVideoError&&n.videoMetadata&&n.videoMetadata.posterframeUrl?(n.hideTrigger(),n.disablePlayPauseTrigger(),n.displayImage(n.videoMetadata.posterframeUrl)):n.displayErrorMessage({title:n.localizationHelper.getLocalizedValue(D.playerLocKeys.geolocation_error)})):(n.locPlay=n.localizationHelper.getLocalizedValue(D.playerLocKeys.play),n.locPlayVideo=n.localizationHelper.getLocalizedValue(D.playerLocKeys.play_video),
n.locPause=n.localizationHelper.getLocalizedValue(D.playerLocKeys.pause),n.locMute=n.localizationHelper.getLocalizedValue(D.playerLocKeys.mute),n.locUnmute=n.localizationHelper.getLocalizedValue(D.playerLocKeys.unmute),n.locPlaying=n.localizationHelper.getLocalizedValue(D.playerLocKeys.playing),n.locPaused=n.localizationHelper.getLocalizedValue(D.playerLocKeys.paused),n.setSpinnerProperties(),n.setTriggerProperties(),n.locReady=!0,n.initializeAgeGating(),n.ageGateHelper.verifyAgeGate()&&(n.hideTrigger(),
n.hideSpinner()),n.hasDataError&&!n.dataErrorShown&&(n.showDataError(),n.hasDataError=!1))};this.onMediaEvent=function(x){if(x){f.customEvent(n.videoComponent,x.type,{bubbles:x.bubbles,cancelable:x.cancelable});if(n.playerEventCallbacks&&n.playerEventCallbacks.length)for(var H=0,L=n.playerEventCallbacks;H<L.length;H++){var O=L[H];O&&O({name:x.type})}switch(x.type.toLowerCase()){case "canplay":case "canplaythrough":n.onVideoCanPlay(x);break;case "error":n.onVideoError(x);break;case "play":n.onVideoPlay(x);
break;case "pause":n.onVideoPause(x);break;case "seeking":n.onVideoSeeking(x);break;case "seeked":n.onVideoSeeked(x);break;case "waiting":n.onVideoWaiting(x);break;case "loadedmetadata":n.onVideoMetadataLoaded();break;case "loadeddata":n.onVideoLoadedData();break;case "timeupdate":n.onVideoTimeUpdate();break;case "ended":n.onVideoEnded();break;case "playing":n.onVideoPlaying();break;case "volumechange":n.onVideoVolumeChange(x)}}};this.onVideoPlaying=function(){n.updateState(l.PlayerStates.Playing);
n.checkReplacedVideoTag();n.videoControls&&n.videoWrapper&&(n.videoControls.setLive(n.isLive()),n.videoControls.setPlayPosition(n.videoWrapper.getPlayPosition()),n.videoControls.resetSlidersWorkaround());n.setNextCheckpoint();n.reportContentStart();v.Environment.isAndroid&&(n.logMessage("re-invoking play for Android only"),n.videoWrapper.play());n.playerOptions&&n.playerOptions.inviewPlay&&!n.registedInviewManagerAlready&&(n.inviewManager||(n.inviewManager=N.InviewManager.Instance()),n.inviewManager&&
(n.inviewManager.registerPlayer(n),n.registedInviewManagerAlready=!0))};this.onVideoWrapperLoaded=function(){n.checkReplacedVideoTag();B.PlayerUtility.createVideoPerfMarker(n.playerId,G.videoPerfMarkers.wrapperReady);n.loadVideo();n.showingPosterImage?(n.posterImageUrl?n.videoWrapper.setPosterFrame(n.posterImageUrl):n.videoMetadata&&n.videoMetadata.posterframeUrl?n.videoWrapper.setPosterFrame(n.videoMetadata.posterframeUrl):console.log("no poster image passed in parameter or video metadata"),n.showingPosterImage=
!1):n.playerOptions.autoplay&&n.displayPreRollAndPlayContent()};this.onBeforeUnload=function(){n.isWindowClosing=!0};this.onWindowResize=function(){n.closedCaptions&&(n.closedCaptions.resetCaptions(),n.closedCaptions.updateCaptions(n.getPlayPosition().currentTime))};this.onVideoWrapperLoadFailed=function(){n.playerOptions&&!0===n.playerOptions.showImageForVideoError&&n.videoMetadata&&n.videoMetadata.posterframeUrl?(n.hideTrigger(),n.disablePlayPauseTrigger(),n.displayImage(n.videoMetadata.posterframeUrl)):
n.displayErrorMessage({title:n.localizationHelper.getLocalizedValue(D.playerLocKeys.standarderror)})};this.onMouseEvent=function(x){x=f.getEvent(x);if("mousemove"===x.type)n.showcontrolFirstTime=!1,!n.playPauseTrigger&&n.videoControls&&n.showControlsBasedOnState(),n.playPauseTrigger&&n.showPlayPauseTrigger(!0);else if("mouseout"===x.type){n.showcontrolFirstTime=!1;n.playPauseTrigger&&n.showPlayPauseTrigger(!1);for(var H=x.toElement||x.relatedTarget;H&&H.parentNode&&H.parentNode!==window;){if(H.parentNode===
n||H===n){f.preventDefault(x);break}H=H.parentNode}}};this.onKeyboardEvent=function(x){switch(k.getKeyCode(x)){case 9:n.showControlsBasedOnState()}};this.onVideoMetadataLoaded=function(){n.setupPlayerMenus()};this.onVideoLoadedData=function(){n.updateState(l.PlayerStates.Ready);var x=n.getPlayPosition();n.videoControls&&(n.videoControls.setLive(n.isLive()),n.videoControls.setPlayPosition(x));n.startTimeOnDataLoad&&n.startTimeOnDataLoad>x.startTime&&n.startTimeOnDataLoad<x.endTime&&(n.seek(n.startTimeOnDataLoad),
n.startTimeOnDataLoad=null);n.playOnDataLoad&&(n.play(),n.playOnDataLoad=!1)};this.onVideoTimeUpdate=function(){if(n.videoWrapper){var x=n.getPlayPosition();n.videoControls&&n.videoControls.setPlayPosition(x);if(x.startTime!==x.endTime&&(n.closedCaptions&&n.closedCaptions.updateCaptions(x.currentTime),n.interactiveTriggersHelper&&n.interactiveTriggersHelper.updateCurrentOverlay(x.currentTime),!n.isPaused())){n.playerState===l.PlayerStates.Buffering&&n.updateState(l.PlayerStates.Playing);var H=x.endTime-
x.startTime;n.checkTimeRemainingCheckpoint(H-x.currentTime);x=n.nextCheckpoint&&0<H&&Math.round(100*x.currentTime)/100>=Math.round(H*n.nextCheckpoint*100/100)/100;H=n.stopwatchPlaying.hasReached(u.PlayerConfig.eventCheckpointInterval);x?(n.reportEvent(F.PlayerEvents.ContentCheckpoint,{checkpoint:n.nextCheckpoint,checkpointType:"quartile"}),n.setNextCheckpoint(),n.stopwatchBuffering.reset()):H&&n.reportEvent(F.PlayerEvents.ContentCheckpoint,{checkpointType:"interval"})}}};this.onVideoCanPlay=function(x){n.canPlay=
!0;n.videoControls&&n.videoControls.updatePlayPauseState()};this.onVideoError=function(x){if(!n.isWindowClosing&&n.playerState!==l.PlayerStates.Init&&n.playerState!==l.PlayerStates.Error)if((x=n.videoWrapper.getError())&&x.errorCode){if(x.errorCode===b.VideoErrorCodes.MediaErrorSourceNotSupported){var H=n.getFallbackVideoFile();if(n.currentVideoFile&&n.currentVideoFile.mediaType!==b.MediaTypes.MP4&&H&&H.mediaType===b.MediaTypes.MP4){n.reportEvent(F.PlayerEvents.PlayerError,{errorType:F.PlayerEvents.SourceErrorAttemptRecovery,
errorDesc:"Playback using media type "+n.currentVideoFile.mediaType+" failed. Attempting to fallback to MP4 source."});n.setVideoSrc(H);n.playerOptions.autoplay&&(n.playOnDataLoad=!0,n.play());n.isFallbackVideo=!0;return}}if(n.playerOptions&&n.playerOptions.showImageForVideoError&&n.videoMetadata&&n.videoMetadata.posterframeUrl)n.hideControlPanel(),n.videoControls=null,n.stopMedia(),n.hideTrigger(),n.disablePlayPauseTrigger(),n.displayImage(n.videoMetadata.posterframeUrl);else{n.updateState(l.PlayerStates.Error);
switch(x.errorCode){case b.VideoErrorCodes.MediaErrorAborted:H=n.localizationHelper.getLocalizedValue(D.playerLocKeys.media_err_aborted);break;case b.VideoErrorCodes.MediaErrorNetwork:H=n.localizationHelper.getLocalizedValue(D.playerLocKeys.media_err_network);break;case b.VideoErrorCodes.MediaErrorDecode:H=n.localizationHelper.getLocalizedValue(D.playerLocKeys.media_err_decode);break;case b.VideoErrorCodes.MediaErrorSourceNotSupported:H=n.localizationHelper.getLocalizedValue(D.playerLocKeys.media_err_src_not_supported);
break;case b.VideoErrorCodes.AmpEncryptError:H=n.localizationHelper.getLocalizedValue(D.playerLocKeys.media_err_amp_encrypt);break;case b.VideoErrorCodes.AmpPlayerMismatch:H=n.localizationHelper.getLocalizedValue(D.playerLocKeys.media_err_amp_player_mismatch);break;default:H=n.localizationHelper.getLocalizedValue(D.playerLocKeys.media_err_unknown_error)}H=e.format(n.localizationHelper.getLocalizedValue(D.playerLocKeys.playbackerror),H);x=B.PlayerUtility.formatContentErrorMessage(x.errorCode,H,x.message);
n.stopMedia(H,x)}}else n.stopMedia()};this.onErrorCallback=function(x,H){n.reportEvent(F.PlayerEvents.PlayerError,{errorType:x,errorDesc:H})};this.onVideoPlay=function(x){n.hideTrigger();n.playTriggered?n.reportEvent(F.PlayerEvents.Resume):(n.playTriggered=!0,B.PlayerUtility.createVideoPerfMarker(n.playerId,G.videoPerfMarkers.playTriggered));n.firstByteTimer&&window.clearTimeout(n.firstByteTimer);x=v.Environment.isMobile?u.PlayerConfig.firstByteTimeoutVideoMobile:u.PlayerConfig.firstByteTimeoutVideoDesktop;
0<x&&(n.firstByteTimer=setTimeout(function(){n.getBufferedDuration()||n.playerState!==l.PlayerStates.Buffering||(n.logMessage("Buffering stuck detected"),n.updateState(l.PlayerStates.Error),n.playerOptions&&n.playerOptions.showImageForVideoError&&n.videoMetadata&&n.videoMetadata.posterframeUrl?(n.hideControlPanel(),n.videoControls=null,n.stopMedia(),n.hideTrigger(),n.disablePlayPauseTrigger(),n.displayImage(n.videoMetadata.posterframeUrl)):n.stopMedia(n.localizationHelper.getLocalizedValue(D.playerLocKeys.standarderror),
B.PlayerUtility.formatContentErrorMessage(b.VideoErrorCodes.BufferingFirstByteTimeout,"Time out waiting for first byte.")))},x))};this.onVideoPause=function(x){n.videoWrapper&&n.videoWrapper.isSeeking()||n.playerState===l.PlayerStates.Ended||n.updateState(l.PlayerStates.Paused)};this.onVideoSeeking=function(x){n.playerState!==l.PlayerStates.Ended&&n.videoWrapper&&n.videoWrapper.isSeeking()?(n.nextCheckpoint=null,null===n.seekFrom&&(n.seekFrom=n.getPlayPosition().currentTime),n.updateState(l.PlayerStates.Seeking)):
n.seekFrom=null};this.onVideoSeeked=function(x){x=n.getPlayPosition().currentTime;n.playerState!==l.PlayerStates.Ended&&n.videoWrapper&&!n.videoWrapper.isSeeking()&&null!==n.seekFrom&&n.seekFrom!==x&&(n.setNextCheckpoint(),n.reportEvent(F.PlayerEvents.Seek,{seekFrom:n.seekFrom,seekTo:x}),n.seekFrom=null,n.updateState(n.isPaused()?l.PlayerStates.Paused:l.PlayerStates.Playing))};this.onVideoWaiting=function(x){n.updateState(l.PlayerStates.Buffering)};this.onVideoVolumeChange=function(x){x&&x.target&&
(n.videoWrapper.isMuted()?n.isVideoMuted=!0:n.isVideoMuted&&(n.isVideoMuted=!1,v.Environment.isMobile&&n.videoWrapper.unmute()));n.videoControls&&n.videoControls.updateVolumeState()};this.onCcPresetFocus=function(x){if(n.videoControls&&n.closedCaptions&&n.closedCaptionsSettings){n.closedCaptions.getCurrentCcLanguage()||n.closedCaptions.showSampleCaptions();x=f.getEventTargetOrSrcElement(x).getAttribute("data-info");if("reset"===x)n.closedCaptionsSettings.reset();else{x=x.split(":");if(!x&&0>x.length)return;
n.closedCaptionsSettings.setSetting(x[0],x[1],!1)}n.closedCaptions.resetCaptions();n.closedCaptions.updateCaptions(n.getPlayPosition().currentTime)}};this.onCcPresetBlur=function(x){if(n.videoControls&&n.closedCaptions&&n.closedCaptionsSettings){n.closedCaptions.getCurrentCcLanguage()||n.closedCaptions.setCcLanguage("off",null);x=f.selectFirstElement("#"+n.ccSettingsMenuId,n.videoControlsContainer);x=f.selectFirstElement(".glyph-check-mark",x);if(null!=x)if(x=x.getAttribute("data-info"),"reset"===
x)n.closedCaptionsSettings.reset();else{x=x.split(":");if(!x&&0>x.length)return;n.closedCaptionsSettings.setSetting(x[0],x[1])}else n.closedCaptionsSettings.reset(!1);n.closedCaptions.resetCaptions();n.closedCaptions.updateCaptions(n.getPlayPosition().currentTime)}};this.onVideoPlayerClicked=function(x){n.playerOptions.useAMPVersion2&&n.isFallbackVideo||(n.playerOptions&&n.playerOptions.lazyLoad&&!n.wrapperLoadCalled?(n.playOnDataLoad=!1,n.playerOptions.adsEnabled?(n.playerOptions.adsEnabled=!1,n.playerOptions.autoplay=
!1):n.playerOptions.autoplay=!0,n.hasInteractivity?n.loadVideoWrapper(!1):n.loadVideoWrapper(n.playerOptions.autoplay),n.isFirstTimePlayed&&n.displayPreRollAndPlayContent()):n.isFirstTimePlayed?n.displayPreRollAndPlayContent():n.isPaused()?(n.play(),n.setUserInteracted(!0),n.setUserIntiatedPause(!1)):(n.pause(!0),n.setUserInteracted(!0),n.setUserIntiatedPause(!0)),n.hideTrigger(),n.showSpinnerBasedOnState(),n.videoControls&&n.isInFullscreen&&n.videoControls.setFocusOnControlBar())};this.onVideoEnded=
function(){n.updateState(l.PlayerStates.Ended);n.reportEvent(F.PlayerEvents.ContentComplete);v.Environment.useNativeControls||n.stop()};this.onFullscreenChanged=function(){var x=A.getElementInFullScreen(),H=n.getFullscreenContainer();if(x){if(H===x&&!n.isInFullscreen)n.onFullscreenEnter()}else if(n.isInFullscreen)n.onFullscreenExit()};this.onIOSFullscreenEnter=function(){n.play();n.onFullscreenEnter()};this.onIOSFullscreenExit=function(){n.onFullscreenExit()};this.onFullscreenError=function(){n.isInFullscreen=
!1};this.onSetAudioCallback=function(x){n.isAudioTracksDoneSwitching=!0};q&&(this.isVideoPlayerSupported=v.Environment.isVideoPlayerSupported(),this.createComponents(w),this.load(w))}A.prototype.createComponents=function(q){this.playPauseTrigger=q&&q.options&&q.options.playPauseTrigger;this.showEndImage=q&&q.options&&q.options.showEndImage;this.playerContainer=f.selectFirstElement(A.playerContainerSelector,this.videoComponent);var w=q&&q.options&&q.options.maskLevel?q.options.maskLevel:"40",n=q&&
q.options&&q.options.theme?q.options.theme:"light",x=q&&q.options&&q.options.playButtonTheme?q.options.playButtonTheme:"dark",H=q&&q.options&&q.options.playButtonSize?q.options.playButtonSize:"medium",L=q&&q.options&&q.options.trigger;this.setAutoPlayNeeded=q&&q.options&&q.options.autoplay&&(v.Environment.isChrome||v.Environment.isMobile);var O=q&&q.options&&q.options.controls&&this.isVideoPlayerSupported&&!this.playPauseTrigger&&!v.Environment.useNativeControls;this.playerContainer||(this.videoComponent.innerHTML=
'\x3cdiv class\x3d"f-core-player" tabindex\x3d"-1"\x3e\n    '+(this.setAutoPlayNeeded?'\x3cvideo class\x3d"f-video-player" preload\x3d"metadata" autoplay playsinline tabindex\x3d"-1"\x3e\x3c/video\x3e':'\x3cvideo class\x3d"f-video-player" preload\x3d"metadata" tabindex\x3d"-1"\x3e\x3c/video\x3e')+"\n    "+(L?'\x3cdiv class\x3d"f-video-trigger" aria-hidden\x3d"true" \x3e\n                        \x3cdiv class\x3d"f-mask-'+w+" theme-"+n+'" \x3e\n                            \x3cbutton class\x3d"c-action-trigger f-play-trigger c-glyph glyph-play ow-play-theme-'+
x+" ow-"+H+'" aria-label\x3d"Play" role\x3d"button"\x3e\n                            \x3c/button\x3e\n                            \x3cspan aria-hidden\x3d"true" role\x3d"presentation"\x3ePlay\x3c/span\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e':"")+'    \n    \x3cdiv class\x3d"f-customize-context-menu-container"\x3e\x3c/div\x3e \n    \x3cdiv class\x3d"f-video-cc-overlay" aria-hidden\x3d"true"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"f-screen-reader" aria-live\x3d"polite"\x3e\x3c/div\x3e\n    '+
(O?'\x3cdiv class\x3d"f-video-controls" dir\x3d"ltr" aria-hidden\x3d"true" role\x3d"none"\x3e\x3c/div\x3e':"")+'\n    \x3cdiv aria-hidden\x3d"true" class\x3d"c-progress f-indeterminate-local f-progress-large" role\x3d"progressbar" tabindex\x3d"0"\x3e\n        \x3cspan\x3e\x3c/span\x3e\n        \x3cspan\x3e\x3c/span\x3e\n        \x3cspan\x3e\x3c/span\x3e\n        \x3cspan\x3e\x3c/span\x3e\n        \x3cspan\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    '+(this.playPauseTrigger?'\x3cdiv role\x3d"presentation" class\x3d"f-play-pause-trigger"\x3e\n            \x3cbutton type\x3d"button" class\x3d"f-play-pause c-action-trigger c-glyph glyph-pause f-play-pause-hide ow-'+
H+'" aria-label\x3d"pause"\x3e\n            \x3c/button\x3e\n            \x3cspan aria-hidden\x3d"true" role\x3d"presentation"\x3ePause\x3c/span\x3e\n         \x3c/div\x3e':"")+"\n\x3c/div\x3e",this.playerContainer=f.selectFirstElement(A.playerContainerSelector,this.videoComponent));this.checkReplacedVideoTag();this.spinner=f.selectFirstElement(".c-progress",this.playerContainer);this.triggerContainer=f.selectFirstElement(".f-video-trigger",this.videoComponent);this.triggerPlayPauseContainer=f.selectFirstElement(".f-play-pause-trigger",
this.videoComponent);this.screenReaderElement=f.selectFirstElement(".f-screen-reader",this.videoComponent);this.customizedContextMenuContainer=f.selectFirstElement(".f-customize-context-menu-container",this.videoComponent);f.addEvents(this.playerContainer,"contextmenu",this.playerContainerEventHandler,!0);f.addEvents(document,"click",this.documentEventHandler,!0);this.triggerContainer&&(n=f.selectFirstElement("div",this.triggerContainer),w=e.format("background-color: rgba(0,0,0,{0})",Number(w)/100),
n.setAttribute("style",w),this.trigger=f.selectFirstElement(".c-action-trigger",this.triggerContainer),this.triggerTooltip=f.selectFirstElement("span",this.triggerContainer),f.addEvents(this.trigger,"mouseover mouseout focus blur",this.triggerPlayEventHandler,!0),q&&q.options&&!q.options.autoplay&&(this.showTrigger(),this.hideControlPanel(),this.hideSpinner()));this.triggerPlayPauseContainer&&q&&q.options&&(this.playPauseButton=f.selectFirstElementT(".f-play-pause",this.triggerPlayPauseContainer),
this.playPauseButton.setAttribute("aria-label","pause"),this.playPauseTooltip=f.selectFirstElement("span",this.triggerPlayPauseContainer),f.addEvents(this.playPauseButton,"mouseover mouseout focus blur",this.playPauseButtonEventHandler,!0),f.addEvents(this.triggerPlayPauseContainer,"click keydow",this.triggerPlayPauseContainerEventHandler,!0));v.Environment.isInIframe&&(q=document.getElementsByTagName("body"))&&q[0].setAttribute("tabindex","-1")};A.prototype.initializeLocalization=function(){B.PlayerUtility.createVideoPerfMarker(this.playerId,
G.videoPerfMarkers.locLoadStart);if(this.localizationHelper)this.onResourcesLoaded();else this.playerOptions.market||(this.playerOptions.market=this.videoComponent.getAttribute("data-market")),this.localizationHelper=new D.LocalizationHelper(this.playerOptions.market,this.playerOptions.resourceHost,this.playerOptions.resourceHash,this.onErrorCallback),this.localizationHelper.loadResources(this.onResourcesLoaded)};A.prototype.initializeAgeGating=function(){var q=this;this.ageGateHelper=new M.AgeGateHelper(this.playerContainer,
this,this.localizationHelper,function(){q.finishPlayerLoad()})};A.prototype.initializeReporting=function(q){if(q&&q.options&&q.options.reporting&&q.options.reporting.enabled&&1>this.reporters.length&&(q.options.reporting.jsll&&this.reporters.push(new E.JsllReporter(this.videoComponent,q.options.jsllPostMessage)),q&&q.options&&q.options.inviewThreshold&&(this.inviewManager||(this.inviewManager=N.InviewManager.Instance()),this.inviewManager))){var w=this;this.inviewManager.listenForInviewThresholdChanges(this.playerContainer,
q.options.inviewThreshold,function(n){w.reportEvent(n)})}};A.prototype.getPlayerId=function(){return this.playerId||this.videoComponent.id};A.prototype.getPlayerData=function(){return this.playerData};A.prototype.getPlayerContainer=function(){return this.playerContainer};A.prototype.hasUserInteracted=function(){return this.wasUserInteracted};A.prototype.setUserInteracted=function(q){this.wasUserInteracted=q};A.prototype.hasUserIntiatedPause=function(){return this.wasUserIntiatedPause};A.prototype.setAutoPlay=
function(){this.videoWrapper&&this.wrapperLoadCalled&&this.videoWrapper.setAutoPlay()};A.prototype.setUserIntiatedPause=function(q){this.wasUserIntiatedPause=q};A.prototype.getCurrentPlayState=function(){return this.playerState};A.prototype.load=function(q){if(q){this.playerData=q;this.currentVideoFile=null;this.playerId=this.videoComponent.getAttribute("id");this.updateState(l.PlayerStates.Init);this.hideErrorMessage();this.videoMetadata=q.metadata;this.playerOptions=q.options||new c.PlayerOptions;
this.screenManagerHelper=new J.ScreenManagerHelper;this.startTimeOnDataLoad=this.playerOptions.startTime;if(this.playerOptions.autoplay||this.playerOptions.lazyLoad&&!this.playerOptions.trigger)this.playerOptions.lazyLoad=!1;try{this.initializeLocalization(),this.initializeReporting(q)}catch(w){this.reportEvent(F.PlayerEvents.PlayerError,{errorType:"initializeError",errorDesc:"InitializeError with loc, reporting, age-gating : "+w.message})}this.videoMetadata&&this.videoMetadata.videoFiles&&this.videoMetadata.videoFiles.length||
(this.hasDataError=!0,this.locReady&&this.showDataError())}};A.prototype.finishPlayerLoad=function(){var q=this.ageGateHelper.doesUserPassAgeGate(),w=!1;this.ageGateHelper.didUserSubmitAge()&&(this.reportEvent(F.PlayerEvents.AgeGateSubmitClick,{ageGatePassed:q}),this.ageGateHelper.resetAgeGateSubmit(),w=!0);if(q){try{this.triggerPlayPauseContainer&&!this.playerData.options.autoplay&&this.playPauseButton&&(f.removeClass(this.playPauseButton,"glyph-pause"),f.addClass(this.playPauseButton,"glyph-play"),
this.setAriaLabelForButton(this.playPauseButton),f.setText(this.playPauseTooltip,this.locPlay));this.contextMenu=new P.ContextMenu(this.customizedContextMenuContainer,this);this.initializeVideoControls();if(!this.isVideoPlayerSupported){this.displayErrorWithDownloadLink();return}this.analyzeVideoFiles();this.initializeClosedCaptions();this.hasInteractivity=!v.Environment.isMobile&&this.playerOptions.interactivity&&this.videoMetadata.interactiveTriggersEnabled&&!!this.videoMetadata.interactiveTriggersUrl;
this.interactiveTriggersHelper||this.initializeInteractiveTriggers()}catch(n){this.reportEvent(F.PlayerEvents.PlayerError,{errorType:"initializeError",errorDesc:"InitializeError with video files, CC, interactiveTrigger: "+n.message})}this.videoTag?(this.videoTag.title=this.videoMetadata.title,this.videoTag.loop=this.playerOptions.loop,this.videoMetadata.posterframeUrl&&!this.playerOptions.hidePosterFrame&&(this.videoTag.poster=this.videoMetadata.posterframeUrl)):this.reportEvent(F.PlayerEvents.PlayerError,
{errorType:"videoTagNotAvailable",errorDesc:"VideoTag not available"});this.videoWrapper=this.getVideoWrapper();this.playerTechnology="OnePlayer_"+this.videoWrapper.getWrapperName();this.commonPlayerImpressionReported||(this.reportEvent(F.PlayerEvents.CommonPlayerImpression),this.commonPlayerImpressionReported=!0);this.playerOptions.lazyLoad||(w?this.hasInteractivity?this.loadVideoWrapper(!1):this.loadVideoWrapper(!0):this.hasInteractivity?this.loadVideoWrapper(!1):this.loadVideoWrapper(this.playerOptions.autoplay));
this.reportEvent(F.PlayerEvents.Ready);this.updateState(l.PlayerStates.PlayerLoaded);this.canPlay=!0}else this.displayErrorMessage({title:this.localizationHelper.getLocalizedValue(D.playerLocKeys.agegate_fail)})};A.prototype.setAriaLabelForButton=function(q,w){""!==this.videoMetadata.title?q.setAttribute("aria-label",this.locPlay.toLowerCase()+" "+this.videoMetadata.title):w?q.setAttribute("aria-label",w.toLowerCase()):q.setAttribute("aria-label",this.locPlayVideo.toLowerCase())};A.prototype.updatePlayerSource=
function(q){var w=this;q&&(this.playerData.options=new c.PlayerOptions(q.options),this.playerData.metadata=q.metadata,this.isFirstTimePlayed=!0,this.wrapperLoadCalled=this.isContentStartReported=!1,!this.playerData.metadata||!this.playerData.metadata.videoId||this.playerData.metadata.videoFiles&&this.playerData.metadata.videoFiles.length||this.playerData.metadata.playerName?(this.pause(),this.load(this.playerData)):(new Q.VideoShimDataFetcher(this.playerData.options.shimServiceEnv,this.playerData.options.shimServiceUrl)).getMetadata(this.playerData.metadata.videoId,
function(n){w.pause();w.playerData.metadata=n;w.load(w.playerData)}))};A.prototype.displayErrorWithDownloadLink=function(){var q=this.getVideoFileforDownload();this.playerOptions.download&&q?(q='\x3ca href\x3d"'+q.url+'"\x3e\x3cspan style\x3d"text-decoration:underline"\x3e'+this.localizationHelper.getLocalizedValue(D.playerLocKeys.download_video)+"\x3c/span\x3e\x3c/a\x3e",q=this.localizationHelper.getLocalizedValue(D.playerLocKeys.browserunsupported)+" "+this.localizationHelper.getLocalizedValue(D.playerLocKeys.browserunsupported_download)+
" "+q+"."):q=this.localizationHelper.getLocalizedValue(D.playerLocKeys.browserunsupported);this.displayErrorMessage({message:q});this.reportEvent(F.PlayerEvents.ContentError,{errorType:"content:error",errorDesc:"error to play video",errorMessage:"error to play video, browser not supportted"})};A.prototype.showDataError=function(){this.playerOptions&&!0===this.playerOptions.showImageForVideoError&&this.videoMetadata&&this.videoMetadata.posterframeUrl?(this.hideTrigger(),this.disablePlayPauseTrigger(),
this.displayImage(this.videoMetadata.posterframeUrl)):this.displayErrorMessage({title:this.localizationHelper.getLocalizedValue(D.playerLocKeys.data_error)});this.dataErrorShown=!0};A.prototype.checkTimeRemainingCheckpoint=function(q){if(this.playerData.options.timeRemainingCheckpoint){var w=this.playerData.options.timeRemainingCheckpoint;w>=q&&!this.timeRemainingCheckpointReached?(this.timeRemainingCheckpointReached=!0,this.reportEvent("TimeRemainingCheckpoint")):w<q&&(this.timeRemainingCheckpointReached=
!1)}};A.prototype.analyzeVideoFiles=function(){this.hasAdaptive=this.hasProgressive=this.hasHLS=!1;for(var q=0,w=this.videoMetadata.videoFiles;q<w.length;q++)switch(w[q].mediaType){case b.MediaTypes.DASH:case b.MediaTypes.SMOOTH:this.hasAdaptive=!0;break;case b.MediaTypes.HLS:this.hasHLS=!0;break;default:this.hasProgressive=!0}this.useAdaptive=this.hasAdaptive&&(this.playerOptions&&this.playerOptions.useAdaptive||!this.hasProgressive)};A.prototype.loadVideoWrapper=function(q){this.videoWrapper&&(v.Environment.isMobile&&
(q=!1),this.wrapperLoadCalled=!0,B.PlayerUtility.createVideoPerfMarker(this.playerId,G.videoPerfMarkers.wrapperLoadStart),this.videoWrapper.load(this.videoComponent,q,this.onVideoWrapperLoaded,this.onVideoWrapperLoadFailed,this.onSetAudioCallback))};A.prototype.initializeInteractiveTriggers=function(){var q=this;this.hasInteractivity&&(this.interactiveTriggersHelper=new I.VideoPlayerInteractiveTriggersHelper(this.playerContainer,this.videoMetadata.interactiveTriggersUrl,this,this.localizationHelper,
function(w,n){q.reportInteractiveTelemetryEvent(w,n)}))};A.prototype.reportInteractiveTelemetryEvent=function(q,w){switch(q){case F.PlayerEvents.InteractiveOverlayClick:w&&w.overlay.overlayData.pauseVideoOnClick&&this.pause();w.overlay.overlayType===I.OverlayType.VideoBranch&&(w.overlay.overlayData.linkUrl=w.overlay.overlayData.videoId);this.reportEvent(F.PlayerEvents.InteractiveOverlayClick,{interactiveTriggerAndOverlay:w});w.overlay.overlayType===I.OverlayType.VideoBranch&&this.currentVideoStopwatchPlaying.reset();
break;case F.PlayerEvents.InteractiveOverlayMaximize:this.reportEvent(F.PlayerEvents.InteractiveOverlayMaximize,{interactiveTriggerAndOverlay:w});break;case F.PlayerEvents.InteractiveOverlayMinimize:this.reportEvent(F.PlayerEvents.InteractiveOverlayMinimize,{interactiveTriggerAndOverlay:w});break;case F.PlayerEvents.InteractiveBackButtonClick:this.reportEvent(F.PlayerEvents.InteractiveBackButtonClick)}};A.prototype.initializeVideoControls=function(){var q=this;if(!v.Environment.useNativeControls){this.videoControlsContainer=
f.selectFirstElement(m.VideoControls.selector,this.videoComponent);f.addEvents(this.videoControlsContainer,"contextmenu",this.videoControlsContainerEventHandler,!0);var w=!v.Environment.useNativeControls&&this.playerOptions&&this.playerOptions.controls&&!this.areControlsInitialized,n=w&&!this.playerOptions.trigger&&!this.isTriggerShown();this.controlsScreenManagerObject={HtmlObject:this.videoControlsContainer,Height:44,Id:null,IsVisible:!1,Priority:5,Transition:null};this.screenManagerHelper.registerElement(this.controlsScreenManagerObject);
this.videoControlsContainer&&(w&&(this.areControlsInitialized=!0,this.videoControlsContainer.setAttribute("aria-hidden","false"),this.videoControls=new m.VideoControls(this.videoControlsContainer,this,this.localizationHelper,this.contextMenu),this.videoControls.addUserInteractionListener(function(){q.showControlsBasedOnState()})),n||(this.videoControlsTabbableElements=f.selectElementsT(V.DialogTabbableSelectors,this.videoControlsContainer),this.videoControlsContainer.setAttribute("aria-hidden","true"),
this.addHiddenAttr(this.videoControlsTabbableElements)),!this.playerOptions.showControlOnLoad&&this.showcontrolFirstTime&&(this.videoControlsContainer.setAttribute("aria-hidden","true"),this.addHiddenAttr(this.videoControlsTabbableElements)))}};A.prototype.getQualityMenu=function(){if(!this.videoMetadata.videoFiles||!this.videoMetadata.videoFiles.length)return null;var q=[];if(this.hasAdaptive&&this.playerOptions&&this.playerOptions.useAdaptive){var w=this.videoWrapper.getVideoTracks();if(!q.length&&
w&&1<w.length){var n=this.videoWrapper.getCurrentVideoTrack();q.push({id:this.addIdPrefix("auto"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.quality_auto),selected:n.auto,selectable:!0,persistOnClick:!0});for(var x=0;x<w.length;x++){var H=w[x];q.push({id:this.addIdPrefix("video-"+x),label:B.PlayerUtility.toFriendlyBitrateString(H.bitrate),selected:!n.auto&&n.trackIndex===x,selectable:!0,persistOnClick:!0})}}}else if(!q.length)for(w=this.currentVideoFile&&this.currentVideoFile.quality,
n=0;n<W.length;n++)x=W[n],(H=this.getVideoFileByQuality(x))&&H.url&&(x={id:this.addIdPrefix(b.MediaQuality[x]),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys["quality_"+b.MediaQuality[x].toLowerCase()]),data:H.url,selected:H.quality===w,selectable:!0,persistOnClick:!0},q.push(x));return{category:"quality",id:this.addIdPrefix("quality"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.quality),items:q}};A.prototype.getAudioTracksMenu=function(){var q=this.videoWrapper.getAudioTracks();
if(!q||1>=q.length)return null;for(var w=0,n=0;n<q.length;n++){var x=q[n];x.isDescriptiveAudio&&w++}n=[];for(var H=this.videoWrapper.getCurrentAudioTrack(),L=0;L<q.length;L++){x=q[L];var O=null;if(x.isDescriptiveAudio){var R=this.localizationHelper.getLocalizedValue(D.playerLocKeys.descriptive_audio);1<w&&(x=this.localizationHelper.getLanguageNameFromLocale(x.languageCode),R=R+" - "+x)}else R=this.localizationHelper.getLanguageNameFromLocale(x.languageCode),O=this.localizationHelper.getLanguageCodeFromLocale(x.languageCode.toLowerCase());
x={label:R,language:O,id:this.addIdPrefix("audio-"+L),selected:L===H,selectable:!0,persistOnClick:!0};n.push(x)}return{category:"audio-tracks",id:this.addIdPrefix("audio-tracks"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.audio_tracks),items:n}};A.prototype.getClosedCaptionsSettingsMenu=function(){if(this.closedCaptionsSettings){var q=this.closedCaptionsSettings.getCurrentSettings(),w=[];for(L in p.closedCaptionsSettingsMap)if(p.closedCaptionsSettingsMap.hasOwnProperty(L)){var n=
p.closedCaptionsSettingsOptions[p.closedCaptionsSettingsMap[L].option],x=[],H;for(H in n.map)n.map.hasOwnProperty(H)&&x.push({id:this.getCCMenuItemId(L,H),label:this.localizationHelper.getLocalizedValue(n.pre+H),selectable:!0,selected:q[L]===H,persistOnClick:!0,data:L+":"+H});w.push({id:this.addIdPrefix(L+"_item"),label:this.localizationHelper.getLocalizedValue("cc_"+L),selectable:!1,subMenu:{id:this.getCCSettingsMenuId(L),category:"cc-settings",items:x,label:this.localizationHelper.getLocalizedValue("cc_"+
L)}})}w={id:this.addIdPrefix("cc-settings"),category:"cc-settings",label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.cc_customize),items:w};var L=[];for(var O in p.closedCaptionsPresetMap)p.closedCaptionsPresetMap.hasOwnProperty(O)&&(x=p.closedCaptionsPresetMap[O],n=x.text_font,x=x.text_color,n=e.format(this.localizationHelper.getLocalizedValue(D.playerLocKeys.cc_presettings),"",this.localizationHelper.getLocalizedValue(D.playerLocKeys.cc_text_font),this.localizationHelper.getLocalizedValue("cc_font_name_"+
n),this.localizationHelper.getLocalizedValue(D.playerLocKeys.cc_text_color),this.localizationHelper.getLocalizedValue("cc_color_"+x)),L.push({id:this.getCCMenuItemId(p.VideoClosedCaptionsSettings.presetKey,O),label:this.localizationHelper.getLocalizedValue("cc_"+O),data:"preset:"+O,selectable:!0,selected:q[p.VideoClosedCaptionsSettings.presetKey]===O,persistOnClick:!0,ariaLabel:n}));L.length&&(L.push({id:this.addIdPrefix("cc-customize"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.cc_customize),
subMenu:w}),L.push({id:this.addIdPrefix("cc-reset"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.cc_reset),data:"reset",persistOnClick:!0}));q={id:this.getCCSettingsMenuId(p.VideoClosedCaptionsSettings.presetKey),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.cc_appearance),category:"cc-settings",items:L};this.ccSettingsMenuId=q.id;return q}};A.prototype.getCCSettingsMenuId=function(q){return this.addIdPrefix("cc-"+q)};A.prototype.getCCMenuItemId=function(q,w){return this.addIdPrefix("cc-"+
q+"-"+w)};A.prototype.getClosedCaptionMenu=function(){if(!(this.videoMetadata&&this.videoMetadata.ccFiles&&this.videoMetadata.ccFiles.length&&this.ccOverlay&&this.closedCaptions))return null;for(var q=k.getValueFromSessionStorage(A.ccLangPrefKey),w=this.playerOptions&&this.playerOptions.autoCaptions,n=null,x=[],H=!1,L=0,O=this.videoMetadata.ccFiles;L<O.length;L++){var R=O[L];if(!R.ccType||R.ccType===b.ClosedCaptionTypes.TTML){H||(H=R.locale===q);!n&&-1<R.locale.indexOf(w)&&(n=R.locale);var Y=this.localizationHelper.getLanguageCodeFromLocale(R.locale.toLowerCase());
R={id:this.addIdPrefix(R.locale),label:D.ccCultureLocStrings[R.locale],language:Y,data:R.url,selected:!1,selectable:!0,persistOnClick:!0,ariaLabel:D.ccCultureLocStrings[R.locale]+" "+this.localizationHelper.getLocalizedValue(D.playerLocKeys.closecaption)};x.push(R)}}x.push({id:this.addIdPrefix("appearance"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.cc_appearance),selected:!1,selectable:!1,subMenu:this.getClosedCaptionsSettingsMenu()});if(q=H?q:n){w=this.addIdPrefix(q);for(n=
0;n<x.length;n++)H=x[n],H.id===w&&(H.selected=!0);this.setCC(w)}x.unshift({id:this.addIdPrefix("off"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.closecaption_off),selected:!q,selectable:!0,persistOnClick:!0,ariaLabel:this.localizationHelper.getLocalizedValue(D.playerLocKeys.closecaption_off)+" "+this.localizationHelper.getLocalizedValue(D.playerLocKeys.closecaption)});return{category:"close-caption",id:this.addIdPrefix("close-caption"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.closecaption),
items:x,hideBackButton:!0,glyph:"glyph-subtitles",cssClass:"closed-caption",priority:3}};A.prototype.getPlaybackRateMenu=function(){if(!this.playerOptions||!this.playerOptions.playbackSpeed||!this.videoWrapper||"amp"===this.videoWrapper.getWrapperName())return null;for(var q=k.getValueFromSessionStorage(A.playbackRatePrefKey)||u.PlayerConfig.defaultPlaybackRate,w=[],n=0,x=u.PlayerConfig.playbackRates;n<x.length;n++){var H=x[n],L=H===+q,O=1===H?this.localizationHelper.getLocalizedValue(D.playerLocKeys.playbackspeed_normal):
H+"x";H={id:this.addIdPrefix("rate"+H),label:O,selected:L,selectable:!0,persistOnClick:!0};w.push(H)}this.setPlaybackRate(this.addIdPrefix("rate"+q));return{category:"playback-speed",id:this.addIdPrefix("playback-speed"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.playbackspeed),items:w}};A.prototype.getShareMenu=function(){if(!this.playerOptions||!this.playerOptions.share)return null;var q=C.SharingHelper.getShareOptionsData(this.localizationHelper,this.playerOptions,this.videoMetadata&&
this.videoMetadata.shareUrl);if(q&&q.length){for(var w=[],n=0;n<q.length;n++){var x=q[n];x={id:this.addIdPrefix(x.id),label:x.label,data:x.url,glyph:x.glyph,image:x.image};w.push(x)}return{category:"share",id:this.addIdPrefix("share"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.sharing_label),items:w}}};A.prototype.getDownloadMenu=function(){if(this.videoMetadata&&this.videoMetadata.downloadableFiles&&!(1>this.videoMetadata.downloadableFiles.length)){for(var q={},w=0,n=0,x=this.videoMetadata.downloadableFiles;n<
x.length;n++){var H=x[n];if(this.playerOptions&&this.playerOptions.download){var L=q[H.locale];L||(L=[],w++,q[H.locale]=L);L.push(H)}else H.mediaType===b.DownloadableMediaTypes.transcript&&(L=q[H.locale],L||(L=[],w++,q[H.locale]=L),L.push(H))}if(0<w){w=[];for(var O in q)if(q.hasOwnProperty(O)){n=[];x=0;for(L=q[O];x<L.length;x++)H=L[x],this.playerOptions&&this.playerOptions.download?(H={id:this.addIdPrefix(H.locale+"-"+H.mediaType),label:this.localizationHelper.getLocalizedMediaTypeName(H.mediaType),
selected:!1,selectable:!1,data:H.url},n.push(H)):H.mediaType===b.DownloadableMediaTypes.transcript&&(H={id:this.addIdPrefix(H.locale+"-"+H.mediaType),label:this.localizationHelper.getLocalizedMediaTypeName(H.mediaType),selected:!1,selectable:!1,data:H.url},n.push(H));w.push({id:this.addIdPrefix("download"+O),label:this.localizationHelper.getLanguageNameFromLocale(O),selected:!1,selectable:!1,subMenuId:this.addIdPrefix("download"+O+"menu"),subMenu:{id:this.addIdPrefix("download"+O+"menu"),category:"download",
label:this.localizationHelper.getLanguageNameFromLocale(O),items:n}})}return{category:"download",id:this.addIdPrefix("download"),label:this.localizationHelper.getLocalizedValue(D.playerLocKeys.download_label),hideBackButton:!0,items:w,glyph:"glyph-download",priority:2}}}};A.prototype.setupCustomizeContextMenu=function(){var q=[],w=this.getPlayPauseMenu();q.push(w);this.playerData.options.playPauseTrigger||(w=this.getMuteUnMuteMenu(),q.push(w));this.contextMenu.setupCustomizeContextMenu(q);this.customizedContextMenu=
f.selectFirstElement(".f-player-context-menu",this.playerContainer)};A.prototype.getMuteUnMuteMenu=function(){if(this.isMuted()){var q=this.locUnmute;var w="glyph-volume"}else q=this.locMute,w="glyph-mute";return{id:"context-menu-mute-unMute",label:q,glyph:w,priority:2,category:"mute-unMute"}};A.prototype.getPlayPauseMenu=function(){if(this.isPaused()){var q=this.locPlay;var w="glyph-play"}else q=this.locPause,w="glyph-pause";return{id:"context-menu-play-pause",label:q,glyph:w,priority:1,category:"play-pause"}};
A.prototype.setupPlayerMenus=function(){if(this.videoControls&&this.videoMetadata){var q=[],w=this.getQualityMenu();w&&w.items.length&&q.push(w);(w=this.getAudioTracksMenu())&&w.items.length&&q.push(w);(w=this.getDownloadMenu())&&w.items.length&&q.push(w);(w=this.getClosedCaptionMenu())&&w.items.length&&q.push(w);(w=this.getPlaybackRateMenu())&&w.items.length&&q.push(w);(w=this.getShareMenu())&&w.items.length&&q.push(w);this.videoControls.setupPlayerMenus(q);if(this.ccSettingsMenuId&&(w=f.selectFirstElement("#"+
this.ccSettingsMenuId,this.videoControlsContainer)))for(q=0,w=f.selectElementsT("button",w);q<w.length;q++){var n=w[q];0<=n.innerHTML.toLowerCase().indexOf("preset")?(f.addEvents(n,"mouseover focus",this.onCcPresetFocus),f.addEvents(n,"mouseout blur",this.onCcPresetBlur)):f.addEvents(n,"mouseover focus",this.onCcPresetBlur)}}};A.prototype.dispose=function(){this.hideErrorMessage();this.unbindEvents();this.stop();this.updateState(l.PlayerStates.Stopped);this.videoTag=null;this.videoWrapper&&this.videoWrapper.dispose();
this.interactiveTriggersHelper&&this.interactiveTriggersHelper.dispose();this.inviewManager&&this.registedInviewManagerAlready&&this.inviewManager.disposePlayer(this)};A.prototype.restoreSettings=function(){if(this.playerOptions.mute||"1"===k.getValueFromSessionStorage(A.mutePrefKey))this.isVideoMuted=!0,this.mute(!1);else{var q=parseInt(k.getValueFromSessionStorage(A.volumePrefKey),10);this.lastVolume=k.isNumber(q)?q/10:u.PlayerConfig.defaultVolume;this.setVolume(this.lastVolume)}this.videoControls&&
this.videoControls.updateVolumeState()};A.prototype.checkReplacedVideoTag=function(){var q=this,w=f.selectFirstElementT("video",this.playerContainer);w&&w!==this.videoTag&&(this.videoTag=w,this.videoTag.tabIndex=-1,this.videoTag.style.cursor="pointer",this.videoTag.playsInline=!0,this.videoTag.setAttribute("aria-hidden","true"),v.Environment.isIProduct?f.addEvents(this.videoTag,f.eventTypes[f.eventTypes.touchstart],function(){q.videoTag.controls=!0}):f.addEvents(this.videoTag,f.eventTypes[f.eventTypes.click],
this.onVideoPlayerClicked))};A.prototype.loadVideo=function(){var q=this;if(this.locReady){if(!this.videoTag)return null;this.checkReplacedVideoTag();this.restoreSettings();this.bindEvents();this.videoMetadata&&this.videoMetadata.posterframeUrl&&!this.playerOptions.hidePosterFrame&&this.videoWrapper.setPosterFrame(this.videoMetadata.posterframeUrl);(this.currentVideoFile=this.getVideoFileToPlay())&&this.setVideoSrc(this.currentVideoFile);v.Environment.isMobile&&this.videoMetadata.ccFiles&&this.videoWrapper.addNativeClosedCaption(this.videoMetadata.ccFiles,
b.ClosedCaptionTypes.VTT,this.localizationHelper);this.setupPlayerMenus();this.showControlsBasedOnState()}else setTimeout(function(){q.loadVideo()},50)};A.prototype.displayPreRollAndPlayContent=function(){var q=this;this.playerState===l.PlayerStates.Ended&&(this.reportEvent(F.PlayerEvents.Replay),this.updateState("ready"));if(this.hasInteractivity)if(this.interactiveTriggersHelper.isInteractivityJSONReady){var w=this.videoWrapper,n="";w.ampPlayer&&w.ampPlayer.techName&&(n=w.ampPlayer.techName.toLowerCase());
if(0<=n.indexOf("flash")&&(w=f.selectFirstElementT(".f-video-player",this.playerContainer),"loading"===this.playerState||"init"===this.playerState||w.classList.contains("vjs-loading")||w.classList.contains("vjs-waiting"))){setTimeout(function(){q.displayPreRollAndPlayContent()},50);return}this.reportContentStart();this.interactiveTriggersHelper.displayPreRoll(function(){q.play()})}else setTimeout(function(){q.displayPreRollAndPlayContent()},50);else this.play()};A.prototype.reportContentStart=function(){this.isFirstTimePlayed&&
!this.isContentStartReported&&(this.isFirstTimePlayed=!1,this.isContentStartReported=!0,this.reportEvent(F.PlayerEvents.ContentStart))};A.prototype.bindEvents=function(){this.areMediaEventsBound||(this.areMediaEventsBound=!0,this.videoWrapper.bindVideoEvents(this.onMediaEvent),f.addEvents(this.videoComponent,"mousemove mouseout",this.onMouseEvent),f.addEvents(this.videoComponent,"keydown",this.onKeyboardEvent),f.addEvents(window,"onBeforeUnload",this.onBeforeUnload),this.addFullscreenEvents(),f.addEvents(this.ccOverlay,
f.eventTypes[f.eventTypes.click],this.onVideoPlayerClicked),this.checkReplacedVideoTag(),f.addThrottledEvent(window,f.eventTypes.resize,this.onWindowResize))};A.prototype.unbindEvents=function(){f.removeEvents(this.videoComponent,"mousemove mouseout",this.onMouseEvent);f.removeEvents(this.videoComponent,"keydown",this.onKeyboardEvent);f.removeEvents(this.ccOverlay,f.eventTypes[f.eventTypes.click],this.onVideoPlayerClicked);f.removeEvents(window,"onBeforeUnload",this.onBeforeUnload);f.removeEvents(window,
"resize",this.onWindowResize);this.removeFullscreenEvents()};A.prototype.setVideoSrc=function(q){if(q&&q.url&&this.videoWrapper){this.updateState(l.PlayerStates.Loading);q=[q];var w=this.getFallbackVideoFile();if(w){for(var n=!1,x=0;x<q.length;x++)if(q[x].url===w.url){n=!0;break}n||q.push(this.getFallbackVideoFile())}this.videoWrapper.setSource(q);this.setAutoPlayNeeded&&this.videoWrapper.setAutoPlay()}};A.prototype.reportEvent=function(q,w){w=this.getReport(w);this.logMessage("Event reported : "+
F.PlayerEvents[q]+" | data : "+JSON.stringify(w));for(var n=0,x=this.reporters;n<x.length;n++)x[n].reportEvent(q,w);f.customEvent(this.videoComponent,F.PlayerEvents[q],{detail:w});n=0;for(x=this.playerEventCallbacks;n<x.length;n++){var H=x[n];H&&H({name:F.PlayerEvents[q],data:w})}};A.prototype.getVideoWrapper=function(){return this.playerOptions&&"nativeplayer"===this.playerOptions.corePlayer?new t.NativeVideoWrapper:this.playerOptions&&"hasplayer"===this.playerOptions.corePlayer?new h.HasPlayerVideoWrapper:
this.playerOptions&&"hlsplayer"===this.playerOptions.corePlayer?new r.HlsPlayerVideoWrapper:this.playerOptions&&"amp"===this.playerOptions.corePlayer||this.useAdaptive?new d.AmpWrapper(this.playerOptions.useAMPVersion2):new a.Html5VideoWrapper(this)};A.prototype.hideControlPanel=function(){this.controlPanelTimer&&(window.clearTimeout(this.controlPanelTimer),this.controlPanelTimer=0);this.areControlsVisible&&(v.Environment.useNativeControls?this.videoTag&&(this.videoTag.controls=!1):this.videoControlsContainer&&
!f.hasClass(this.videoControlsContainer,A.hideControlsClass)&&(this.screenManagerHelper.updateElementDisplay(this.controlsScreenManagerObject,!1),this.ccOverlay&&this.closedCaptions&&this.videoWrapper&&this.closedCaptions.updateCaptions(this.getPlayPosition().currentTime)),this.videoControls&&(this.videoControls.prepareToHide(),this.videoControls.hideControls()),this.areControlsVisible=!1)};A.prototype.showControlPanel=function(q){var w=this;void 0===q&&(q=!0);if(!(this.playerOptions&&!this.playerOptions.controls||
this.isTriggerShown()||this.playerOptions&&!this.playerOptions.showControlOnLoad&&this.showcontrolFirstTime)){this.controlPanelTimer&&(window.clearTimeout(this.controlPanelTimer),this.controlPanelTimer=0);this.areControlsVisible||(v.Environment.useNativeControls?this.videoTag&&(this.videoTag.controls=!0):this.videoControlsContainer&&!f.hasClass(this.videoControlsContainer,A.showControlsClass)&&(this.screenManagerHelper.updateElementDisplay(this.controlsScreenManagerObject,!0),this.ccOverlay&&this.closedCaptions&&
this.videoWrapper&&this.closedCaptions.updateCaptions(this.getPlayPosition().currentTime),this.videoControls.resetSlidersWorkaround()),this.areControlsVisible=!0);var n=null;n=null!==this.playerOptions.controlPanelTimeout?this.playerOptions.controlPanelTimeout:A.controlPanelTimeout;q&&(this.controlPanelTimer=window.setTimeout(function(){w.hideControlPanel()},n))}};A.prototype.stopMedia=function(q,w){this.logMessage("StopMedia invoked");this.firstByteTimer&&(window.clearTimeout(this.firstByteTimer),
this.firstByteTimer=null);this.exitFullScreen();q&&(this.logMessage(w||q),this.updateState(l.PlayerStates.Stopped),this.displayErrorMessage({title:q}),this.reportEvent(F.PlayerEvents.ContentError,{errorType:"content:error",errorDesc:w||q,errorMessage:q}))};A.prototype.setNextCheckpoint=function(){var q=this.getPlayPosition();if(q.endTime)for(var w=0,n=u.PlayerConfig.checkpoints;w<n.length;w++){var x=n[w];if(Math.round(q.currentTime/q.endTime*1E4/100)<=x){this.nextCheckpoint=x;return}}this.nextCheckpoint=
null};A.prototype.getPlayPosition=function(){return this.videoWrapper?this.videoWrapper.getPlayPosition():{currentTime:0,startTime:0,endTime:0}};A.prototype.getBufferedDuration=function(){var q=0;try{q=this.videoWrapper&&this.videoWrapper.getBufferedDuration()}catch(w){throw this.reportEvent(F.PlayerEvents.PlayerError,{errorType:"getBufferedDuration",errorDesc:"GetBufferedDuration: "+w.message}),w;}return q};A.prototype.addPlayerEventListener=function(q){0>this.playerEventCallbacks.indexOf(q)&&this.playerEventCallbacks.push(q)};
A.prototype.removePlayerEventListener=function(q){q=this.playerEventCallbacks.indexOf(q);0<=q&&this.playerEventCallbacks.splice(q,1)};A.prototype.stop=function(){this.seek(0);if(this.videoControls){this.pause();var q=this.getPlayPosition();this.videoControls.setPlayPosition({startTime:q&&q.startTime,endTime:q&&q.endTime,currentTime:q&&q.startTime})}this.closedCaptions&&this.closedCaptions.updateCaptions(0)};A.prototype.isPaused=function(){return this.videoWrapper?this.videoWrapper.isPaused():!1};
A.prototype.isLive=function(){return this.videoWrapper&&this.videoWrapper.isLive()};A.prototype.isPlayable=function(){return this.videoTag?this.canPlay:!1};A.prototype.play=function(){var q=this;this.playerState!==l.PlayerStates.Playing&&this.playerState!==l.PlayerStates.Error&&this.playerState!==l.PlayerStates.Stopped&&this.playerState!==l.PlayerStates.Init&&(this.reportEvent(F.PlayerEvents.Play),this.playerState===l.PlayerStates.Ended?(this.showEndImage&&!v.Environment.isIProduct&&this.endImage&&
this.endImage.container.setAttribute("aria-hidden","true"),this.displayPreRollAndPlayContent()):(this.playerOptions.lazyLoad&&!this.wrapperLoadCalled?(this.playOnDataLoad=!1,this.loadVideoWrapper(!0)):(this.videoWrapper&&(v.Environment.isIProduct||v.Environment.isAndroidModern?this.videoWrapper.play():setTimeout(function(){q.videoWrapper.play()},0)),this.videoControls&&this.videoControls.updatePlayPauseState()),this.triggerPlayPauseContainer&&this.playPauseButton&&(f.removeClass(this.playPauseButton,
"glyph-play"),f.addClass(this.playPauseButton,"glyph-pause"),this.playPauseButton.setAttribute("aria-label",this.locPause),f.setText(this.playPauseTooltip,this.locPause))))};A.prototype.pause=function(q){this.videoWrapper&&this.videoWrapper.pause();this.triggerPlayPauseContainer&&this.playPauseButton&&(f.removeClass(this.playPauseButton,"glyph-pause"),f.addClass(this.playPauseButton,"glyph-play"),v.Environment.isChrome?this.playPauseButton.setAttribute("aria-label",this.locPlay):this.setAriaLabelForButton(this.playPauseButton),
f.setText(this.playPauseTooltip,this.locPlay));this.videoControls&&this.videoControls.updatePlayPauseState();q&&this.reportEvent(F.PlayerEvents.Pause)};A.prototype.seek=function(q){if(k.isNumber(q)&&this.videoWrapper){var w=this.getPlayPosition();q=Math.max(w.startTime,Math.min(q,w.endTime));Math.abs(q-w.currentTime)>=A.positionUpdateThreshold&&(this.setNextCheckpoint(),this.seekFrom=w.currentTime,this.videoWrapper.setCurrentTime(q))}};A.prototype.getVolume=function(){return this.videoWrapper&&this.videoWrapper.getVolume()||
0};A.prototype.setVolume=function(q,w){if(k.isNumber(q)&&this.videoWrapper){q=Math.round(100*Math.max(0,Math.min(q,1)))/100;var n=this.videoWrapper.getVolume();q!==n&&(this.lastVolume=n,this.videoWrapper.setVolume(q),this.lastVolume=q?q:this.lastVolume,w&&(k.saveToSessionStorage(A.volumePrefKey,Math.ceil(10*q).toString()),this.reportEvent(F.PlayerEvents.Volume)),this.isMuted()&&0<q&&this.unmute(w,!0),this.videoControls&&this.videoControls.updateVolumeState())}};A.prototype.isMuted=function(){return this.videoWrapper&&
this.videoWrapper.isMuted()||this.isVideoMuted};A.prototype.mute=function(q){this.lastVolume=this.getVolume();this.setMuted(!0);q&&(k.saveToSessionStorage(A.mutePrefKey,"1"),this.reportEvent(F.PlayerEvents.Mute))};A.prototype.unmute=function(q,w){w||this.setVolume(this.lastVolume||u.PlayerConfig.defaultVolume,!1);this.setMuted(!1);q&&(k.saveToSessionStorage(A.mutePrefKey,"0"),this.reportEvent(F.PlayerEvents.Unmute))};A.prototype.setMuted=function(q){this.videoWrapper&&q!==this.videoWrapper.isMuted()&&
(q?this.videoWrapper.mute():this.videoWrapper.unmute());this.videoControls&&this.videoControls.updateVolumeState()};A.isNativeFullscreenEnabled=function(){var q=document;return q.fullscreenEnabled||q.mozFullScreenEnabled||q.webkitFullscreenEnabled||q.webkitSupportsFullscreen||q.msFullscreenEnabled};A.getElementInFullScreen=function(){var q=document;return q.fullscreenElement||q.mozFullScreenElement||q.webkitFullscreenElement||q.msFullscreenElement};A.prototype.getFullscreenContainer=function(){return v.Environment.useNativeControls?
this.videoTag:this.playerContainer};A.prototype.enterFullScreen=function(){if(A.isNativeFullscreenEnabled()){var q=this.getFullscreenContainer(),w=A.getElementInFullScreen();q&&!w&&(q.requestFullscreen||q.msRequestFullscreen||q.mozRequestFullScreen||q.webkitRequestFullscreen||q.webkitEnterFullScreen).call(q)}};A.prototype.exitFullScreen=function(){if(A.isNativeFullscreenEnabled()){var q=this.getFullscreenContainer(),w=A.getElementInFullScreen();q&&q===w&&(q=document,(q.cancelFullScreen||q.msExitFullscreen||
q.mozCancelFullScreen||q.webkitCancelFullScreen).call(q))}};A.prototype.toggleFullScreen=function(){this.isInFullscreen?this.exitFullScreen():this.enterFullScreen()};A.prototype.isFullScreen=function(){return this.isInFullscreen};A.prototype.addFullscreenEvents=function(){f.addEvents(document,"fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",this.onFullscreenChanged,!1);f.addEvents(document,"fullscreenerror mozfullscreenerror webkitfullscreenerror MSFullscreenError",
this.onFullscreenError,!1);this.videoTag&&(f.addEvents(this.videoTag,"webkitbeginfullscreen",this.onIOSFullscreenEnter,!1),f.addEvents(this.videoTag,"webkitendfullscreen",this.onIOSFullscreenExit,!1))};A.prototype.removeFullscreenEvents=function(){f.removeEvents(document,"fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",this.onFullscreenChanged,!1);f.removeEvents(document,"fullscreenerror mozfullscreenerror webkitfullscreenerror MSFullscreenError",this.onFullscreenError,
!1);this.videoTag&&(f.removeEvents(this.videoTag,"webkitbeginfullscreen",this.onIOSFullscreenEnter,!1),f.removeEvents(this.videoTag,"webkitendfullscreen",this.onIOSFullscreenExit,!1))};A.prototype.onFullscreenEnter=function(){this.isInFullscreen=!0;this.videoControls&&(this.interactiveTriggersHelper?this.resetFocusTrap(this.interactiveTriggersHelper.findInteractivityFocusTrapStart()):this.resetFocusTrap(),this.videoControls.updateFullScreenState());this.reportEvent(F.PlayerEvents.FullScreenEnter)};
A.prototype.onFullscreenExit=function(){this.isInFullscreen=!1;this.videoControls&&(this.videoControls.removeFocusTrap(),this.videoControls.updateFullScreenState());this.reportEvent(F.PlayerEvents.FullScreenExit)};A.prototype.resetFocusTrap=function(q){this.isFullScreen()&&(this.videoControls.removeFocusTrap(),q?this.videoControls.setFocusTrap(q):this.hasInteractivity?this.videoControls.setFocusTrap(q):this.videoControls.setFocusTrap(null))};A.prototype.initializeClosedCaptions=function(){this.ccOverlay=
f.selectFirstElement(".f-video-cc-overlay",this.videoComponent);this.closedCaptions=new g.VideoClosedCaptions(this.ccOverlay,this.onErrorCallback);this.closedCaptionsSettings=new p.VideoClosedCaptionsSettings(this.onErrorCallback);this.ccScreenManagerObject={HtmlObject:this.ccOverlay,Height:0,Id:null,IsVisible:!1,Priority:0,Transition:null};this.screenManagerHelper.registerElement(this.ccScreenManagerObject)};A.prototype.onPlayerMenuItemClick=function(q){if(q&&q.category)switch(q.category){case "close-caption":this.setCC(q.id,
!0);break;case "cc-settings":this.setCCSettings(q);break;case "quality":this.setQuality(q.id);break;case "audio-tracks":this.setAudio(q.id);break;case "share":this.shareVideo(q);break;case "playback-speed":this.setPlaybackRate(q.id,!0);break;case "download":this.downloadMedia(q)}};A.prototype.onPlayerContextMenuItemClick=function(q){if(q&&q.category){switch(q.category){case "play-pause":this.isPaused()?this.play():this.pause(!0);break;case "mute-unMute":this.isMuted()?this.unmute(!0):this.mute(!0)}this.customizedContextMenu.setAttribute("aria-hidden",
"true")}};A.prototype.setCC=function(q,w){if(this.closedCaptions){q=this.removeIdPrefix(q);var n=null;if(q&&this.videoMetadata&&this.videoMetadata.ccFiles)for(var x=0,H=this.videoMetadata.ccFiles;x<H.length;x++){var L=H[x];if(L.locale===q&&(!L.ccType||L.ccType===b.ClosedCaptionTypes.TTML)){n=L;break}}x=this.closedCaptions.getCurrentCcLanguage();this.closedCaptions.setCcLanguage(q,n?n.url:null);w&&k.saveToSessionStorage(A.ccLangPrefKey,q);"off"===q?this.screenManagerHelper.updateElementDisplay(this.ccScreenManagerObject,
!1):this.screenManagerHelper.updateElementDisplay(this.ccScreenManagerObject,!0);this.reportEvent(F.PlayerEvents.ClosedCaptionsChanged,{startcaptionselection:x,endCaptionSelection:q})}};A.prototype.setCCSettings=function(q){if(this.videoControls&&this.closedCaptions&&this.closedCaptionsSettings&&q&&q.data){if("reset"===q.data)this.closedCaptionsSettings.reset();else{var w=q.data.split(":");if(!w&&0>w.length)return;this.closedCaptionsSettings.setSetting(w[0],w[1])}this.closedCaptions.resetCaptions();
this.closedCaptions.updateCaptions(this.getPlayPosition().currentTime);if(w=this.closedCaptionsSettings.getCurrentSettings()){for(var n in w)w.hasOwnProperty(n)&&this.videoControls.updateMenuSelection(this.getCCSettingsMenuId(n),this.getCCMenuItemId(n,w[n]));w[p.VideoClosedCaptionsSettings.presetKey]||this.videoControls.updateMenuSelection(this.getCCSettingsMenuId(p.VideoClosedCaptionsSettings.presetKey))}this.reportEvent(F.PlayerEvents.ClosedCaptionSettingsChanged,{closedCaptionSettings:q.data})}};
A.prototype.setPlaybackRate=function(q,w){(q=this.removeIdPrefix(q))&&this.videoWrapper&&(q=e.startsWith(q,"rate",!1)?q.substring(4):q)&&(this.videoWrapper.setPlaybackRate(+q),w&&k.saveToSessionStorage(A.playbackRatePrefKey,q),this.reportEvent(F.PlayerEvents.PlaybackRateChanged,{playbackRate:q}))};A.prototype.setQuality=function(q){if(q=this.removeIdPrefix(q)){var w=b.MediaQuality[q],n=this.currentMediaQuality,x=this.getVideoFileToPlay(w),H=this.videoWrapper.getCurrentVideoTrack();x&&x.url?(this.currentVideoFile=
x,k.saveToSessionStorage(A.qualityPrefKey,q),this.playOnDataLoad=!this.isPaused(),this.startTimeOnDataLoad=this.getPlayPosition().currentTime,this.setVideoSrc(x),this.reportEvent(F.PlayerEvents.VideoQualityChanged,{startRes:n,endRes:w})):!(w=q.match(/video-(\d+)/))||2>w.length||(w=parseInt(w[1],10),0<=w&&(H=H.auto?"auto":this.videoWrapper.getVideoTracks()[this.videoWrapper.getCurrentVideoTrack().trackIndex].bitrate,this.videoWrapper.switchToVideoTrack(w),q="auto"===q?"auto":this.videoWrapper.getVideoTracks()[w].bitrate,
this.reportEvent(F.PlayerEvents.VideoQualityChanged,{startRes:H,endRes:q})))}};A.prototype.setAudio=function(q){if((q=this.removeIdPrefix(q))&&(q=q.match(/audio-(\d+)/))&&!(2>q.length)&&(q=parseInt(q[1],10),0<=q&&this.isAudioTracksDoneSwitching)){var w=this.videoWrapper.getAudioTracks(),n=this.videoWrapper.getCurrentAudioTrack();n=w[n]?w[n].title:null;w=w[q]?w[q].title:null;this.isAudioTracksDoneSwitching=!1;this.videoWrapper.switchToAudioTrack(q);this.reportEvent(F.PlayerEvents.AudioTrackChanged,
{startTrackSelection:n,endTrackSelection:w})}};A.prototype.shareVideo=function(q){if(q&&q.id){var w=this.removeIdPrefix(q.id);if(w&&q.data)switch(this.reportEvent(F.PlayerEvents.VideoShared,{videoShare:w}),w){case G.shareTypes.copy:C.SharingHelper.tryCopyTextToClipboard(decodeURIComponent(q.data));break;case G.shareTypes.mail:window.location.href=q.data;break;default:window.open(q.data,"_blank")}}};A.prototype.downloadMedia=function(q){if(q&&q.data){window.open(q.data,"_blank");var w=-1!==q.id.indexOf("transcript")?
"transcript":"video";this.reportEvent(F.PlayerEvents.MediaDownloaded,{downloadType:w,downloadMedia:q.data.toString()})}};A.prototype.addIdPrefix=function(q){var w=this.videoComponent&&this.videoComponent.id?this.videoComponent.id+"-":null;return w&&!e.startsWith(q,w,!1)?w+q:q};A.prototype.removeIdPrefix=function(q){var w=this.videoComponent&&this.videoComponent.id?this.videoComponent.id+"-":null;return w&&e.startsWith(q,w,!1)?q.substring(w.length):q};A.prototype.setFocusOnVideoContainerEdge=function(){var q=
this;v.Environment.isEdgeBrowser&&!this.videoElementIsFocus&&(this.videoElementIsFocus=!0,this.playerContainer.setAttribute("tabindex","0"),setTimeout(function(){return q.playerContainer.focus()},100))};A.prototype.showTrigger=function(){this.triggerContainer&&(this.triggerContainer.setAttribute("aria-hidden","false"),f.addEvents(this.triggerContainer,"click keyup",this.triggerContainerEventHandler,!0),v.Environment.isEdgeBrowser&&this.playerContainer.setAttribute("tabindex","-1"));this.playerOptions&&
this.playerOptions.controls&&this.videoControlsContainer&&!v.Environment.useNativeControls&&(this.videoControlsContainer.setAttribute("aria-hidden","true"),this.addHiddenAttr(this.videoControlsTabbableElements))};A.prototype.hideTrigger=function(){this.triggerContainer&&(this.triggerContainer.setAttribute("aria-hidden","true"),this.setFocusOnVideoContainerEdge());this.playerOptions&&this.playerOptions.controls&&this.videoControlsContainer&&!v.Environment.useNativeControls&&(this.videoControlsContainer.setAttribute("aria-hidden",
"false"),this.removeHiddenAttr(this.videoControlsTabbableElements))};A.prototype.showPlayPauseTrigger=function(q){this.triggerPlayPauseContainer&&(q?(f.removeClass(this.playPauseButton,"f-play-pause-hide"),f.addClass(this.playPauseButton,"f-play-pause-show")):(f.addClass(this.playPauseButton,"f-play-pause-hide"),f.removeClass(this.playPauseButton,"f-play-pause-show")))};A.prototype.disablePlayPauseTrigger=function(){this.triggerPlayPauseContainer&&f.removeClass(this.triggerPlayPauseContainer,"f-play-pause-trigger")};
A.prototype.isTriggerShown=function(){return this.triggerContainer&&"false"===this.triggerContainer.getAttribute("aria-hidden")};A.prototype.setTriggerProperties=function(){if(this.localizationHelper&&this.trigger){var q=this.localizationHelper.getLocalizedValue(D.playerLocKeys.play),w=this.localizationHelper.getLocalizedValue(D.playerLocKeys.play_video);this.setAriaLabelForButton(this.trigger,w);f.setText(this.triggerTooltip,q)}};A.prototype.displayErrorMessage=function(q){if(q&&(q.title||q.message)){this.errorMessageDisplayed=
!0;if(this.errorMessage)f.setText(this.errorMessage.title,q.title||""),f.setText(this.errorMessage.message,q.message||""),this.errorMessage.container.setAttribute("aria-hidden","false");else{this.errorMessage={};this.errorMessage.container=document.createElement("div");var w=document.createElement("div");this.errorMessage.title=document.createElement("p");this.errorMessage.message=document.createElement("p");this.errorMessage.container.setAttribute("role","status");this.errorMessage.container.setAttribute("class",
"f-error-message");this.errorMessage.title.setAttribute("class","c-heading");this.errorMessage.message.setAttribute("class","c-paragraph");q.title&&f.setText(this.errorMessage.title,q.title);q.message&&f.setText(this.errorMessage.message,q.message);this.errorMessage.container.appendChild(w);q.title&&w.appendChild(this.errorMessage.title);w.appendChild(this.errorMessage.message);this.playerContainer.appendChild(this.errorMessage.container)}this.updateScreenReaderElement(q.title,!0);this.hideTrigger()}};
A.prototype.displayImage=function(q){q||(q=this.videoMetadata.posterframeUrl);if(this.endImage)f.selectFirstElement(".f-post-image",this.endImage.container).setAttribute("src",q),this.endImage.container.setAttribute("aria-hidden","false");else{this.endImage={};this.endImage.container=document.createElement("div");this.endImage.container.setAttribute("class","f-end-poster-image");this.endImage.container.setAttribute("aria-hidden","false");this.endImage.container.setAttribute("role","none");var w=document.createElement("img");
w.setAttribute("src",q);w.setAttribute("class","f-post-image");w.setAttribute("height","auto");w.setAttribute("width","100%");w.setAttribute("role","none");this.endImage.container.appendChild(w);this.playerContainer.appendChild(this.endImage.container)}};A.prototype.hideImage=function(){this.endImage&&this.endImage.container.setAttribute("aria-hidden","true")};A.prototype.hideErrorMessage=function(){this.errorMessage&&this.errorMessage.container&&(this.errorMessage.container.setAttribute("aria-hidden",
"true"),this.errorMessageDisplayed=!1)};A.prototype.showPosterImage=function(q){this.wrapperLoadCalled||(this.showingPosterImage=!0,this.posterImageUrl=q,this.loadVideoWrapper(!1))};A.prototype.resize=function(){this.videoControls&&(this.videoControls.resetSlidersWorkaround(),this.videoControls.updateReactiveControlDisplay(),this.onWindowResize())};A.prototype.getDefaultMediaQuality=function(){var q=k.getValueFromSessionStorage(A.qualityPrefKey),w=null;q&&(w=b.MediaQuality[q]);w||(w=v.Environment.isMobile?
u.PlayerConfig.defaultQualityMobile:v.Environment.isTV?u.PlayerConfig.defaultQualityTV:u.PlayerConfig.defaultQualityDesktop);return w};A.prototype.getVideoFileforDownload=function(){return this.getVideoFileByQuality(b.MediaQuality.HQ)||this.getVideoFileByType(b.MediaTypes.MP4)};A.prototype.getVideoFileByQuality=function(q){var w=null;if(q&&this.videoMetadata&&this.videoMetadata.videoFiles)for(var n=0,x=this.videoMetadata.videoFiles;n<x.length;n++){var H=x[n];if(H.quality===q){w=H;break}}return w};
A.prototype.getVideoFileByType=function(q){var w=null;if(q&&this.videoMetadata&&this.videoMetadata.videoFiles)for(var n=0,x=this.videoMetadata.videoFiles;n<x.length;n++){var H=x[n];if(H.mediaType===q){w=H;break}}return w};A.prototype.getVideoFileToPlay=function(q){this.currentMediaQuality=q=q||this.getDefaultMediaQuality();var w,n=!1;this.hasHLS&&this.playerOptions&&this.playerOptions.useHLS&&"hlsplayer"===this.playerOptions.corePlayer&&(w=this.getVideoFileByType(b.MediaTypes.HLS))&&w.url&&(n=!0);
n||!this.playerOptions||this.useAdaptive||(w=this.getVideoFileByQuality(q))&&w.url&&(n=!0);n||this.currentVideoFile||(this.useAdaptive&&(w=this.getVideoFileByType(b.MediaTypes.DASH)||this.getVideoFileByType(b.MediaTypes.SMOOTH))&&w.url&&(n=!0),n||(w=this.getVideoFileByType(b.MediaTypes.MP4)));return w};A.prototype.getFallbackVideoFile=function(){return this.getVideoFileByQuality(b.MediaQuality.HQ)||this.getVideoFileByType(b.MediaTypes.MP4)};A.prototype.updateState=function(q){if(q&&q!==this.playerState&&
this.playerState!==l.PlayerStates.Error){this.playerState=q;this.logMessage("Player state updated. New state: "+q);q=null;switch(this.playerState){case l.PlayerStates.Loading:q=F.PlaybackStatus.VideoOpening;this.stopwatchLoading.start();break;case l.PlayerStates.Playing:q=F.PlaybackStatus.VideoPlaying;this.stopwatchPlaying.start();this.currentVideoStopwatchPlaying.start();this.stopwatchBuffering.stop();this.stopwatchLoading.stop();this.isBuffering&&this.stopwatchBuffering.getValue()&&(this.isBuffering=
!1,this.reportEvent(F.PlayerEvents.BufferComplete));break;case l.PlayerStates.Paused:q=F.PlaybackStatus.VideoPaused;this.stopwatchPlaying.stop();this.currentVideoStopwatchPlaying.stop();this.stopwatchLoading.stop();break;case l.PlayerStates.Buffering:q=F.PlaybackStatus.VideoPlaying;this.stopwatchBuffering.start();this.isBuffering=!0;break;case l.PlayerStates.Seeking:this.stopwatchLoading.stop();break;case l.PlayerStates.Ended:q=F.PlaybackStatus.VideoPlayCompleted;this.stopwatchPlaying.stop();this.currentVideoStopwatchPlaying.reset();
this.showEndImage&&!v.Environment.isIProduct&&(this.displayImage(this.videoMetadata.posterframeUrl),this.showTrigger());this.triggerPlayPauseContainer&&this.playPauseButton&&(f.removeClass(this.playPauseButton,"glyph-pause"),f.addClass(this.playPauseButton,"glyph-play"),this.setAriaLabelForButton(this.playPauseButton),f.setText(this.playPauseTooltip,this.locPlay));break;case l.PlayerStates.Error:q=F.PlaybackStatus.VideoPlayFailed,this.stopwatchBuffering.reset(),this.stopwatchLoading.stop(),this.stopwatchPlaying.reset(),
this.currentVideoStopwatchPlaying.reset()}this.videoControls&&(this.videoControls.updatePlayPauseState(),this.videoControls.updateVolumeState());this.setPlaybackStatus(q);this.showControlsBasedOnState();this.showSpinnerBasedOnState()}};A.prototype.setPlaybackStatus=function(q){q&&this.playbackStatus!==q&&(this.playbackStatus=q,this.reportEvent(F.PlayerEvents.PlaybackStatusChanged,{status:q}))};A.prototype.setSpinnerProperties=function(){this.localizationHelper&&this.spinner&&(this.spinner.setAttribute("aria-label",
this.localizationHelper.getLocalizedValue(D.playerLocKeys.loading_aria_label)),this.spinner.setAttribute("aria-valuetext",this.localizationHelper.getLocalizedValue(D.playerLocKeys.loading_value_text)))};A.prototype.showSpinner=function(){this.spinner&&!this.isTriggerShown()&&this.spinner.setAttribute("aria-hidden","false")};A.prototype.hideSpinner=function(){this.spinner&&this.spinner.setAttribute("aria-hidden","true")};A.prototype.showSpinnerBasedOnState=function(){if(this.ageGateHelper&&this.ageGateHelper.ageGateIsDisplayed)this.hideSpinner();
else switch(this.playerState){case l.PlayerStates.Ready:case l.PlayerStates.Playing:case l.PlayerStates.Paused:case l.PlayerStates.Ended:case l.PlayerStates.Stopped:case l.PlayerStates.Error:this.hideSpinner();break;default:this.showSpinner()}};A.prototype.showControlsBasedOnState=function(){switch(this.playerState){case l.PlayerStates.Loading:case l.PlayerStates.Init:case l.PlayerStates.Error:this.hideControlPanel();break;case l.PlayerStates.Ended:this.showEndImage&&!v.Environment.isIProduct?this.hideControlPanel():
this.showControlPanel(!1);break;case l.PlayerStates.Ready:case l.PlayerStates.Paused:case l.PlayerStates.Stopped:this.showControlPanel(!1);break;default:this.showControlPanel(!0)}};A.prototype.updateScreenReaderElement=function(q,w){void 0===w&&(w=!1);this.screenReaderElement&&this.screenReaderElement.innerText!==q&&!w&&(this.screenReaderElement.innerText=q)};A.prototype.setFocusOnPlayButton=function(){this.videoControls&&this.videoControls.setFocusonPlayButton()};A.prototype.getVideoTitle=function(){return this.videoMetadata?
this.videoMetadata.title:""};A.prototype.getReport=function(q){var w=this.getPlayPosition().endTime;return{playerInstanceId:this.playerId,playerTechnology:this.playerTechnology,playerType:this.videoWrapper&&this.videoWrapper.getPlayerTechName(),playbackStatus:F.PlaybackStatus[this.playbackStatus],totalBufferWaitTime:this.stopwatchBuffering&&this.stopwatchBuffering.getValue(),bufferCount:this.stopwatchBuffering&&this.stopwatchBuffering.getIntervals(),errorType:q&&q.errorType,errorDesc:q&&q.errorDesc,
loadTime:this.stopwatchLoading&&this.stopwatchLoading.getFirstValue(),numPlayed:this.stopwatchLoading&&this.stopwatchLoading.getIntervals(),videoDuration:w,videoElapsedTime:this.getPlayPosition().currentTime,seekFrom:q&&q.seekFrom,seekTo:q&&q.seekTo,videoLength:1E3*w,videoSize:k.getDimensions(this.playerContainer),totalTimePlaying:this.stopwatchPlaying&&this.stopwatchPlaying.getTotalValue(),currentVideoTotalTimePlaying:this.currentVideoStopwatchPlaying&&this.currentVideoStopwatchPlaying.getTotalValue(),
currentInterval:this.stopwatchPlaying&&this.stopwatchPlaying.getValue(),eventCheckpointInterval:u.PlayerConfig.eventCheckpointInterval,checkpoint:q&&q.checkpoint,checkpointType:q&&q.checkpointType,currentVideoFile:this.currentVideoFile,videoMetadata:this.videoMetadata,playerOptions:this.playerOptions,interactiveTriggerAndOverlay:q&&q.interactiveTriggerAndOverlay,videoShare:q&&q.videoShare,closedCaptions:q&&q.closedCaptions,closedCaptionSettings:q&&q.closedCaptionSettings,playbackRate:q&&q.playbackRate,
downloadMedia:q&&q.downloadMedia,downloadType:q&&q.downloadType,audioTrack:q&&q.audioTrack,ageGatePassed:q&&q.ageGatePassed,live:this.isLive(),lastVolume:q&&q.lastVolume,newVolume:q&&q.newVolume,startRes:q&&q.startRes,endRes:q&&q.endRes,startTrackSelection:q&&q.startTrackSelection,endTrackSelection:q&&q.endTrackSelection,startCaptionSelection:q&&q.startCaptionSelection,endCaptionSelection:q&&q.endCaptionSelection}};A.prototype.logMessage=function(q){this.playerOptions&&this.playerOptions.debug&&q&&
B.PlayerUtility.logConsoleMessage(q,"Core-Player : "+this.videoComponent.id)};A.prototype.showElement=function(q){q&&q.setAttribute("aria-hidden","false")};A.prototype.hideElement=function(q){q&&q.setAttribute("aria-hidden","true")};A.prototype.addHiddenAttr=function(q){q.forEach(function(w){f.addAttribute(w,[T.AddHidden])})};A.prototype.removeHiddenAttr=function(q){q.forEach(function(w){w.removeAttribute("hidden")})};A.playerContainerSelector=".f-core-player";A.showControlsClass="f-slidein";A.hideControlsClass=
"f-slideout";A.fitControlsClass="f-overlay-slidein";A.volumePrefKey="vidvol";A.mutePrefKey="vidmut";A.qualityPrefKey="vidqlt";A.ccLangPrefKey="vidccpref";A.playbackRatePrefKey="vidrate";A.positionUpdateThreshold=.1;A.controlPanelTimeout=6500;return A}();l.CorePlayer=z});K("controls/context-menu",["require","exports","mwf/utilities/htmlExtensions","mwf/utilities/utility"],function(z,l,m,g){Object.defineProperty(l,"__esModule",{value:!0});l.ContextMenu=void 0;z=function(){function p(k,f){var e=this;
this.contextMenuContainer=k;this.focusedMenuItemIndex=0;this.onContextMenuEvents=function(b,c){switch(b.type){case "click":e.onContextMenuItemClick(b,c);break;case "keyup":32===g.getKeyCode(b)&&m.preventDefault(b);break;case "keydown":e.onContextMenuKeyPressed(b)}};this.onContextMenuItemClick=function(b,c){b=m.getEvent(b);c=m.getEventTargetOrSrcElement(b);m.preventDefault(b);var a=c.parentElement;b=a.id||a.parentElement&&a.parentElement.id;a=c.getAttribute("data-info")||a.getAttribute("data-info");
if(e.videoPlayer)e.videoPlayer.onPlayerContextMenuItemClick({category:c.getAttribute("data-category"),id:b,data:a})};this.videoPlayer=f}p.prototype.initializeCustomPlayerMenus=function(){this.contextMenuContainer&&(this.menuItems=m.selectElements(p.contextMenuSelector+" ul li",this.contextMenuContainer))&&this.menuItems.length&&m.addEvents(this.menuItems,"click keydown keyup",this.onContextMenuEvents)};p.prototype.calcHeightWidthOfContextMenu=function(){if(this.contextMenuContainer){var k=m.selectFirstElement(p.contextMenuSelector,
this.contextMenuContainer);k&&(k.setAttribute("aria-hidden","false"),this.menuHeight=m.getClientRect(k).height,this.menuWidth=m.getClientRect(k).width,k.setAttribute("aria-hidden","true"))}};p.prototype.showMenu=function(k,f){var e=k.offsetX;k=k.offsetY;this.calcHeightWidthOfContextMenu();var b=f.offsetHeight+f.offsetTop;f=f.offsetWidth+f.offsetLeft;var c=k+this.menuHeight+2,a=e+this.menuWidth+2,d=m.selectFirstElement(p.contextMenuSelector,this.contextMenuContainer);d&&(c>b&&(k-=this.menuHeight),
a>f&&(e-=this.menuWidth),m.css(d,"left",e+"px"),m.css(d,"top",k+"px"),d.setAttribute("aria-hidden","false"))};p.prototype.checkContextMenuIsVisible=function(){if(this.contextMenuContainer){var k=m.selectFirstElement(p.contextMenuSelector,this.contextMenuContainer);if(k)return"false"===k.getAttribute("aria-hidden")}return!1};p.prototype.setFocusOnFirstElement=function(){this.contextMenuContainer&&(this.menuItems=m.selectElements(p.contextMenuSelector+" ul li",this.contextMenuContainer))&&this.menuItems.length&&
this.setFocus(m.selectFirstElement("button",this.menuItems[0]))};p.prototype.onContextMenuKeyPressed=function(k){var f=g.getKeyCode(k),e=m.getEventTargetOrSrcElement(k);e&&e.parentElement;switch(f){case 37:case 39:m.stopPropagation(k);m.preventDefault(k);break;case 13:case 32:m.preventDefault(k);this.onContextMenuItemClick(k,!0);break;case 38:case 40:m.stopPropagation(k);m.preventDefault(k);this.menuItems&&this.menuItems.length&&(38===f?(--this.focusedMenuItemIndex,0>this.focusedMenuItemIndex&&(this.focusedMenuItemIndex=
this.menuItems.length-1)):this.focusedMenuItemIndex=(this.focusedMenuItemIndex+1)%this.menuItems.length,this.setFocus(m.selectFirstElement("button",this.menuItems[this.focusedMenuItemIndex])));break;case 33:case 36:m.stopPropagation(k);m.preventDefault(k);this.menuItems&&0<this.menuItems.length&&this.setFocus(m.selectFirstElement("button",this.menuItems[0]));break;case 35:case 34:m.stopPropagation(k);m.preventDefault(k);this.menuItems&&0<this.menuItems.length&&this.setFocus(m.selectFirstElement("button",
this.menuItems[this.menuItems.length-1]));break;case 27:(k=m.selectFirstElement(p.contextMenuSelector,this.contextMenuContainer))&&k.setAttribute("aria-hidden","true"),this.videoPlayer.setFocusOnPlayButton()}};p.prototype.setupCustomizeContextMenu=function(k){var f=m.selectFirstElement(p.contextMenuSelector,this.contextMenuContainer);f&&this.contextMenuContainer.removeChild(f);var e=1;f="\x3cul role\x3d'menu' class\x3d'c-list f-bare'\x3e";for(var b=0;b<k.length;b++){var c=k[b],a="c-action-trigger active";
a+=c.glyph?" "+c.glyph:"";f+="\x3cli id\x3d'"+c.id+"' role\x3d'presentation'\x3e\n                    \x3cbutton class\x3d'"+a+"'  role\x3d'menuitem'\n                        aria-setsize\x3d'"+k.length+"' \n                        aria-posinset\x3d'"+e++ +"'\n                        aria-label\x3d'"+c.label+"'\n                        data-category\x3d'"+c.category+"'\x3e\n                        "+c.label+"\n                    \x3c/button\x3e\n                \x3c/li\x3e"}k="\x3cdiv class\x3d'f-player-context-menu' aria-hidden\x3d'true'\x3e\n                    "+
(f+"\x3c/ul\x3e\n                \x3c/div\x3e");f=document.createElement("div");f.innerHTML=k;this.contextMenuContainer.appendChild(f.firstChild);this.initializeCustomPlayerMenus()};p.prototype.setFocus=function(k){k&&setTimeout(function(){k.focus()},0)};p.contextMenuSelector=".f-player-context-menu";return p}();l.ContextMenu=z});K("mwf/button/button",["require","exports","mwf/utilities/observableComponent","mwf/utilities/htmlExtensions","mwf/utilities/utility"],function(z,l,m,g,p){Object.defineProperty(l,
"__esModule",{value:!0});l.Button=void 0;z=function(k){function f(e){var b=k.call(this,e)||this;b.handleKeydown=function(c){switch(p.getKeyCode(c)){case 32:g.preventDefault(c),b.emitClickEvent()}};b.update();return b}U(f,k);f.prototype.update=function(){this.element&&"A"===this.element.nodeName&&"button"===(this.element.getAttribute("role")||"").toLowerCase()&&g.addEvent(this.element,g.eventTypes.keydown,this.handleKeydown)};f.prototype.teardown=function(){g.removeEvent(this.element,g.eventTypes.keydown,
this.handleKeydown)};f.prototype.emitClickEvent=function(){g.customEvent(this.element,g.eventTypes.click)};f.selector=".c-button";f.typeName="Button";return f}(m.ObservableComponent);l.Button=z});S(["mwf/button/button","mwf/utilities/componentFactory"],function(z,l){l.ComponentFactory&&l.ComponentFactory.create&&l.ComponentFactory.create([{c:z.Button}])});K("mwf/dialog/dialog","require exports mwf/utilities/publisher mwf/utilities/htmlExtensions mwf/utilities/utility constants/dom-selectors constants/dom-selectors".split(" "),
function(z,l,m,g,p,k,f){Object.defineProperty(l,"__esModule",{value:!0});l.Dialog=void 0;z=function(e){function b(c){var a=e.call(this,c)||this;a.shouldCloseOnEscape=!1;a.isFlowDialog=!1;a.isLightboxDialog=!1;a.handleTriggerClick=function(d){a.activeButton=g.getEventTargetOrSrcElement(d);a.show()};a.handleTriggerKeyDown=function(d){var h=d.keyCode;if(13===h||32===h)g.preventDefault(d),a.activeButton=g.getEventTargetOrSrcElement(d),a.show()};a.show=function(){var d=g.selectElements(b.pageContentContainerSelector);
a.pageContentContainers=[];a.element.setAttribute(b.ariaHidden,"false");a.dialogWrapper.tabIndex=0;a.firstInput.focus();a.onResized();a.bodyOverflowX=g.css(document.body,"overflow-x");a.bodyOverflowY=g.css(document.body,"overflow-y");g.css(document.body,"overflow-x","hidden");g.css(document.body,"overflow-y","hidden");a.container.setAttribute(b.ariaHidden,"true");a.checkOverflow();for(var h=0;h<d.length;h++){var r=d[h],t="true"===r.getAttribute(b.ariaHidden);a.pageContentContainers.push({element:r,
hidden:t});t||r.setAttribute(b.ariaHidden,"true")}a.dialogWrapper.scrollTop=0;a.initiatePublish({notification:1})};a.hide=function(){a.element.setAttribute(b.ariaHidden,"true");g.css(a.dialogWrapper,"height","auto");g.css(document.body,"overflow-x",a.bodyOverflowX);g.css(document.body,"overflow-y",a.bodyOverflowY);a.container.setAttribute(b.ariaHidden,"false");a.dialogWrapper.setAttribute("tabindex","-1");for(var d=0,h=a.pageContentContainers;d<h.length;d++){var r=h[d];r.hidden||r.element.removeAttribute(b.ariaHidden)}a.activeButton&&
a.activeButton.focus();a.activeButton=null;a.pageContentContainers=[];a.initiatePublish({notification:2})};a.triggerClickPublish=function(d){a.initiatePublish({notification:0,button:g.getEventTargetOrSrcElement(d)})};a.onKeydown=function(d){switch(p.getKeyCode(d)){case 13:case 32:-1!==a.closeButtons.indexOf(g.getEventTargetOrSrcElement(d))?(g.preventDefault(d),a.hide()):-1!==a.customButtons.indexOf(g.getEventTargetOrSrcElement(d))&&a.initiatePublish({notification:0,button:g.getEventTargetOrSrcElement(d)});
break;case 27:g.preventDefault(d);a.shouldCloseOnEscape&&a.hide();break;case 9:var h=g.getEventTargetOrSrcElement(d),r=a.getLastFocusableInput();h!==r||d.shiftKey?h===a.firstInput&&d.shiftKey&&(g.preventDefault(d),r.focus()):(g.preventDefault(d),a.firstInput.focus())}};a.onResized=function(){a.checkOverflow();a.handleResponsive()};a.checkOverflow=function(){g.getClientRect(a.dialogWrapper).height<a.dialogWrapper.scrollHeight?a.isScroll||g.css(a.dialogWrapper,"overflow-y","auto"):g.css(a.dialogWrapper,
"overflow-y","hidden")};a.handleResponsive=function(){if("false"===a.element.getAttribute(b.ariaHidden)){var d=g.getClientRect(a.dialogWrapper);a.isFlowDialog&&!a.isScroll?d.height<a.dialogWrapper.scrollHeight?(g.css(a.dialogWrapper,"max-height",b.heightCalculationString),g.css(a.dialogWrapper,"height","100%")):g.css(a.dialogWrapper,"max-height","100%"):a.isScroll&&(d.height+b.heightCalculationValue>window.innerHeight&&"inherit"!==g.css(a.dialogInnerContent,"height")?(g.css(a.dialogWrapper,"height",
b.heightCalculationString),g.css(a.dialogInnerContent,"height","inherit")):"auto"!==g.css(a.dialogInnerContent,"height")&&(g.css(a.dialogWrapper,"height","auto"),d=g.getClientRect(a.dialogWrapper),d.height+b.heightCalculationValue<window.innerHeight?(g.css(a.dialogInnerContent,"height","auto"),a.element.setAttribute(b.ariaHidden,"true"),a.element.setAttribute(b.ariaHidden,"false"),a.checkOverflow()):g.css(a.dialogWrapper,"height",b.heightCalculationString)))}};a.appendDialog=function(){a.ignoreNextDOMChange=
!0;a.element&&a.element.parentElement!==document.body&&document.body.appendChild(a.element)};a.getLastFocusableInput=function(){for(var d=a.dialogInputs.length-1;0<=d;d--)if(!a.dialogInputs[d].hidden&&"disabled"!==a.dialogInputs[d].getAttribute("disabled"))return a.dialogInputs[d];return a.dialogWrapper};a.update();return a}U(b,e);b.prototype.update=function(){if(this.element&&this.element.id&&(this.dialogId=this.element.id,this.dialogWrapper=g.selectFirstElement("div[role\x3ddialog]",this.element),
this.dialogInnerContent=g.selectFirstElement('[role\x3d"document"]',this.element),this.openButtons=g.selectElements("[data-js-dialog-show\x3d"+this.dialogId+"]"),this.closeButtons=g.selectElements(b.closeSelector,this.element),this.dialogInputs=g.selectElements(f.DialogTabbableSelectors,this.element),this.customButtons=g.selectElements(b.customButtonSelector,this.element),this.appendDialog(),this.container=g.selectFirstElement('[data-grid*\x3d"container"]'),this.overlay=g.selectFirstElement('[role\x3d"presentation"]',
this.element),this.isScroll=g.selectFirstElement(b.scrollSelector,this.element),g.hasClass(this.element,"f-flow")&&(this.isFlowDialog=!0),g.hasClass(this.element,"f-lightbox")&&(this.isLightboxDialog=!0),this.dialogWrapper&&this.dialogInputs&&this.dialogInputs.length&&this.container&&this.overlay)){if(this.isLightboxDialog)-1===this.closeButtons.indexOf(this.overlay)&&this.closeButtons.push(this.overlay),this.dialogWrapper.removeAttribute("tabIndex"),this.dialogInputs.splice(1,0,this.dialogWrapper),
this.shouldCloseOnEscape=!0;else if(this.isFlowDialog){for(var c=0;c<this.closeButtons.length;c++){var a=this.closeButtons[c];if(g.hasClass(a,"c-glyph")&&g.hasClass(a,"glyph-cancel")){this.closeButtons.push(this.overlay);this.shouldCloseOnEscape=!0;break}}this.dialogInputs.splice(0,0,this.dialogWrapper)}this.firstInput=this.dialogInputs[0];g.addEvent(this.openButtons,g.eventTypes.click,this.handleTriggerClick);g.addEvent(this.openButtons,g.eventTypes.keydown,this.handleTriggerKeyDown);g.addEvent(this.closeButtons,
g.eventTypes.click,this.hide);g.addEvent(this.customButtons,g.eventTypes.click,this.triggerClickPublish);g.addEvent(this.element,g.eventTypes.keydown,this.onKeydown);this.resizeThrottledEventHandler=g.addThrottledEvent(window,g.eventTypes.resize,this.onResized);if("false"===this.element.getAttribute(b.ariaHidden))this.onResized()}};b.prototype.teardown=function(){g.removeEvent(this.openButtons,g.eventTypes.click,this.handleTriggerClick);g.removeEvent(this.openButtons,g.eventTypes.keydown,this.handleTriggerKeyDown);
g.removeEvent(this.closeButtons,g.eventTypes.click,this.hide);g.removeEvent(this.customButtons,g.eventTypes.click,this.triggerClickPublish);g.removeEvent(this.element,g.eventTypes.keydown,this.onKeydown);g.removeEvent(window,g.eventTypes.resize,this.resizeThrottledEventHandler)};b.prototype.publish=function(c,a){switch(a.notification){case 0:if(c&&c.onButtonClicked)c.onButtonClicked(a);break;case 1:if(c&&c.onShown)c.onShown();break;case 2:if(c&&c.onHidden)c.onHidden()}};b.selector=k.VideoDialogSelectors.DIALOG;
b.typeName="Dialog";b.closeSelector="[data-js-dialog-hide]";b.customButtonSelector='button[type\x3d"button"]';b.ariaHidden="aria-hidden";b.scrollSelector=".f-dialog-scroll";b.heightCalculationValue=24;b.heightCalculationString="calc(100% - "+b.heightCalculationValue.toString()+"px)";b.pageContentContainerSelector='[data-js-controlledby\x3d"dialog"]';return b}(m.Publisher);l.Dialog=z});S(["mwf/selectMenu/selectMenu","mwf/utilities/componentFactory"],function(z,l){l.ComponentFactory&&l.ComponentFactory.create&&
l.ComponentFactory.create([{component:z.SelectMenu}])});S(["mwf/slider/slider","mwf/utilities/componentFactory"],function(z,l){l.ComponentFactory&&l.ComponentFactory.create&&l.ComponentFactory.create([{component:z.Slider}])});K("standalone-apis/oneplayer-css-loader",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.OnePlayerCssLoader=void 0;z=function(){function m(){}m.loadCss=function(g,p){p&&"function"===typeof p&&(m.cssLoaded?p():m.onLoadedCallbacks.push(p));
if(!m.cssLoadTriggered){m.cssLoadTriggered=!0;g=g||"en-us";"%"===m.playerCssHost[0]&&(m.playerCssHost=m.defaultPlayerCssHost);p=document.createElement("link");p.setAttribute("rel","stylesheet");p.setAttribute("type","text/css");if(0<=m.url.indexOf("cached"))p.setAttribute("href",m.playerCssHost+"/"+g+m.playerCachedCssRoute);else if(0<=m.url.indexOf("cache")){var k=m.url.split("?");if(0<k.length){var f="0";k=k[1].split("\x26");for(var e=0;e<k.length;e++){var b=k[e].split("\x3d");"v"===b[0]&&(f=b[1])}}"0"!==
f?p.setAttribute("href",m.playerCssHost+"/"+g+m.playerCacheCssRoute+"?v\x3d"+f):p.setAttribute("href",m.playerCssHost+"/"+g+m.playerCachedCssRoute)}else p.setAttribute("href",m.playerCssHost+"/"+g+m.playerCssRoute);p.onload=function(){m.cssLoaded=!0;for(var c=0,a=m.onLoadedCallbacks;c<a.length;c++){var d=a[c];d&&d()}};p.onerror=function(){m.cssLoadTriggered=!1};document.getElementsByTagName("head")[0].appendChild(p)}};m.playerCssHost="%playerCssHost%";m.url="%url%";m.defaultPlayerCssHost="https://www.microsoft.com";
m.playerCssRoute="/videoplayer/css/oneplayer.css";m.playerCachedCssRoute="/videoplayer/css/cached/oneplayer.css";m.playerCacheCssRoute="/videoplayer/css/cache/oneplayer.css";m.cssLoadTriggered=!1;m.cssLoaded=!1;m.onLoadedCallbacks=[];return m}();l.OnePlayerCssLoader=z});K("standalone-apis/oneplayer-initialize",["require","exports","constants/enums"],function(z,l,m){Object.defineProperty(l,"__esModule",{value:!0});l.VideoPlayerModule=void 0;z=function(){function g(p){var k=this;this.bindVideoPlayerEvents=
function(){k.currentVideoPlayerById.addEventListener("play",function(f){k.triggerPageActionOnVideoPlayPauseEvent(f,window.awa&&window.awa.behavior&&window.awa.behavior.VIDEOSTART||m.awaBehaviorTypes.VIDEOSTART)});k.currentVideoPlayerById.addEventListener("pause",function(f){k.triggerPageActionOnVideoPlayPauseEvent(f,window.awa&&window.awa.behavior&&window.awa.behavior.VIDEOPAUSE||m.awaBehaviorTypes.VIDEOPAUSE)});k.currentVideoPlayerById.addEventListener("timeupdate",function(f){var e=window.awa&&
window.awa.behavior&&window.awa.behavior.VIDEOCHECKPOINT||m.awaBehaviorTypes.VIDEOCHECKPOINT,b=Math.floor(f.target.currentTime);0===b%m.videoCheckpoint.TIME&&k.previousTime!==b&&(k.triggerPageActionOnVideoProgressEvent(f,e),k.previousTime=b)});k.currentVideoPlayerById.addEventListener("ended",function(f){k.triggerPageActionOnVideoEndEvent(f,window.awa&&window.awa.behavior&&window.awa.behavior.VIDEOCOMPLETE||m.awaBehaviorTypes.VIDEOCOMPLETE)})};p&&p.dataset&&p.dataset.video&&(this.playerContainerElementId=
p.getAttribute("id"),this.playerData=JSON.parse(p.dataset.video),this.originalTelemetryDataObject=null,p&&p.dataset&&p.dataset.m&&(this.originalTelemetryDataObject=JSON.parse(p.dataset.m)),this.videoEventsNotBound=!0,this.previousWatchTimePercentage=this.previousTime=0,this.playerAPI=function(f){k.videoPlayer=f;f.addPlayerEventListener(function(e){k.originalTelemetryDataObject&&k.videoEventsNotBound&&(k.playerData.options.autoplay?(e=p.getElementsByClassName("f-video-player"),k.currentVideoPlayerById=
e&&e.length?e[0]instanceof HTMLVideoElement?e[0]:e[0].querySelector(".vjs-tech"):null):(e=p.getElementsByClassName("vjs-tech"),k.currentVideoPlayerById=e&&e.length?e[0]instanceof HTMLVideoElement?e[0]:null:null),k.currentVideoPlayerById instanceof HTMLVideoElement?(k.bindVideoPlayerEvents(),k.videoEventsNotBound=!1):k.videoEventsNotBound=!0)})},this.renderOnePlayer())}g.prototype.renderOnePlayer=function(){var p=this;window.MsOnePlayer.render(this.playerContainerElementId,this.playerData,function(k){p.playerAPI(k)})};
g.prototype.createVideoOverrideValues=function(p,k){var f=Math.round(this.currentVideoPlayerById.currentTime),e=this.originalTelemetryDataObject;return{behavior:k,actionType:p,contentTags:{containerName:"oneplayer",bhvr:k,vidnm:e.vidnm,vidid:e.vidid,viddur:e.viddur,vidwt:f,vidpct:Math.round(100*f/Math.round(this.currentVideoPlayerById.duration)),id:e.id,cN:e.cN,tags:{BiLinkName:e.tags.BiLinkName}}}};g.prototype.triggerPageActionOnVideoPlayPauseEvent=function(p,k){p=Math.round(this.currentVideoPlayerById.currentTime);
var f=window.awa&&window.awa.behavior&&window.awa.behavior.VIDEOREPLAY||m.awaBehaviorTypes.VIDEOREPLAY,e=window.awa&&window.awa.behavior&&window.awa.behavior.VIDEOSTART||m.awaBehaviorTypes.VIDEOSTART,b=window.awa&&window.awa.behavior&&window.awa.behavior.VIDEOCONTINUE||m.awaBehaviorTypes.VIDEOCONTINUE;k=0===p&&this.hasVideoEnded?f:0<p&&k===e?b:k;k=this.createVideoOverrideValues("O",k);this.callPageActionEvent(k)};g.prototype.triggerPageActionOnVideoProgressEvent=function(p,k){p=Math.round(100*Math.round(this.currentVideoPlayerById.currentTime)/
Math.round(this.currentVideoPlayerById.duration));p!==this.previousWatchTimePercentage&&(0<p&&100>p&&0===p%m.videoCheckpoint.PERCENTAGE&&(k=this.createVideoOverrideValues("AT",k),this.callPageActionEvent(k)),this.previousWatchTimePercentage=p)};g.prototype.triggerPageActionOnVideoEndEvent=function(p,k){this.hasVideoEnded=!0;p=this.createVideoOverrideValues("AT",k);this.callPageActionEvent(p)};g.prototype.callPageActionEvent=function(p){p&&window.awa&&window.awa.ct&&"function"===typeof window.awa.ct.captureContentPageAction&&
window.awa.ct.captureContentPageAction(p)};g.prototype.disposeVideoPlayer=function(){this.videoPlayer&&this.videoPlayer.dispose&&this.videoPlayer.dispose()};return g}();l.VideoPlayerModule=z});(function(z){function l(p){S(["standalone-apis/oneplayer-inline"],function(k){k&&k.OnePlayerInline&&(z.player||(z.player=new k.OnePlayerInline),z.updatePlayerSource||(z.updatePlayerSource=g),p())})}function m(p,k,f){S(["standalone-apis/oneplayer-inline"],function(e){e&&e.OnePlayerInline&&l(function(){z.player.render(p,
k,f)})})}function g(p){S(["standalone-apis/oneplayer-inline"],function(k){k&&k.OnePlayerInline&&z.player.updatePlayerSource(p)})}z.render||(z.render=m)})(window.MsOnePlayer||(window.MsOnePlayer={}));K("standalone-apis/oneplayer-inline",["require","exports","video-player/video-player","mwf/utilities/htmlExtensions","mwf/utilities/componentFactory"],function(z,l,m,g,p){Object.defineProperty(l,"__esModule",{value:!0});l.OnePlayerInline=void 0;z=function(){function k(){}k.prototype.render=function(f,
e,b){var c=this;if(f=document.getElementById(f)){this.playerData=e;var a=document.createElement("div");g.addClass(a,"c-video-player");a.setAttribute("data-player-data",JSON.stringify({options:{autoload:!1,adsEnabled:!1}}));f.appendChild(a);p.ComponentFactory.create([{component:m.VideoPlayer,elements:[a],callback:function(d){d&&d.length&&1===d.length&&(c.playerObject=d[0],c.playerObject.load(e),c.onPlayerCreated(c.playerObject,b))}}])}};k.prototype.onPlayerCreated=function(f,e){var b=this;f.currentPlayer?
e&&e(f):setTimeout(function(){b.onPlayerCreated(f,e)},50)};k.prototype.updatePlayerSource=function(f){this.playerData=f;this.playerObject.updatePlayerSource(this.playerData)};return k}();l.OnePlayerInline=z});K("utilities/generate-id",["require","exports"],function(z,l){Object.defineProperty(l,"__esModule",{value:!0});l.uid=void 0;l.uid=function(){var m=new Uint32Array(3);window.crypto.getRandomValues(m);return(performance.now().toString(36)+Array.from(m).map(function(g){return g.toString(36)}).join("")).replace(/\./g,
"")}});K("video-dialog/video-dialog-initialize","require exports mwf/utilities/componentFactory mwf/dialog/dialog constants/events constants/enums constants/class-names constants/attributes standalone-apis/oneplayer-initialize constants/dom-selectors utilities/generate-id mwf/utilities/htmlExtensions".split(" "),function(z,l,m,g,p,k,f,e,b,c,a,d){Object.defineProperty(l,"__esModule",{value:!0});l.videoDialogInitialize=void 0;l.videoDialogInitialize=function(r){var t=[];r&&r.length&&(r.forEach(function(v){var y=
v.querySelector(c.VideoDialogSelectors.DIALOG);if(y){var B=""+k.VideoPlayerIdPrefix.DIALOG+a.uid();y.id=B;v.querySelector(c.VideoDialogSelectors.DIALOG_BUTTON).setAttribute("data-js-dialog-show",B);t.push(y)}}),m.ComponentFactory.create([{c:g.Dialog,elements:t,callback:function(v){var y,B;v&&v.length&&Array.prototype.forEach.call(v,function(F){var E=F.element.querySelector(c.VideoSelectors.VIDEO_PLAYER_CTN);F.subscribe({onShown:function(){E&&window&&window.MsOnePlayer&&"true"!==E.dataset.isInitialized&&
(y=new b.VideoPlayerModule(E),E.dataset.isInitialized="true",B=new h(F.element),B.hideSiblingsFromScreenReader());F.update()},onHidden:function(){y.videoPlayer&&y.videoPlayer.dispose&&y.videoPlayer.dispose();if(E){for(E.dataset.isInitialized=!1;E.firstChild;)E.removeChild(E.lastChild);B.removeMWFDialogAttributeFromSiblings()}}})})},eventToBind:p.Events.DOM_CONTENT_LOADED}]))};var h=function(){function r(t){this.hideSiblingsFromScreenReader=this.hideSiblingsFromScreenReader.bind(this);this.getSiblings=
this.getSiblings.bind(this);t&&(this.videoDialog=t,this.dialogSiblings=this.getSiblings(this.videoDialog))}r.prototype.hideSiblingsFromScreenReader=function(){this.dialogSiblings&&(this.dialogSiblingsHiddenFromSR=this.dialogSiblings.filter(function(t){console.log(t);if("true"!==t.getAttribute(k.Attributes.ARIA_HIDDEN))return d.addAttribute(t,[e.MWFJsControlledBy,e.AriaHiddenTrue]),t}))};r.prototype.removeMWFDialogAttributeFromSiblings=function(){this.dialogSiblingsHiddenFromSR&&this.dialogSiblingsHiddenFromSR.forEach(function(t){t.removeAttribute("data-js-controlledby");
t.classList.contains(f.VideoClassNames.VIDEO_DIALOG)||t.classList.contains(f.VideoClassNames.VIDEO_DIALOG_MWF)||t.removeAttribute(k.Attributes.ARIA_HIDDEN)})};r.prototype.getSiblings=function(t){for(var v=[],y=t.parentNode.firstChild;y;y=y.nextSibling)1===y.nodeType&&y!==t&&"SCRIPT"!==y.nodeName&&"NOSCRIPT"!==y.nodeName&&"STYLE"!==y.nodeName&&v.push(y);return v};return r}()});K("video-inline/video-inline-initialize","require exports constants/dom-selectors constants/class-names standalone-apis/oneplayer-initialize constants/enums utilities/generate-id mwf/utilities/htmlExtensions".split(" "),
function(z,l,m,g,p,k,f,e){Object.defineProperty(l,"__esModule",{value:!0});l.videoInlineInitializeRT=l.videoInlineInitialize=void 0;l.videoInlineInitialize=function(b){b&&b.length&&b.forEach(function(c){if(c=c.querySelector(m.VideoSelectors.VIDEO_PLAYER_CTN)){var a=""+k.VideoPlayerIdPrefix.INLINE+f.uid();c.id=a;window&&window.MsOnePlayer&&"true"!==c.dataset.isInitialized&&(new p.VideoPlayerModule(c),c.dataset.isInitialized="true")}})};l.videoInlineInitializeRT=function(b){if(b&&b.length){var c;b.forEach(function(a){e.hasClass(a,
g.VideoClassNames.VIDEO_PLAYER_CTN)&&(c=a);c&&(a=""+k.VideoPlayerIdPrefix.INLINE+f.uid(),c.id=a,window&&window.MsOnePlayer&&"true"!==c.dataset.isInitialized&&(new p.VideoPlayerModule(c),c.dataset.isInitialized="true"))})}}});K("video-initialize/video-initialize","require exports constants/dom-selectors constants/class-names constants/enums mwf/utilities/htmlExtensions video-inline/video-inline-initialize video-dialog/video-dialog-initialize".split(" "),function(z,l,m,g,p,k,f,e){Object.defineProperty(l,
"__esModule",{value:!0});l.VideoInitialize=void 0;z=function(){return function(){var b=this;this.getVideoContainersByType=function(h){k.htmlCollectionToArray(h).forEach(function(r){var t=r.dataset.videoType;if(t)switch(t.toLowerCase()){case p.VideoType.INLINE:b.videoInlineContainers.push(r);break;case p.VideoType.DIALOG:b.videoDialogContainers.push(r)}else r.querySelector(m.VideoDialogSelectors.DIALOG)?b.videoDialogContainers.push(r):r.dataset.video&&(t=r.parentElement.getAttribute("role"),k.hasClass(r,
g.VideoClassNames.VIDEO_PLAYER_CTN)&&"dialog"!==t&&b.videoInlineContainersRT.push(r))})};var c=document.querySelectorAll(m.VideoSelectors.VIDEO_CTN),a=document.querySelectorAll(m.VideoSelectors.VIDEO_CTN_RT),d=document.querySelectorAll(m.VideoSelectors.VIDEO_PLAYER_CTN_RT);if(c||a)this.videoInlineContainers=[],this.videoDialogContainers=[],this.getVideoContainersByType(c),this.getVideoContainersByType(a),this.videoInlineContainers.length&&f.videoInlineInitialize(this.videoInlineContainers),this.videoDialogContainers.length&&
e.videoDialogInitialize(this.videoDialogContainers);d&&(this.videoInlineContainersRT=[],this.getVideoContainersByType(d),this.videoInlineContainersRT.length&&f.videoInlineInitializeRT(this.videoInlineContainersRT))}}();l.VideoInitialize=z});S(["video-initialize/video-initialize"],function(z){z&&z.VideoInitialize&&("complete"===document.readyState||"interactive"===document.readyState?new z.VideoInitialize:document.addEventListener("DOMContentLoaded",new z.VideoInitialize,!1))});S(["video-player/video-player",
"mwf/utilities/componentFactory"],function(z,l){l.ComponentFactory&&l.ComponentFactory.create&&l.ComponentFactory.create([{component:z.VideoPlayer}])})})();